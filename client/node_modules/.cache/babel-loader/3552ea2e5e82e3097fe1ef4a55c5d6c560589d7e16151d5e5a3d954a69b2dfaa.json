{"ast":null,"code":"import React,{useState,useCallback}from'react';import{BrowserRouter as Router,Routes,Route,useNavigate}from'react-router-dom';import{ThemeProvider}from'./contexts/ThemeContext';import{LazySocketProvider}from'./contexts/LazySocketContext';import{NotificationProvider}from'./contexts/NotificationContext';// Import NotificationProvider\nimport Notification from'./components/Notification';// Import Notification component\nimport Header from'./components/Header';import HomePage from'./pages/HomePage';// GameBuddiesReturnHandler removed - using simpler URL-based return flow\nimport DebugPanel from'./components/DebugPanel';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AppContent(){const[isInLobby,setIsInLobby]=useState(false);const[lobbyLeaveFn,setLobbyLeaveFn]=useState(null);const navigate=useNavigate();console.log('ðŸ  [APP DEBUG] App component rendering:',{timestamp:new Date().toISOString(),location:window.location.href,isInLobby});const handleNavigateHome=useCallback(()=>{if(isInLobby&&lobbyLeaveFn){lobbyLeaveFn();// Scroll to top after leaving lobby\nsetTimeout(()=>{window.scrollTo({top:0,behavior:'smooth'});},100);}else{navigate('/',{replace:true});// Scroll to top\nwindow.scrollTo({top:0,behavior:'smooth'});}},[isInLobby,lobbyLeaveFn,navigate]);const handleNavigateGames=useCallback(()=>{if(isInLobby&&lobbyLeaveFn){lobbyLeaveFn();// After leaving lobby, scroll to games section\nsetTimeout(()=>{const gamesSection=document.getElementById('games-section');if(gamesSection){gamesSection.scrollIntoView({behavior:'smooth'});}},100);}else{// Already on homepage, just scroll to games\nconst gamesSection=document.getElementById('games-section');if(gamesSection){gamesSection.scrollIntoView({behavior:'smooth'});}}},[isInLobby,lobbyLeaveFn]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{onNavigateHome:handleNavigateHome,onNavigateGames:handleNavigateGames,isInLobby:isInLobby}),/*#__PURE__*/_jsx(Notification,{}),\" \",/*#__PURE__*/_jsx(DebugPanel,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{setIsInLobby:setIsInLobby,setLobbyLeaveFn:setLobbyLeaveFn})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(HomePage,{setIsInLobby:setIsInLobby,setLobbyLeaveFn:setLobbyLeaveFn})})]})]});}function App(){return/*#__PURE__*/_jsx(ThemeProvider,{children:/*#__PURE__*/_jsx(LazySocketProvider,{children:/*#__PURE__*/_jsxs(NotificationProvider,{children:[\" \",/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(AppContent,{})})]})})});}export default App;","map":{"version":3,"names":["React","useState","useCallback","BrowserRouter","Router","Routes","Route","useNavigate","ThemeProvider","LazySocketProvider","NotificationProvider","Notification","Header","HomePage","DebugPanel","jsx","_jsx","jsxs","_jsxs","AppContent","isInLobby","setIsInLobby","lobbyLeaveFn","setLobbyLeaveFn","navigate","console","log","timestamp","Date","toISOString","location","window","href","handleNavigateHome","setTimeout","scrollTo","top","behavior","replace","handleNavigateGames","gamesSection","document","getElementById","scrollIntoView","className","children","onNavigateHome","onNavigateGames","path","element","App"],"sources":["C:/Gamebuddies2/gamebuddies/Gamebuddies.Io/client/src/App.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, useNavigate } from 'react-router-dom';\r\nimport { ThemeProvider } from './contexts/ThemeContext';\r\nimport { LazySocketProvider } from './contexts/LazySocketContext';\r\nimport { NotificationProvider } from './contexts/NotificationContext'; // Import NotificationProvider\r\nimport Notification from './components/Notification'; // Import Notification component\r\nimport Header from './components/Header';\r\nimport HomePage from './pages/HomePage';\r\n// GameBuddiesReturnHandler removed - using simpler URL-based return flow\r\nimport DebugPanel from './components/DebugPanel';\r\nimport './App.css';\r\n\r\nfunction AppContent() {\r\n  const [isInLobby, setIsInLobby] = useState(false);\r\n  const [lobbyLeaveFn, setLobbyLeaveFn] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  console.log('ðŸ  [APP DEBUG] App component rendering:', {\r\n    timestamp: new Date().toISOString(),\r\n    location: window.location.href,\r\n    isInLobby\r\n  });\r\n\r\n  const handleNavigateHome = useCallback(() => {\r\n    if (isInLobby && lobbyLeaveFn) {\r\n      lobbyLeaveFn();\r\n      // Scroll to top after leaving lobby\r\n      setTimeout(() => {\r\n        window.scrollTo({ top: 0, behavior: 'smooth' });\r\n      }, 100);\r\n    } else {\r\n      navigate('/', { replace: true });\r\n      // Scroll to top\r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    }\r\n  }, [isInLobby, lobbyLeaveFn, navigate]);\r\n\r\n  const handleNavigateGames = useCallback(() => {\r\n    if (isInLobby && lobbyLeaveFn) {\r\n      lobbyLeaveFn();\r\n      // After leaving lobby, scroll to games section\r\n      setTimeout(() => {\r\n        const gamesSection = document.getElementById('games-section');\r\n        if (gamesSection) {\r\n          gamesSection.scrollIntoView({ behavior: 'smooth' });\r\n        }\r\n      }, 100);\r\n    } else {\r\n      // Already on homepage, just scroll to games\r\n      const gamesSection = document.getElementById('games-section');\r\n      if (gamesSection) {\r\n        gamesSection.scrollIntoView({ behavior: 'smooth' });\r\n      }\r\n    }\r\n  }, [isInLobby, lobbyLeaveFn]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Header \r\n        onNavigateHome={handleNavigateHome}\r\n        onNavigateGames={handleNavigateGames}\r\n        isInLobby={isInLobby}\r\n      />\r\n      <Notification /> {/* Display Notification component here */}\r\n      <DebugPanel />\r\n      <Routes>\r\n        <Route \r\n          path=\"/\" \r\n          element={\r\n            <HomePage \r\n              setIsInLobby={setIsInLobby}\r\n              setLobbyLeaveFn={setLobbyLeaveFn}\r\n            />\r\n          } \r\n        />\r\n        <Route \r\n          path=\"/*\" \r\n          element={\r\n            <HomePage \r\n              setIsInLobby={setIsInLobby}\r\n              setLobbyLeaveFn={setLobbyLeaveFn}\r\n            />\r\n          } \r\n        />\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <ThemeProvider>\r\n      <LazySocketProvider>\r\n        <NotificationProvider> {/* Wrap with NotificationProvider */}\r\n          <Router>\r\n            <AppContent />\r\n          </Router>\r\n        </NotificationProvider>\r\n      </LazySocketProvider>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
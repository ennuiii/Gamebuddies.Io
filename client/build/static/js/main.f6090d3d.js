/*! For license information please see main.f6090d3d.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),s=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,j={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var s,o={},i=null,a=null;if(null!=t)for(s in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)S.call(t,s)&&!k.hasOwnProperty(s)&&(o[s]=t[s]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===o[s]&&(o[s]=l[s]);return{$$typeof:n,type:e,key:i,ref:a,props:o,_owner:j.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,s,o,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===o?"."+T(l,0):o,x(i)?(s="",null!=e&&(s=e.replace(C,"$&/")+"/"),P(i,t,s,"",(function(e){return e}))):null!=i&&(E(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+T(a=e[c],c);l+=P(a,t,s,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=P(a=a.value,t,s,u=o+T(a,c++),i);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],s=0;return P(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},L={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:j};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),o=e.key,i=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,a=j.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:o,ref:i,props:s,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},210:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(829)),o=r(n(736)),i=n(745);class a{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new s.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:s=!1,count:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=new URL("".concat(this.url,"/rpc/").concat(e));let l;r||s?(t=r?"HEAD":"GET",Object.entries(n).filter((e=>{let[t,n]=e;return void 0!==n})).map((e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]})).forEach((e=>{let[t,n]=e;a.searchParams.append(t,n)}))):(t="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer="count=".concat(i)),new o.default({method:t,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=a},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<o(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<s&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<s&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(S);else{var t=r(u);null!==t&&L(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(E),E=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var a=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&s(c),w(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&L(x,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,k=!1,_=null,E=-1,C=5,T=-1;function P(){return!(t.unstable_now()-T<C)}function N(){if(null!==_){var e=t.unstable_now();T=e;var n=!0;try{n=_(!0,e)}finally{n?j():(k=!1,_=null)}}else k=!1}if("function"===typeof b)j=function(){b(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,A=R.port2;R.port1.onmessage=N,j=function(){A.postMessage(null)}}else j=function(){v(N,0)};function O(e){_=e,k||(k=!0,j())}function L(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>i?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(E),E=-1):g=!0,L(x,o-i))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(S))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},286:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(630)),o=r(n(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let s=null,i=null,a=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),o=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&o&&o.length>1&&(a=parseInt(o[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(s={code:"PGRST116",details:"Results contain ".concat(i.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,a=null,l=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(i=[],s=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(r=null===s||void 0===s?void 0:s.details)||void 0===r?void 0:r.includes("0 rows"))&&(s=null,l=200,c="OK"),s&&this.shouldThrowOnError)throw new o.default(s)}return{error:s,data:i,count:a,status:l,statusText:c}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},374:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(286));class o extends s.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=s?"".concat(s,".order"):"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s="undefined"===typeof r?"offset":"".concat(r,".offset"),o="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(s,"".concat(e)),this.url.searchParams.set(o,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:o="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(o,'; for="').concat(l,'"; options=').concat(a,";"),this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=o},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},400:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},579:(e,t,n)=>{e.exports=n(153)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>i,Request:()=>a,Response:()=>l,default:()=>o,fetch:()=>s});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const s=r.fetch,o=r.fetch.bind(r),i=r.Headers,a=r.Request,l=r.Response},730:(e,t,n)=>{var r=n(43),s=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,s,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var U,D=Object.assign;function B(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var M=!1;function F(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),o=r.stack.split("\n"),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(1!==i||1!==a)do{if(i--,0>--a||s[i]!==o[a]){var l="\n"+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=a);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function z(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case S:return"Portal";case _:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Q(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,je=null,ke=null;function _e(e){if(e=bs(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=xs(t),Se(e.stateNode,e.type,t))}}function Ee(e){je?ke?ke.push(e):ke=[e]:je=e}function Ce(){if(je){var e=je,t=ke;if(ke=je=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Te(e,t){return e(t)}function Pe(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==je||null!==ke)&&(Pe(),Ce())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=xs(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Oe=!1}function Ie(e,t,n,r,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ue=!1,De=null,Be=!1,Me=null,Fe={onError:function(e){Ue=!0,De=e}};function ze(e,t,n,r,s,o,i,a,l){Ue=!1,De=null,Ie.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ve(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ge(s),e;if(i===r)return Ge(s),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=s.unstable_scheduleCallback,Je=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,$e=s.unstable_requestPaint,Qe=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var a=i&~s;0!==a?r=dt(a):0!==(o&=i)&&(r=dt(o))}else 0!==(i=n&~s)?r=dt(i):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(o=t&-t)||16===s&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-it(t)),r|=e[n],t&=~s;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,jt,kt,_t,Et=!1,Ct=[],Tt=null,Pt=null,Nt=null,Rt=new Map,At=new Map,Ot=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Ut(e,t,n,r,s,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Dt(e){var t=ys(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void _t(e.priority,(function(){jt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Mt(e,t,n){Bt(e)&&n.delete(t)}function Ft(){Et=!1,null!==Tt&&Bt(Tt)&&(Tt=null),null!==Pt&&Bt(Pt)&&(Pt=null),null!==Nt&&Bt(Nt)&&(Nt=null),Rt.forEach(Mt),At.forEach(Mt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ft)))}function Vt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Pt&&zt(Pt,e),null!==Nt&&zt(Nt,e),Rt.forEach(t),At.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Dt(n),null===n.blockedOn&&Ot.shift()}var Ht=w.ReactCurrentBatchConfig,Gt=!0;function qt(e,t,n,r){var s=bt,o=Ht.transition;Ht.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=s,Ht.transition=o}}function Wt(e,t,n,r){var s=bt,o=Ht.transition;Ht.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=s,Ht.transition=o}}function Kt(e,t,n,r){if(Gt){var s=Yt(e,t,n,r);if(null===s)Gr(e,t,r,Jt,n),It(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Tt=Ut(Tt,e,t,n,r,s),!0;case"dragenter":return Pt=Ut(Pt,e,t,n,r,s),!0;case"mouseover":return Nt=Ut(Nt,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Rt.set(o,Ut(Rt.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,At.set(o,Ut(At.get(o)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==s;){var o=bs(s);if(null!==o&&xt(o),null===(o=Yt(e,t,n,r))&&Gr(e,t,r,Jt,n),o===s)break;s=o}null!==s&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Jt=null;function Yt(e,t,n,r){if(Jt=null,null!==(e=ys(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,s="value"in Qt?Qt.value:Qt.textContent,o=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[o-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=D({},cn,{view:0,detail:0}),hn=sn(dn),fn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(D({},fn,{dataTransfer:0})),gn=sn(D({},dn,{relatedTarget:0})),vn=sn(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(D({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function _n(){return kn}var En=D({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(En),Tn=sn(D({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Nn=sn(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=D({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(Rn),On=[9,13,27,32],Ln=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Un=u&&"TextEvent"in window&&!In,Dn=u&&(!Ln||In&&8<In&&11>=In),Bn=String.fromCharCode(32),Mn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Jn(e){Br(e,0)}function Yn(e){if(K(ws(e)))return e}function $n(e,t){if("change"===e)return t}var Qn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Qn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];qn(t,Kn,e,xe(e)),Re(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function or(e,t){if("click"===e)return Yn(t)}function ir(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!ar(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=void 0===r.end?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=ur(n,o);var i=ur(n,r);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},jr={},kr={};function _r(e){if(jr[e])return jr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return jr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Er=_r("animationend"),Cr=_r("animationiteration"),Tr=_r("animationstart"),Pr=_r("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Nr.set(e,t),l(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Lr=Rr[Or];Ar(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Ar(Er,"onAnimationEnd"),Ar(Cr,"onAnimationIteration"),Ar(Tr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ur=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,i,a,l,c){if(ze.apply(this,arguments),Ue){if(!Ue)throw Error(o(198));var u=De;Ue=!1,De=null,Be||(Be=!0,Me=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Dr(s,a,c),o=l}else for(i=0;i<r.length;i++){if(l=(a=r[i]).instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Dr(s,a,c),o=l}}}if(Be)throw e=Me,Be=!1,Me=null,e}function Mr(e,t){var n=t[ms];void 0===n&&(n=t[ms]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,i.forEach((function(t){"selectionchange"!==t&&(Ur.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Fr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch($t(t)){case 1:var s=qt;break;case 4:s=Wt;break;default:s=Kt}n=s.bind(null,t,n,e),s=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,s){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var a=r.stateNode.containerInfo;if(a===s||8===a.nodeType&&a.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==a;){if(null===(i=ys(a)))return;if(5===(l=i.tag)||6===l){r=o=i;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=o,s=xe(n),i=[];e:{var a=Nr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Er:case Cr:case Tr:l=vn;break;case Pr:l=Nn;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(qr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,s),i.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!ys(c)&&!c[ps])&&(l||a)&&(a=s.window===s?s:(a=s.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ys(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:ws(l),f=null==c?a:ws(c),(a=new u(m,p+"leave",l,n,s)).target=d,a.relatedTarget=f,m=null,ys(s)===r&&((u=new u(h,p+"enter",c,n,s)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Jr(i,a,l,u,!1),null!==c&&null!==d&&Jr(i,d,c,u,!0)}if("select"===(l=(a=r?ws(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$n;else if(Gn(a))if(Qn)g=ir;else{g=sr;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?qn(i,g,n,s):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?ws(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(i,n,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(i,n,s)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Xt="value"in(Qt=s)?Qt.value:Qt.textContent,Vn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,s),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Un?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Mn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Ln&&Fn(e,t)?(e=en(),Zt=Xt=Qt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(s=new wn("onBeforeInput","beforeinput",null,n,s),i.push({event:s,listeners:r}),s.data=y))}Br(i,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,o=s.stateNode;5===s.tag&&null!==o&&(s=o,null!=(o=Ae(e,n))&&r.unshift(qr(e,o,s)),null!=(o=Ae(e,t))&&r.push(qr(e,o,s))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,s){for(var o=t._reactName,i=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,s?null!=(l=Ae(n,o))&&i.unshift(qr(n,l,a)):s||null!=(l=Ae(n,o))&&i.push(qr(n,l,a))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function Zr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,os="function"===typeof Promise?Promise:void 0,is="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof os?function(e){return os.resolve(null).then(e).catch(as)}:rs;function as(e){setTimeout((function(){throw e}))}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Vt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),hs="__reactFiber$"+ds,fs="__reactProps$"+ds,ps="__reactContainer$"+ds,ms="__reactEvents$"+ds,gs="__reactListeners$"+ds,vs="__reactHandles$"+ds;function ys(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[hs])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[hs]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ws(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xs(e){return e[fs]||null}var Ss=[],js=-1;function ks(e){return{current:e}}function _s(e){0>js||(e.current=Ss[js],Ss[js]=null,js--)}function Es(e,t){js++,Ss[js]=e.current,e.current=t}var Cs={},Ts=ks(Cs),Ps=ks(!1),Ns=Cs;function Rs(e,t){var n=e.type.contextTypes;if(!n)return Cs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,o={};for(s in n)o[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function As(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Os(){_s(Ps),_s(Ts)}function Ls(e,t,n){if(Ts.current!==Cs)throw Error(o(168));Es(Ts,t),Es(Ps,n)}function Is(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(o(108,H(e)||"Unknown",s));return D({},n,r)}function Us(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,Ns=Ts.current,Es(Ts,e),Es(Ps,Ps.current),!0}function Ds(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Is(e,t,Ns),r.__reactInternalMemoizedMergedChildContext=e,_s(Ps),_s(Ts),Es(Ts,e)):_s(Ps),Es(Ps,n)}var Bs=null,Ms=!1,Fs=!1;function zs(e){null===Bs?Bs=[e]:Bs.push(e)}function Vs(){if(!Fs&&null!==Bs){Fs=!0;var e=0,t=bt;try{var n=Bs;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bs=null,Ms=!1}catch(s){throw null!==Bs&&(Bs=Bs.slice(e+1)),Ke(Ze,Vs),s}finally{bt=t,Fs=!1}}return null}var Hs=[],Gs=0,qs=null,Ws=0,Ks=[],Js=0,Ys=null,$s=1,Qs="";function Xs(e,t){Hs[Gs++]=Ws,Hs[Gs++]=qs,qs=e,Ws=t}function Zs(e,t,n){Ks[Js++]=$s,Ks[Js++]=Qs,Ks[Js++]=Ys,Ys=e;var r=$s;e=Qs;var s=32-it(r)-1;r&=~(1<<s),n+=1;var o=32-it(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,$s=1<<32-it(t)+s|n<<s|r,Qs=o+e}else $s=1<<o|n<<s|r,Qs=e}function eo(e){null!==e.return&&(Xs(e,1),Zs(e,1,0))}function to(e){for(;e===qs;)qs=Hs[--Gs],Hs[Gs]=null,Ws=Hs[--Gs],Hs[Gs]=null;for(;e===Ys;)Ys=Ks[--Js],Ks[Js]=null,Qs=Ks[--Js],Ks[Js]=null,$s=Ks[--Js],Ks[Js]=null}var no=null,ro=null,so=!1,oo=null;function io(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ys?{id:$s,overflow:Qs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(so){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=cs(n.nextSibling);var r=no;t&&ao(e,t)?io(r,n):(e.flags=-4097&e.flags|2,so=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,so=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!so)return uo(e),so=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)io(e,t),t=cs(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?cs(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=cs(e.nextSibling)}function po(){ro=no=null,so=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var s=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=s.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===j?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&bo(o)===t.type)?((r=s(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,o)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case S:return(t=Bc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Ic(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===s?c(e,t,n,r):null;case S:return n.key===s?u(e,t,n,r):null;case A:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||I(n))return null!==s?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case A:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,s,null);yo(t,r)}return null}function m(s,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(s,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(s,d),o=i(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(s,d),so&&Xs(s,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(s,a[m],l))&&(o=i(d,o,m),null===u?c=d:u.sibling=d,u=d);return so&&Xs(s,m),c}for(d=r(s,d);m<a.length;m++)null!==(g=p(d,s,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=i(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(s,e)})),so&&Xs(s,m),c}function g(s,a,l,c){var u=I(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(s,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(s,m),a=i(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(s,m),so&&Xs(s,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(s,y.value,c))&&(a=i(y,a,g),null===d?u=y:d.sibling=y,d=y);return so&&Xs(s,g),u}for(m=r(s,m);!y.done;g++,y=l.next())null!==(y=p(m,s,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=i(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(s,e)})),so&&Xs(s,g),u}return function e(r,o,i,l){if("object"===typeof i&&null!==i&&i.type===j&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case x:e:{for(var c=i.key,u=o;null!==u;){if(u.key===c){if((c=i.type)===j){if(7===u.tag){n(r,u.sibling),(o=s(u,i.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&bo(c)===u.type){n(r,u.sibling),(o=s(u,i.props)).ref=vo(r,u,i),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===j?((o=Ic(i.props.children,r.mode,l,i.key)).return=r,r=o):((l=Lc(i.type,i.key,i.props,null,r.mode,l)).ref=vo(r,o,i),l.return=r,r=l)}return a(r);case S:e:{for(u=i.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=s(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bc(i,r.mode,l)).return=r,r=o}return a(r);case A:return e(r,o,(u=i._init)(i._payload),l)}if(te(i))return m(r,o,i,l);if(I(i))return g(r,o,i,l);yo(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=s(o,i)).return=r,r=o):(n(r,o),(o=Dc(i,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var xo=wo(!0),So=wo(!1),jo=ks(null),ko=null,_o=null,Eo=null;function Co(){Eo=_o=ko=null}function To(e){var t=jo.current;_s(jo),e._currentValue=t}function Po(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function No(e,t){ko=e,Eo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ro(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===ko)throw Error(o(308));_o=e,ko.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Ao=null;function Oo(e){null===Ao?Ao=[e]:Ao.push(e)}function Lo(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Oo(t)):(n.next=s.next,s.next=n),t.interleaved=n,Io(e,r)}function Io(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Uo=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Io(e,n)}return null===(s=r.interleaved)?(t.next=t,Oo(r)):(t.next=s.next,s.next=t),r.interleaved=t,Io(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Vo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?s=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?s=o=t:o=o.next=t}else s=o=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var s=e.updateQueue;Uo=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(null!==a){s.shared.pending=null;var l=a,c=l.next;l.next=null,null===i?o=c:i.next=c,i=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=s.baseState;for(i=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=D({},d,h);break e;case 2:Uo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=h;if(null===(a=a.next)){if(null===(a=s.shared.pending))break;a=(h=a).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===o&&(s.shared.lanes=0);Ul|=i,e.lanes=i,e.memoizedState=d}}function Go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(o(191,s));s.call(r)}}}var qo={},Wo=ks(qo),Ko=ks(qo),Jo=ks(qo);function Yo(e){if(e===qo)throw Error(o(174));return e}function $o(e,t){switch(Es(Jo,t),Es(Ko,e),Es(Wo,qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_s(Wo),Es(Wo,t)}function Qo(){_s(Wo),_s(Ko),_s(Jo)}function Xo(e){Yo(Jo.current);var t=Yo(Wo.current),n=le(t,e.type);t!==n&&(Es(Ko,e),Es(Wo,n))}function Zo(e){Ko.current===e&&(_s(Wo),_s(Ko))}var ei=ks(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function ri(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var si=w.ReactCurrentDispatcher,oi=w.ReactCurrentBatchConfig,ii=0,ai=null,li=null,ci=null,ui=!1,di=!1,hi=0,fi=0;function pi(){throw Error(o(321))}function mi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gi(e,t,n,r,s,i){if(ii=i,ai=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,si.current=null===e||null===e.memoizedState?Zi:ea,e=n(r,s),di){i=0;do{if(di=!1,hi=0,25<=i)throw Error(o(301));i+=1,ci=li=null,t.updateQueue=null,si.current=ta,e=n(r,s)}while(di)}if(si.current=Xi,t=null!==li&&null!==li.next,ii=0,ci=li=ai=null,ui=!1,t)throw Error(o(300));return e}function vi(){var e=0!==hi;return hi=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?ai.memoizedState=ci=e:ci=ci.next=e,ci}function bi(){if(null===li){var e=ai.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===ci?ai.memoizedState:ci.next;if(null!==t)ci=t,li=e;else{if(null===e)throw Error(o(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===ci?ai.memoizedState=ci=e:ci=ci.next=e}return ci}function wi(e,t){return"function"===typeof t?t(e):t}function xi(e){var t=bi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=li,s=r.baseQueue,i=n.pending;if(null!==i){if(null!==s){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(null!==s){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((ii&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,ai.lanes|=d,Ul|=d}u=u.next}while(null!==u&&u!==i);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{i=s.lane,ai.lanes|=i,Ul|=i,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Si(e){var t=bi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var a=s=s.next;do{i=e(i,a.action),a=a.next}while(a!==s);ar(i,t.memoizedState)||(ba=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ji(){}function ki(e,t){var n=ai,r=bi(),s=t(),i=!ar(r.memoizedState,s);if(i&&(r.memoizedState=s,ba=!0),r=r.queue,Ui(Ci.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==ci&&1&ci.memoizedState.tag){if(n.flags|=2048,Ri(9,Ei.bind(null,n,r,s,t),void 0,null),null===Pl)throw Error(o(349));0!==(30&ii)||_i(n,t,s)}return s}function _i(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ai.updateQueue)?(t={lastEffect:null,stores:null},ai.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ei(e,t,n,r){t.value=n,t.getSnapshot=r,Ti(t)&&Pi(e)}function Ci(e,t,n){return n((function(){Ti(t)&&Pi(e)}))}function Ti(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Pi(e){var t=Io(e,1);null!==t&&nc(t,e,1,-1)}function Ni(e){var t=yi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ji.bind(null,ai,e),[t.memoizedState,e]}function Ri(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ai.updateQueue)?(t={lastEffect:null,stores:null},ai.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ai(){return bi().memoizedState}function Oi(e,t,n,r){var s=yi();ai.flags|=e,s.memoizedState=Ri(1|t,n,void 0,void 0===r?null:r)}function Li(e,t,n,r){var s=bi();r=void 0===r?null:r;var o=void 0;if(null!==li){var i=li.memoizedState;if(o=i.destroy,null!==r&&mi(r,i.deps))return void(s.memoizedState=Ri(t,n,o,r))}ai.flags|=e,s.memoizedState=Ri(1|t,n,o,r)}function Ii(e,t){return Oi(8390656,8,e,t)}function Ui(e,t){return Li(2048,8,e,t)}function Di(e,t){return Li(4,2,e,t)}function Bi(e,t){return Li(4,4,e,t)}function Mi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Li(4,4,Mi.bind(null,t,e),n)}function zi(){}function Vi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Gi(e,t,n){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ai.lanes|=n,Ul|=n,e.baseState=!0),t)}function qi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oi.transition;oi.transition={};try{e(!1),t()}finally{bt=n,oi.transition=r}}function Wi(){return bi().memoizedState}function Ki(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yi(e))$i(t,n);else if(null!==(n=Lo(e,t,n,r))){nc(n,e,r,ec()),Qi(n,t,r)}}function Ji(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yi(e))$i(t,s);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,ar(a,i)){var l=t.interleaved;return null===l?(s.next=s,Oo(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Lo(e,t,s,r))&&(nc(n,e,r,s=ec()),Qi(n,t,r))}}function Yi(e){var t=e.alternate;return e===ai||null!==t&&t===ai}function $i(e,t){di=ui=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xi={readContext:Ro,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Zi={readContext:Ro,useCallback:function(e,t){return yi().memoizedState=[e,void 0===t?null:t],e},useContext:Ro,useEffect:Ii,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oi(4194308,4,Mi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oi(4,2,e,t)},useMemo:function(e,t){var n=yi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ki.bind(null,ai,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yi().memoizedState=e},useState:Ni,useDebugValue:zi,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=Ni(!1),t=e[0];return e=qi.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ai,s=yi();if(so){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pl)throw Error(o(349));0!==(30&ii)||_i(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ii(Ci.bind(null,r,i,e),[e]),r.flags|=2048,Ri(9,Ei.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=yi(),t=Pl.identifierPrefix;if(so){var n=Qs;t=":"+t+"R"+(n=($s&~(1<<32-it($s)-1)).toString(32)+n),0<(n=hi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ro,useCallback:Vi,useContext:Ro,useEffect:Ui,useImperativeHandle:Fi,useInsertionEffect:Di,useLayoutEffect:Bi,useMemo:Hi,useReducer:xi,useRef:Ai,useState:function(){return xi(wi)},useDebugValue:zi,useDeferredValue:function(e){return Gi(bi(),li.memoizedState,e)},useTransition:function(){return[xi(wi)[0],bi().memoizedState]},useMutableSource:ji,useSyncExternalStore:ki,useId:Wi,unstable_isNewReconciler:!1},ta={readContext:Ro,useCallback:Vi,useContext:Ro,useEffect:Ui,useImperativeHandle:Fi,useInsertionEffect:Di,useLayoutEffect:Bi,useMemo:Hi,useReducer:Si,useRef:Ai,useState:function(){return Si(wi)},useDebugValue:zi,useDeferredValue:function(e){var t=bi();return null===li?t.memoizedState=e:Gi(t,li.memoizedState,e)},useTransition:function(){return[Si(wi)[0],bi().memoizedState]},useMutableSource:ji,useSyncExternalStore:ki,useId:Wi,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),o=Mo(r,s);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Fo(e,o,s))&&(nc(t,e,s,r),zo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),o=Mo(r,s);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Fo(e,o,s))&&(nc(t,e,s,r),zo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=Mo(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Fo(e,s,r))&&(nc(t,e,r,n),zo(t,e,r))}};function oa(e,t,n,r,s,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,o))}function ia(e,t,n){var r=!1,s=Cs,o=t.contextType;return"object"===typeof o&&null!==o?o=Ro(o):(s=As(t)?Ns:Ts.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Rs(e,s):Cs),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Do(e);var o=t.contextType;"object"===typeof o&&null!==o?s.context=Ro(o):(o=As(t)?Ns:Ts.current,s.context=Rs(e,o)),s.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&sa.enqueueReplaceState(s,s.state,null),Ho(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var s=n}catch(o){s="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:s,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Mo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,ql=r),da(0,t)},n}function pa(e,t,n){(n=Mo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mo(-1,1)).tag=2,Fo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?So(t,null,n,r):xo(t,e.child,n,r)}function xa(e,t,n,r,s){n=n.render;var o=t.ref;return No(t,s),r=gi(e,t,n,r,o,s),n=vi(),null===e||ba?(so&&n&&eo(t),t.flags|=1,wa(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ga(e,t,s))}function Sa(e,t,n,r,s){if(null===e){var o=n.type;return"function"!==typeof o||Ac(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ja(e,t,o,r,s))}if(o=e.child,0===(e.lanes&s)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Ga(e,t,s)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function ja(e,t,n,r,s){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&s))return t.lanes=e.lanes,Ga(e,t,s);0!==(131072&e.flags)&&(ba=!0)}}return Ea(e,t,n,r,s)}function ka(e,t,n){var r=t.pendingProps,s=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Es(Ol,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Es(Ol,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Es(Ol,Al),Al|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Es(Ol,Al),Al|=r;return wa(e,t,s,n),t.child}function _a(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,r,s){var o=As(n)?Ns:Ts.current;return o=Rs(t,o),No(t,s),n=gi(e,t,n,r,o,s),r=vi(),null===e||ba?(so&&r&&eo(t),t.flags|=1,wa(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ga(e,t,s))}function Ca(e,t,n,r,s){if(As(n)){var o=!0;Us(t)}else o=!1;if(No(t,s),null===t.stateNode)Ha(e,t),ia(t,n,r),la(t,n,r,s),r=!0;else if(null===e){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ro(c):c=Rs(t,c=As(n)?Ns:Ts.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,i,r,c),Uo=!1;var h=t.memoizedState;i.state=h,Ho(t,r,i,s),l=t.memoizedState,a!==r||h!==l||Ps.current||Uo?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Uo||oa(t,n,a,r,h,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Bo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ro(l):l=Rs(t,l=As(n)?Ns:Ts.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,i,r,l),Uo=!1,h=t.memoizedState,i.state=h,Ho(t,r,i,s);var p=t.memoizedState;a!==d||h!==p||Ps.current||Uo?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Uo||oa(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,o,s)}function Ta(e,t,n,r,s,o){_a(e,t);var i=0!==(128&t.flags);if(!r&&!i)return s&&Ds(t,n,!1),Ga(e,t,o);r=t.stateNode,ya.current=t;var a=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,a,o)):wa(e,t,a,o),t.memoizedState=r.state,s&&Ds(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Ls(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ls(0,t.context,!1),$o(e,t.containerInfo)}function Na(e,t,n,r,s){return po(),mo(s),t.flags|=256,wa(e,t,n,r),t.child}var Ra,Aa,Oa,La,Ia={dehydrated:null,treeContext:null,retryLane:0};function Ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function Da(e,t,n){var r,s=t.pendingProps,i=ei.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Es(ei,1&i),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,a?(s=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Uc(l,s,0,null),e=Ic(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ua(n),t.memoizedState=Ia,e):Ba(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,s,i,a){if(n)return 256&t.flags?(t.flags&=-257,Ma(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Uc({mode:"visible",children:r.children},s,0,null),(i=Ic(i,s,a,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,a),t.child.memoizedState=Ua(a),t.memoizedState=Ia,i);if(0===(1&t.mode))return Ma(e,t,a,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Ma(e,t,a,r=ua(i=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Pl)){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|a))?0:s)&&s!==i.retryLane&&(i.retryLane=s,Io(e,s),nc(r,e,s,-1))}return mc(),Ma(e,t,a,r=ua(Error(o(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ro=cs(s.nextSibling),no=t,so=!0,oo=null,null!==e&&(Ks[Js++]=$s,Ks[Js++]=Qs,Ks[Js++]=Ys,$s=e.id,Qs=e.overflow,Ys=t),t=Ba(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,i,n);if(a){a=s.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==i?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Oc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?a=Oc(r,a):(a=Ic(a,l,n,null)).flags|=2,a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,l=null===(l=e.child.memoizedState)?Ua(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ia,s}return e=(a=e.child).sibling,s=Oc(a,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Ba(e,t){return(t=Uc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ma(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Ba(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Po(e.return,t,n)}function za(e,t,n,r,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Va(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=ei.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fa(e,n,t);else if(19===e.tag)Fa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Es(ei,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),za(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ti(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}za(t,!0,n,null,o);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ga(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ul|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!so)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return As(t.type)&&Os(),Wa(t),null;case 3:return r=t.stateNode,Qo(),_s(Ps),_s(Ts),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ic(oo),oo=null))),Aa(e,t),Wa(t),null;case 5:Zo(t);var s=Yo(Jo.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Wa(t),null}if(e=Yo(Wo.current),ho(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[hs]=t,r[fs]=i,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(s=0;s<Ir.length;s++)Mr(Ir[s],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":$(r,i),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Mr("invalid",r);break;case"textarea":se(r,i),Mr("invalid",r)}for(var l in ye(n,i),s=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Mr("scroll",r)}switch(n){case"input":W(r),Z(r,i,!0);break;case"textarea":W(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hs]=t,e[fs]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),s=r;break;case"iframe":case"object":case"embed":Mr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ir.length;s++)Mr(Ir[s],e);s=r;break;case"source":Mr("error",e),s=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),s=r;break;case"details":Mr("toggle",e),s=r;break;case"input":$(e,r),s=Y(e,r),Mr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=D({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Mr("invalid",e)}for(i in ye(n,s),c=s)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(a.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Mr("scroll",e):null!=u&&b(e,i,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Jo.current),Yo(Wo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return Wa(t),null;case 13:if(_s(ei),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(so&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,i=!1;else if(i=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[hs]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),i=!1}else null!==oo&&(ic(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ei.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return Qo(),Aa(e,t),null===e&&Vr(t.stateNode.containerInfo),Wa(t),null;case 10:return To(t.type._context),Wa(t),null;case 19:if(_s(ei),null===(i=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)qa(i,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ti(e))){for(t.flags|=128,qa(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Es(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&Qe()>Vl&&(t.flags|=128,r=!0,qa(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ti(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!so)return Wa(t),null}else 2*Qe()-i.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,qa(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,n=ei.current,Es(ei,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ja(e,t){switch(to(t),t.tag){case 1:return As(t.type)&&Os(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qo(),_s(Ps),_s(Ts),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(_s(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _s(ei),null;case 4:return Qo(),null;case 10:return To(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Aa=function(){},Oa=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Yo(Wo.current);var o,i=null;switch(n){case"input":s=Y(e,s),r=Y(e,r),i=[];break;case"select":s=D({},s,{value:void 0}),r=D({},r,{value:void 0}),i=[];break;case"textarea":s=re(e,s),r=re(e,r),i=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Mr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,$a=!1,Qa="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,void 0!==o&&el(t,n,o)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[fs],delete t[ms],delete t[gs],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(st,n)}catch(a){}switch(n.tag){case 5:$a||Za(n,t);case 6:var r=ul,s=dl;ul=null,hl(e,t,n),dl=s,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Vt(e)):ls(ul,n.stateNode));break;case 4:r=ul,s=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=s;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&el(n,t,i),s=s.next}while(s!==r)}hl(e,t,n);break;case 1:if(!$a&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?($a=(r=$a)||null!==n.memoizedState,hl(e,t,n),$a=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qa),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(i,a,s),ul=null,dl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){kc(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var i=e.memoizedProps,a=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Q(s,i),be(l,a);var u=be(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(s,h):"dangerouslySetInnerHTML"===d?de(s,h):"children"===d?he(s,h):b(s,d,h,u)}switch(l){case"input":X(s,i);break;case"textarea":oe(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(s,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(s,!!i.multiple,i.defaultValue,!0):ne(s,!!i.multiple,i.multiple?[]:"",!1))}s[fs]=i}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(s=e.child).flags&&(i=null!==s.memoizedState,s.stateNode.isHidden=i,!i||null!==s.alternate&&null!==s.alternate.memoizedState||(zl=Qe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($a=(u=$a)||d,ml(t,e),$a=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xa=e,d=e.child;null!==d;){for(h=Xa=d;null!==Xa;){switch(p=(f=Xa).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Xa=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,u?"function"===typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),cl(e,al(e),s);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,al(e),i);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xa=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var s=Xa,o=s.child;if(22===s.tag&&r){var i=null!==s.memoizedState||Ya;if(!i){var a=s.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Ya;var c=$a;if(Ya=i,($a=l)&&!c)for(Xa=s;null!==Xa;)l=(i=Xa).child,22===i.tag&&null!==i.memoizedState?Sl(s):null!==l?(l.return=i,Xa=l):Sl(s);for(;null!==o;)Xa=o,bl(o,t,n),o=o.sibling;Xa=s,Ya=a,$a=c}wl(e)}else 0!==(8772&s.subtreeFlags)&&null!==o?(o.return=s,Xa=o):wl(e)}}function wl(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Go(t,i,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Go(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(o(163))}$a||512&t.flags&&sl(t)}catch(f){kc(t,t.return,f)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function xl(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function Sl(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){kc(t,s,l)}}var o=t.return;try{sl(t)}catch(l){kc(t,o,l)}break;case 5:var i=t.return;try{sl(t)}catch(l){kc(t,i,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var jl,kl=Math.ceil,_l=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Tl=0,Pl=null,Nl=null,Rl=0,Al=0,Ol=ks(0),Ll=0,Il=null,Ul=0,Dl=0,Bl=0,Ml=null,Fl=null,zl=0,Vl=1/0,Hl=null,Gl=!1,ql=null,Wl=null,Kl=!1,Jl=null,Yl=0,$l=0,Ql=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Tl)?Qe():-1!==Xl?Xl:Xl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Rl?Rl&-Rl:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$l)throw $l=0,Ql=null,Error(o(185));vt(e,n,r),0!==(2&Tl)&&e===Pl||(e===Pl&&(0===(2&Tl)&&(Dl|=n),4===Ll&&ac(e,Rl)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Vl=Qe()+500,Ms&&Vs()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),a=1<<i,l=s[i];-1===l?0!==(a&n)&&0===(a&r)||(s[i]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Pl?Rl:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Ms=!0,zs(e)}(lc.bind(null,e)):zs(lc.bind(null,e)),is((function(){0===(6&Tl)&&Vs()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Xl=-1,Zl=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var s=Tl;Tl|=2;var i=pc();for(Pl===e&&Rl===t||(Hl=null,Vl=Qe()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Co(),_l.current=i,Tl=s,null!==Nl?t=0:(Pl=null,Rl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=oc(e,s))),1===t)throw n=Il,hc(e,0),ac(e,r),rc(e,Qe()),n;if(6===t)ac(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!ar(o(),s))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=gc(e,r))&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t))throw n=Il,hc(e,0),ac(e,r),rc(e,Qe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Fl,Hl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=zl+500-Qe())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(xc.bind(null,e,Fl,Hl),t);break}xc(e,Fl,Hl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-it(r);i=1<<a,(a=t[a])>s&&(s=a),r&=~i}if(r=s,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=rs(xc.bind(null,e,Fl,Hl),r);break}xc(e,Fl,Hl);break;default:throw Error(o(329))}}}return rc(e,Qe()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Ml;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Fl,Fl=n,null!==t&&ic(t)),e}function ic(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function ac(e,t){for(t&=~Bl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Qe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Il,hc(e,0),ac(e,t),rc(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Fl,Hl),rc(e,Qe()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Vl=Qe()+500,Ms&&Vs())}}function uc(e){null!==Jl&&0===Jl.tag&&0===(6&Tl)&&Sc();var t=Tl;Tl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Tl=t))&&Vs()}}function dc(){Al=Ol.current,_s(Ol)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Os();break;case 3:Qo(),_s(Ps),_s(Ts),ri();break;case 5:Zo(r);break;case 4:Qo();break;case 13:case 19:_s(ei);break;case 10:To(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Pl=e,Nl=e=Oc(e.current,null),Rl=Al=t,Ll=0,Il=null,Bl=Dl=Ul=0,Fl=Ml=null,null!==Ao){for(t=0;t<Ao.length;t++)if(null!==(r=(n=Ao[t]).interleaved)){n.interleaved=null;var s=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=s,r.next=i}n.pending=r}Ao=null}return e}function fc(e,t){for(;;){var n=Nl;try{if(Co(),si.current=Xi,ui){for(var r=ai.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ui=!1}if(ii=0,ci=li=ai=null,di=!1,hi=0,El.current=null,null===n||null===n.return){Ll=1,Il=t,Nl=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(i,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(i,u,t),mc();break e}c=Error(o(426))}else if(so&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mo(ca(c,l));break e}}i=c=ca(c,l),4!==Ll&&(Ll=2),null===Ml?Ml=[i]:Ml.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Vo(i,fa(0,c,t));break e;case 1:l=c;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Vo(i,pa(i,l,t));break e}}i=i.return}while(null!==i)}wc(n)}catch(w){t=w,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function pc(){var e=_l.current;return _l.current=Xi,null===e?Xi:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Pl||0===(268435455&Ul)&&0===(268435455&Dl)||ac(Pl,Rl)}function gc(e,t){var n=Tl;Tl|=2;var r=pc();for(Pl===e&&Rl===t||(Hl=null,hc(e,t));;)try{vc();break}catch(s){fc(e,s)}if(Co(),Tl=n,_l.current=r,null!==Nl)throw Error(o(261));return Pl=null,Rl=0,Ll}function vc(){for(;null!==Nl;)bc(Nl)}function yc(){for(;null!==Nl&&!Ye();)bc(Nl)}function bc(e){var t=jl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?wc(e):Nl=t,El.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Al)))return void(Nl=n)}else{if(null!==(n=Ja(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Ll=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Ll&&(Ll=5)}function xc(e,t,n){var r=bt,s=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Jl);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-it(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}(e,i),e===Pl&&(Nl=Pl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Pc(tt,(function(){return Sc(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Cl.transition,Cl.transition=null;var a=bt;bt=1;var l=Tl;Tl|=4,El.current=null,function(e,t){if(es=Gt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(x){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=a+s),h!==i||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=a),f===i&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Gt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){kc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ts),Gt=!!es,ts=es=null,e.current=n,yl(n,e,s),$e(),Tl=l,bt=a,Cl.transition=i}else e.current=n;if(Kl&&(Kl=!1,Jl=e,Yl=s),i=e.pendingLanes,0===i&&(Wl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Gl)throw Gl=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&Sc(),i=e.pendingLanes,0!==(1&i)?e===Ql?$l++:($l=0,Ql=e):$l=0,Vs()}(e,t,n,r)}finally{Cl.transition=s,bt=r}return null}function Sc(){if(null!==Jl){var e=wt(Yl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Yl=0,0!==(6&Tl))throw Error(o(331));var s=Tl;for(Tl|=4,Xa=e.current;null!==Xa;){var i=Xa,a=i.child;if(0!==(16&Xa.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xa=u;null!==Xa;){var d=Xa;switch(d.tag){case 0:case 11:case 15:nl(8,d,i)}var h=d.child;if(null!==h)h.return=d,Xa=h;else for(;null!==Xa;){var f=(d=Xa).sibling,p=d.return;if(ol(d),d===u){Xa=null;break}if(null!==f){f.return=p,Xa=f;break}Xa=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xa=i}}if(0!==(2064&i.subtreeFlags)&&null!==a)a.return=i,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(i=Xa).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Xa=y;break e}Xa=i.return}}var b=e.current;for(Xa=b;null!==Xa;){var w=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Xa=w;else e:for(a=b;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){kc(l,l.return,S)}if(l===a){Xa=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Xa=x;break e}Xa=l.return}}if(Tl=s,Vs(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(st,e)}catch(S){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function jc(e,t,n){e=Fo(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Fo(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Rl&n)===n&&(4===Ll||3===Ll&&(130023424&Rl)===Rl&&500>Qe()-zl?hc(e,0):Bl|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Io(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ec(e,n)}function Pc(e,t){return Ke(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Nc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,s,i){var a=2;if(r=e,"function"===typeof e)Ac(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case j:return Ic(n.children,s,i,t);case k:a=8,s|=8;break;case _:return(e=Rc(12,n,t,2|s)).elementType=_,e.lanes=i,e;case P:return(e=Rc(13,n,t,s)).elementType=P,e.lanes=i,e;case N:return(e=Rc(19,n,t,s)).elementType=N,e.lanes=i,e;case O:return Uc(n,s,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case C:a=9;break e;case T:a=11;break e;case R:a=14;break e;case A:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Rc(a,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function Ic(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Uc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,s,o,i,a,l){return e=new Mc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Rc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function zc(e){if(!e)return Cs;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(As(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(As(n))return Is(e,n,t)}return t}function Vc(e,t,n,r,s,o,i,a,l){return(e=Fc(n,r,!0,e,0,o,0,a,l)).context=zc(null),n=e.current,(o=Mo(r=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,Fo(n,o,s),e.current.lanes=s,vt(e,s,r),rc(e,r),e}function Hc(e,t,n,r){var s=t.current,o=ec(),i=tc(s);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mo(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fo(s,t,i))&&(nc(e,s,i,o),zo(e,s,i)),i}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ps.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),po();break;case 5:Xo(t);break;case 1:As(t.type)&&Us(t);break;case 4:$o(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Es(jo,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Es(ei,1&ei.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Da(e,t,n):(Es(ei,1&ei.current),null!==(e=Ga(e,t,n))?e.sibling:null);Es(ei,1&ei.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Va(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Es(ei,ei.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ga(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,so&&0!==(1048576&t.flags)&&Zs(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var s=Rs(t,Ts.current);No(t,n),s=gi(null,t,r,e,s,n);var i=vi();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,As(r)?(i=!0,Us(t)):i=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Do(t),s.updater=sa,t.stateNode=s,s._reactInternals=t,la(t,r,e,n),t=Ta(null,t,r,!0,i,n)):(t.tag=0,so&&i&&eo(t),wa(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=na(r,e),s){case 0:t=Ea(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Ea(e,t,r,s=t.elementType===r?s:na(r,s),n);case 1:return r=t.type,s=t.pendingProps,Ca(e,t,r,s=t.elementType===r?s:na(r,s),n);case 3:e:{if(Pa(t),null===e)throw Error(o(387));r=t.pendingProps,s=(i=t.memoizedState).element,Bo(e,t),Ho(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Na(e,t,r,n,s=ca(Error(o(423)),t));break e}if(r!==s){t=Na(e,t,r,n,s=ca(Error(o(424)),t));break e}for(ro=cs(t.stateNode.containerInfo.firstChild),no=t,so=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===s){t=Ga(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&co(t),r=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,a=s.children,ns(r,s)?a=null:null!==i&&ns(r,i)&&(t.flags|=32),_a(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Da(e,t,n);case 4:return $o(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,xa(e,t,r,s=t.elementType===r?s:na(r,s),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Es(jo,r._currentValue),r._currentValue=a,null!==i)if(ar(i.value,a)){if(i.children===s.children&&!Ps.current){t=Ga(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){a=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Mo(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Po(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)a=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Po(a,n,t),a=i.sibling}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===t){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}wa(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,No(t,n),r=r(s=Ro(s)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return s=na(r=t.type,t.pendingProps),Sa(e,t,r,s=na(r.type,s),n);case 15:return ja(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:na(r,s),Ha(e,t),t.tag=1,As(r)?(e=!0,Us(t)):e=!1,No(t,n),ia(t,r,s),la(t,r,s,n),Ta(null,t,r,!0,e,n);case 19:return Va(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof s){var a=s;s=function(){var e=Gc(i);a.call(e)}}Hc(t,i,e,s)}else i=function(e,t,n,r,s){if(s){if("function"===typeof r){var o=r;r=function(){var e=Gc(i);o.call(e)}}var i=Vc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[ps]=i.current,Vr(8===e.nodeType?e.parentNode:e),uc(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var a=r;r=function(){var e=Gc(l);a.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[ps]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,s,r);return Gc(i)}Yc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},Yc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[ps]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Dt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Qe()),0===(6&Tl)&&(Vl=Qe()+500,Vs()))}break;case 13:uc((function(){var t=Io(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},St=function(e){if(13===e.tag){var t=Io(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},jt=function(e){if(13===e.tag){var t=tc(e),n=Io(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},kt=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=xs(r);if(!s)throw Error(o(90));K(r),X(r,s)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Pe=uc;var eu={usingClientEntryPoint:!1,Events:[bs,ws,xs,Ee,Ce,cc]},tu={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{st=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(o(299));var n=!1,r="",s=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,s=!1,i="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,s,0,i,a),e[ps]=t.current,Vr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ps]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(374));class o extends s.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map((e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e))).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");const o=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(s,"fts").concat(o,".").concat(t)),this}match(e){return Object.entries(e).forEach((e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))})),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=o},745:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(r.version)}},829:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:s}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let o=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!o?"":('"'===e&&(o=!o),e))).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer="count=".concat(n)),new s.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push("count=".concat(t)),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>'"'.concat(e,'"')));this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:o=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=["resolution=".concat(n?"ignore":"merge","-duplicates")];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push("count=".concat(r)),o||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>'"'.concat(e,'"')));this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push("count=".concat(t)),this.headers.Prefer=n.join(","),new s.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new s.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},952:e=>{e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},980:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const s=r(n(210));t.PostgrestClient=s.default;const o=r(n(829));t.PostgrestQueryBuilder=o.default;const i=r(n(736));t.PostgrestFilterBuilder=i.default;const a=r(n(374));t.PostgrestTransformBuilder=a.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:s.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&s&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(o,i),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{Decoder:()=>Qt,Encoder:()=>Yt,PacketType:()=>Jt,protocol:()=>Kt});var s={};n.r(s),n.d(s,{hasBrowserEnv:()=>Ef,hasStandardBrowserEnv:()=>Tf,hasStandardBrowserWebWorkerEnv:()=>Pf,navigator:()=>Cf,origin:()=>Nf});var o,i=n(43),a=n.t(i,2),l=n(391);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(o||(o={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=o.Pop,h=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){l=o.Pop;let e=v(),t=null==e?null:e-g;g=e,h&&h({action:l,location:w.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(c({},a.state,{idx:g}),""));let w={get action(){return l},get location(){return e(s,a)},listen(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(u,y),h=e,()=>{s.removeEventListener(u,y),h=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=o.Push;let r=p(w.location,e,t);n&&n(r,e),g=v()+1;let c=f(r,g),u=w.createHref(r);try{a.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(u)}i&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,t){l=o.Replace;let r=p(w.location,e,t);n&&n(r,e),g=v();let s=f(r,g),c=w.createHref(r);a.replaceState(s,"",c),i&&h&&h({action:l,location:w.location,delta:0})},go:e=>a.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let s=L(("string"===typeof t?g(t):t).pathname||"/",n);if(null==s)return null;let o=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let i=null;for(let a=0;null==i&&a<o.length;++a){let e=O(s);i=R(o[a],e,r)}return i}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,o)=>{let i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};i.relativePath.startsWith("/")&&(d(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let a=M([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),x(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:N(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of S(e.path))s(e,t,r);else s(e,t)})),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return s?[o,""]:[o];let i=S(r.join("/")),a=[];return a.push(...i.map((e=>""===e?o:[o,e].join("/")))),s&&a.push(...i),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const j=/^:[\w-]+$/,k=3,_=2,E=1,C=10,T=-2,P=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(P)&&(r+=T),t&&(r+=_),n.filter((e=>!P(e))).reduce(((e,t)=>e+(j.test(t)?k:""===t?E:C)),r)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),i.push({params:s,pathname:M([o,u.pathname]),pathnameBase:F(M([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=M([o,u.pathnameBase]))}return i}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let o=new RegExp(s,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=a[n]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:o,pathnameBase:i,pattern:e}}function O(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function U(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function D(e,t){let n=U(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function B(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=g(e):(s=c({},e),d(!s.pathname||!s.pathname.includes("?"),I("?","pathname","search",s)),d(!s.pathname||!s.pathname.includes("#"),I("#","pathname","hash",s)),d(!s.search||!s.search.includes("#"),I("#","search","hash",s)));let o,i=""===e||""===s.pathname,a=i?"/":s.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?g(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:z(r),hash:V(s)}}(s,o),u=a&&"/"!==a&&a.endsWith("/"),h=(i||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const G=["post","put","patch","delete"],q=(new Set(G),["get",...G]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const K=i.createContext(null);const J=i.createContext(null);const Y=i.createContext(null);const $=i.createContext(null);const Q=i.createContext({outlet:null,matches:[],isDataRoute:!1});const X=i.createContext(null);function Z(){return null!=i.useContext($)}function ee(){return Z()||d(!1),i.useContext($).location}function te(e){i.useContext(Y).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(Q);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=pe(de.UseNavigateStable),n=i.useRef(!1);te((()=>{n.current=!0}));let r=i.useCallback((function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},s)))}),[e,t]);return r}():function(){Z()||d(!1);let e=i.useContext(K),{basename:t,future:n,navigator:r}=i.useContext(Y),{matches:s}=i.useContext(Q),{pathname:o}=ee(),a=JSON.stringify(D(s,n.v7_relativeSplatPath)),l=i.useRef(!1);return te((()=>{l.current=!0})),i.useCallback((function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void r.go(n);let i=B(n,JSON.parse(a),o,"path"===s.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:M([t,i.pathname])),(s.replace?r.replace:r.push)(i,s.state,s)}),[t,r,a,o,e])}()}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Y),{matches:s}=i.useContext(Q),{pathname:o}=ee(),a=JSON.stringify(D(s,r.v7_relativeSplatPath));return i.useMemo((()=>B(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function se(e,t,n,r){Z()||d(!1);let{navigator:s}=i.useContext(Y),{matches:a}=i.useContext(Q),l=a[a.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=ee();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=f;let m=h.pathname||"/",v=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:v});let w=ce(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:M([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,r);return t&&w?i.createElement($.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:o.Pop}},w):w}function oe(){let e=function(){var e;let t=i.useContext(X),n=fe(de.UseRouteError),r=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const ie=i.createElement(oe,null);class ae extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Q.Provider,{value:this.props.routeContext},i.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(K);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Q.Provider,{value:t},r)}function ce(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,r,s)=>{let o,d=!1,h=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ie,c&&(u<0&&0===s?(p="route-fallback",!1||me[p]||(me[p]=!0),d=!0,f=null):u===s&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?h:d?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(le,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=i.useContext(K);return t||d(!1),t}function fe(e){let t=i.useContext(J);return t||d(!1),t}function pe(e){let t=function(){let e=i.useContext(Q);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const me={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function ve(e){d(!1)}function ye(e){let{basename:t="/",children:n=null,location:r,navigationType:s=o.Pop,navigator:a,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:u,navigator:a,static:l,future:W({v7_relativeSplatPath:!1},c)})),[u,c,a,l]);"string"===typeof r&&(r=g(r));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=r,b=i.useMemo((()=>{let e=L(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:s}}),[u,f,p,m,v,y,s]);return null==b?null:i.createElement(Y.Provider,{value:h},i.createElement($.Provider,{children:n,value:b}))}function be(e){let{children:t,location:n}=e;return se(we(t),n)}new Promise((()=>{}));i.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,we(e.props.children,s));e.type!==ve&&d(!1),e.props.index&&e.props.children&&d(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=we(e.props.children,s)),n.push(o)})),n}var xe=n(950),Se=n.t(xe,2);function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}function _e(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Em){}new Map;const Ce=a.startTransition;Se.flushSync,a.useId;function Te(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),v((function(e,t){let{pathname:n,search:r,hash:s}=e.location;return p("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,a)));let l=o.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback((e=>{d&&Ce?Ce((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(h)),[l,h]),i.useEffect((()=>ge(r)),[r]),i.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Pe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=ke(e,Ee),{basename:g}=i.useContext(Y),v=!1;if("string"===typeof u&&Ne.test(u)&&(n=u,Pe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=L(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(Em){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:r,navigator:s}=i.useContext(Y),{hash:o,pathname:a,search:l}=re(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:M([r,a])),s.createHref({pathname:c,search:l,hash:o})}(u,{relative:s}),b=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=re(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(d);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l})}}),[u,c,d,r,s,n,e,o,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});return i.createElement("a",je({},p,{href:n||y,onClick:v||o?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Ae,Oe;function Le(e){let t=i.useRef(_e(e)),n=i.useRef(!1),r=ee(),s=i.useMemo((()=>function(e,t){let n=_e(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),o=ne(),a=i.useCallback(((e,t)=>{const r=_e("function"===typeof e?e(s):e);n.current=!0,o("?"+r,t)}),[o,s]);return[s,a]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oe||(Oe={}));var Ie=n(579);const Ue={"--primary-bg":"#0f0f1e","--secondary-bg":"#1a1a2e","--card-bg":"#16213e","--primary-color":"#e94560","--secondary-color":"#00d9ff","--accent-color":"#ff6b6b","--text-primary":"#ffffff","--text-secondary":"#a8a8a8","--neon-glow":"0 0 20px rgba(0, 217, 255, 0.8)","--card-shadow":"0 10px 30px rgba(0, 0, 0, 0.5)"},De=e=>{let{children:t}=e;return(0,i.useEffect)((()=>{const e=document.documentElement;Object.entries(Ue).forEach((t=>{let[n,r]=t;e.style.setProperty(n,r)})),document.body.classList.add("theme-default")}),[]),(0,Ie.jsx)(Ie.Fragment,{children:t})},Be=Object.create(null);Be.open="0",Be.close="1",Be.ping="2",Be.pong="3",Be.message="4",Be.upgrade="5",Be.noop="6";const Me=Object.create(null);Object.keys(Be).forEach((e=>{Me[Be[e]]=e}));const Fe={type:"error",data:"parser error"},ze="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Ve="function"===typeof ArrayBuffer,He=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ge=(e,t,n)=>{let{type:r,data:s}=e;return ze&&s instanceof Blob?t?n(s):qe(s,n):Ve&&(s instanceof ArrayBuffer||He(s))?t?n(s):qe(new Blob([s]),n):n(Be[r]+(s||""))},qe=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function We(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ke;const Je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ye="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let Pm=0;Pm<64;Pm++)Ye[Je.charCodeAt(Pm)]=Pm;const $e="function"===typeof ArrayBuffer,Qe=(e,t)=>{if("string"!==typeof e)return{type:"message",data:Ze(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:Xe(e.substring(1),t)};return Me[n]?e.length>1?{type:Me[n],data:e.substring(1)}:{type:Me[n]}:Fe},Xe=(e,t)=>{if($e){const n=(e=>{let t,n,r,s,o,i=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const c=new ArrayBuffer(i),u=new Uint8Array(c);for(t=0;t<a;t+=4)n=Ye[e.charCodeAt(t)],r=Ye[e.charCodeAt(t+1)],s=Ye[e.charCodeAt(t+2)],o=Ye[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|s>>2,u[l++]=(3&s)<<6|63&o;return c})(e);return Ze(n,t)}return{base64:!0,data:e}},Ze=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,et=String.fromCharCode(30);function tt(){return new TransformStream({transform(e,t){!function(e,t){ze&&e.data instanceof Blob?e.data.arrayBuffer().then(We).then(t):Ve&&(e.data instanceof ArrayBuffer||He(e.data))?t(We(e.data)):Ge(e,!1,(e=>{Ke||(Ke=new TextEncoder),t(Ke.encode(e))}))}(e,(n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const e=new DataView(s.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{s=new Uint8Array(9);const e=new DataView(s.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(s[0]|=128),t.enqueue(s),t.enqueue(n)}))}})}let nt;function rt(e){return e.reduce(((e,t)=>e+t.length),0)}function st(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function ot(e){if(e)return function(e){for(var t in ot.prototype)e[t]=ot.prototype[t];return e}(e)}ot.prototype.on=ot.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},ot.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},ot.prototype.off=ot.prototype.removeListener=ot.prototype.removeAllListeners=ot.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var s=0;s<r.length;s++)if((n=r[s])===t||n.fn===t){r.splice(s,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},ot.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var s=(n=n.slice(0)).length;r<s;++r)n[r].apply(this,t)}return this},ot.prototype.emitReserved=ot.prototype.emit,ot.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},ot.prototype.hasListeners=function(e){return!!this.listeners(e).length};const it="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),at="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function lt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const ct=at.setTimeout,ut=at.clearTimeout;function dt(e,t){t.useNativeTimers?(e.setTimeoutFn=ct.bind(at),e.clearTimeoutFn=ut.bind(at)):(e.setTimeoutFn=at.setTimeout.bind(at),e.clearTimeoutFn=at.clearTimeout.bind(at))}function ht(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class ft extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class pt extends ot{constructor(e){super(),this.writable=!1,dt(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new ft(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Qe(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class mt extends pt{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(et),r=[];for(let s=0;s<n.length;s++){const e=Qe(n[s],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach(((e,o)=>{Ge(e,!1,(e=>{r[o]=e,++s===n&&t(r.join(et))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=ht()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let gt=!1;try{gt="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Cm){}const vt=gt;function yt(){}class bt extends mt{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class wt extends ot{constructor(e,t,n){super(),this.createRequest=e,dt(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=lt(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(Em){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(Em){}try{n.setRequestHeader("Accept","*/*")}catch(Em){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(Em){return void this.setTimeoutFn((()=>{this._onError(Em)}),0)}"undefined"!==typeof document&&(this._index=wt.requestsCount++,wt.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=yt,e)try{this._xhr.abort()}catch(Em){}"undefined"!==typeof document&&delete wt.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(wt.requestsCount=0,wt.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",xt);else if("function"===typeof addEventListener){addEventListener("onpagehide"in at?"pagehide":"unload",xt,!1)}function xt(){for(let e in wt.requests)wt.requests.hasOwnProperty(e)&&wt.requests[e].abort()}const St=function(){const e=jt({xdomain:!1});return e&&null!==e.responseType}();function jt(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||vt))return new XMLHttpRequest}catch(Em){}if(!t)try{return new(at[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(Em){}}const kt="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class _t extends pt{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=kt?{}:lt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(Cm){return this.emitReserved("error",Cm)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;Ge(n,this.supportsBinary,(e=>{try{this.doWrite(n,e)}catch(Em){}r&&it((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=ht()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Et=at.WebSocket||at.MozWebSocket;const Ct={websocket:class extends _t{createSocket(e,t,n){return kt?new Et(e,t,n):t?new Et(e,t):new Et(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends pt{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(Cm){return this.emitReserved("error",Cm)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){nt||(nt=new TextDecoder);const n=[];let r=0,s=-1,o=!1;return new TransformStream({transform(i,a){for(n.push(i);;){if(0===r){if(rt(n)<1)break;const e=st(n,1);o=128===(128&e[0]),s=127&e[0],r=s<126?3:126===s?1:2}else if(1===r){if(rt(n)<2)break;const e=st(n,2);s=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(rt(n)<8)break;const e=st(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),o=t.getUint32(0);if(o>Math.pow(2,21)-1){a.enqueue(Fe);break}s=o*Math.pow(2,32)+t.getUint32(4),r=3}else{if(rt(n)<s)break;const e=st(n,s);a.enqueue(Qe(o?e:nt.decode(e),t)),r=0}if(0===s||s>e){a.enqueue(Fe);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=tt();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const s=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),s())})).catch((e=>{}))};s();const o={type:"open"};this.query.sid&&(o.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(o).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then((()=>{r&&it((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends bt{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=St&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new wt(jt,this.uri(),e)}}},Tt=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Pt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Nt(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=Tt.exec(e||""),o={},i=14;for(;i--;)o[Pt[i]]=s[i]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,o.query),o}const Rt="function"===typeof addEventListener&&"function"===typeof removeEventListener,At=[];Rt&&addEventListener("offline",(()=>{At.forEach((e=>e()))}),!1);class Ot extends ot{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=Nt(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Nt(t.host).host);dt(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),Rt&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},At.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&Ot.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",Ot.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,it((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const s={type:e,data:t,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}_onError(e){if(Ot.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Rt&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=At.indexOf(this._offlineEventListener);-1!==e&&At.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Ot.protocol=4;class Lt extends Ot{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;Ot.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Ot.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function s(){n||(n=!0,c(),t.close(),t=null)}const o=e=>{const n=new Error("probe error: "+e);n.transport=t.name,s(),this.emitReserved("upgradeError",n)};function i(){o("transport closed")}function a(){o("socket closed")}function l(e){t&&e.name!==t.name&&s()}const c=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",i),this.off("close",a),this.off("upgrading",l)};t.once("open",r),t.once("error",o),t.once("close",i),this.once("close",a),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class It extends Lt{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>Ct[e])).filter((e=>!!e))),super(e,t)}}const Ut="function"===typeof ArrayBuffer,Dt=Object.prototype.toString,Bt="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Dt.call(Blob),Mt="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Dt.call(File);function Ft(e){return Ut&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Bt&&e instanceof Blob||Mt&&e instanceof File}function zt(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(zt(e[t]))return!0;return!1}if(Ft(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return zt(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&zt(e[n]))return!0;return!1}function Vt(e){const t=[],n=e.data,r=e;return r.data=Ht(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Ht(e,t){if(!e)return e;if(Ft(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Ht(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Ht(e[r],t));return n}return e}function Gt(e,t){return e.data=qt(e.data,t),delete e.attachments,e}function qt(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=qt(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=qt(e[n],t));return e}const Wt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Kt=5;var Jt;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Jt||(Jt={}));class Yt{constructor(e){this.replacer=e}encode(e){return e.type!==Jt.EVENT&&e.type!==Jt.ACK||!zt(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Jt.EVENT?Jt.BINARY_EVENT:Jt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Jt.BINARY_EVENT&&e.type!==Jt.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Vt(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function $t(e){return"[object Object]"===Object.prototype.toString.call(e)}class Qt extends ot{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Jt.BINARY_EVENT;n||t.type===Jt.BINARY_ACK?(t.type=n?Jt.EVENT:Jt.ACK,this.reconstructor=new Xt(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Ft(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Jt[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Jt.BINARY_EVENT||n.type===Jt.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(r,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(s)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Qt.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(Em){return!1}}static isPayloadValid(e,t){switch(e){case Jt.CONNECT:return $t(t);case Jt.DISCONNECT:return void 0===t;case Jt.CONNECT_ERROR:return"string"===typeof t||$t(t);case Jt.EVENT:case Jt.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Wt.indexOf(t[0]));case Jt.ACK:case Jt.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Xt{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Gt(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Zt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const en=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class tn extends ot{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Zt(e,"open",this.onopen.bind(this)),Zt(e,"packet",this.onpacket.bind(this)),Zt(e,"error",this.onerror.bind(this)),Zt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(en.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var s=arguments.length,o=new Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];if(o.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(o),this;const a={type:Jt.EVENT,data:o,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof o[o.length-1]){const e=this.ids++,t=o.pop();this._registerAckCallback(e,t),a.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const s=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===s)return void(this.acks[e]=t);const o=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),s),i=function(){r.io.clearTimeoutFn(o);for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];t.apply(r,n)};i.withError=!0,this.acks[e]=i}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(((t,r)=>{const s=(e,n)=>e?r(e):t(n);s.withError=!0,n.push(s),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var s=arguments.length,o=new Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];n(null,...o)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Jt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Jt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Jt.EVENT:case Jt.BINARY_EVENT:this.onevent(e);break;case Jt.ACK:case Jt.BINARY_ACK:this.onack(e);break;case Jt.DISCONNECT:this.ondisconnect();break;case Jt.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];t.packet({type:Jt.ACK,id:e,data:s})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Jt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function nn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}nn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},nn.prototype.reset=function(){this.attempts=0},nn.prototype.setMin=function(e){this.ms=e},nn.prototype.setMax=function(e){this.max=e},nn.prototype.setJitter=function(e){this.jitter=e};class rn extends ot{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,dt(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new nn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||r;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new It(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Zt(t,"open",(function(){n.onopen(),e&&e()})),s=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},o=Zt(t,"error",s);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),s(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Zt(e,"ping",this.onping.bind(this)),Zt(e,"data",this.ondata.bind(this)),Zt(e,"error",this.onerror.bind(this)),Zt(e,"close",this.onclose.bind(this)),Zt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(Em){this.onclose("parse error",Em)}}ondecoded(e){it((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new tn(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const sn={};function on(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=Nt(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,s=n.id,o=n.path,i=sn[s]&&o in sn[s].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?a=new rn(r,t):(sn[s]||(sn[s]=new rn(r,t)),a=sn[s]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(on,{Manager:rn,Socket:tn,io:on,connect:on});const an=(0,i.createContext)(),ln=()=>(0,i.useContext)(an),cn=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[s,o]=(0,i.useState)(null),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),d=(0,i.useRef)(null),h=(0,i.useRef)(0),f=(0,i.useRef)(null),p=(0,i.useCallback)((()=>{const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SERVER_URL||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GAMEBUDDIES_API_URL;return e||("undefined"!==typeof window&&("gamebuddies.io"===window.location.hostname||window.location.hostname.includes("gamebuddies-client")||window.location.hostname.includes("onrender.com")||"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname)||"undefined"!==typeof window?window.location.origin:"http://localhost:3033")}),[]),m=(0,i.useCallback)((()=>{if(h.current>=3)return console.log("\u274c [LazySocketProvider] Max reconnection attempts reached. Stopping reconnection."),void u(!1);h.current++;const e=1e3*Math.pow(2,h.current);console.log("\ud83d\udd04 [LazySocketProvider] Reconnection attempt ".concat(h.current,"/").concat(3," in ").concat(e,"ms")),d.current=setTimeout((()=>{!f.current||f.current.connected||a||(console.log("\ud83d\udd0c [LazySocketProvider] Attempting reconnection..."),f.current.connect())}),e)}),[a,3]),g=(0,i.useCallback)((()=>{var e;if(c||null!==(e=f.current)&&void 0!==e&&e.connected)return f.current;const t=p();console.log("\ud83d\udd0c [LazySocketProvider] Connecting to server:",t),u(!0);const n=({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SOCKET_TRANSPORTS||"").split(",").map((e=>e.trim())).filter(Boolean),s=on(t,{transports:n.length?n:["polling","websocket"],timeout:2e4,reconnection:!1,forceNew:!1,autoConnect:!1});return s.on("connect",(()=>{console.log("\u2705 [LazySocketProvider] Connected to server. Socket ID:",s.id),r(s),o(s.id),l(!0),u(!1),h.current=0,d.current&&(clearTimeout(d.current),d.current=null)})),s.on("disconnect",(e=>{console.log("\u274c [LazySocketProvider] Disconnected from server. Reason:",e),l(!1),u(!1),"io server disconnect"===e?(console.log("\ud83d\udd04 [LazySocketProvider] Server initiated disconnect, attempting reconnection..."),m()):"transport close"!==e&&"transport error"!==e||(console.log("\ud83d\udd04 [LazySocketProvider] Transport issue, attempting reconnection..."),m())})),s.on("connect_error",(e=>{console.error("\u274c [LazySocketProvider] Connection error:",e),l(!1),u(!1),m()})),f.current=s,s.connect(),s}),[p,c,a,m]),v=(0,i.useCallback)((()=>{f.current&&(console.log("\ud83e\uddf9 [LazySocketProvider] Disconnecting socket"),d.current&&(clearTimeout(d.current),d.current=null),f.current.disconnect(),f.current=null,r(null),o(null),l(!1),u(!1),h.current=0)}),[]);(0,i.useEffect)((()=>()=>{console.log("\ud83e\uddf9 [LazySocketProvider] Component unmounting, cleaning up..."),v()}),[v]);const y=(0,i.useMemo)((()=>({socket:n,socketId:s,isConnected:a,isConnecting:c,connectSocket:g,disconnectSocket:v})),[n,s,a,c,g,v]);return(0,Ie.jsx)(an.Provider,{value:y,children:t})},un=(0,i.createContext)(),dn=()=>(0,i.useContext)(un),hn=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),s=(0,i.useCallback)((function(e){r({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"}),setTimeout((()=>{r(null)}),5e3)}),[]),o=(0,i.useCallback)((()=>{r(null)}),[]),a=(0,i.useMemo)((()=>({notification:n,addNotification:s,clearNotification:o})),[n,s,o]);return(0,Ie.jsx)(un.Provider,{value:a,children:t})};class fn extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class pn extends fn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mn extends fn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gn extends fn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vn;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(vn||(vn={}));var yn=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(Em){o(Em)}}function a(e){try{l(r.throw(e))}catch(Em){o(Em)}}function l(e){e.done?s(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(i,a)}l((r=r.apply(e,t||[])).next())}))};class bn{constructor(e){let{headers:t={},customFetch:r,region:s=vn.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=s,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return yn(this,void 0,void 0,(function*(){try{const{headers:r,method:s,body:o}=t;let i,a={},{region:l}=t;l||(l=this.region),l&&"any"!==l&&(a["x-region"]=l),o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",i=o):"string"===typeof o?(a["Content-Type"]="text/plain",i=o):"undefined"!==typeof FormData&&o instanceof FormData?i=o:(a["Content-Type"]="application/json",i=JSON.stringify(o)));const c=yield this.fetch("".concat(this.url,"/").concat(e),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:i}).catch((e=>{throw new pn(e)})),u=c.headers.get("x-relay-error");if(u&&"true"===u)throw new mn(c);if(!c.ok)throw new gn(c);let d,h=(null!==(n=c.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return d="application/json"===h?yield c.json():"application/octet-stream"===h?yield c.blob():"text/event-stream"===h?c:"multipart/form-data"===h?yield c.formData():yield c.text(),{data:d,error:null}}catch(r){return{data:null,error:r}}}))}}var wn=n(980);const{PostgrestClient:xn,PostgrestQueryBuilder:Sn,PostgrestFilterBuilder:jn,PostgrestTransformBuilder:kn,PostgrestBuilder:_n,PostgrestError:En}=wn;let Cn;Cn="undefined"===typeof window?n(952):window.WebSocket;const Tn=Cn,Pn={"X-Client-Info":"realtime-js/".concat("2.11.10")};var Nn,Rn,An,On,Ln,In;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Nn||(Nn={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Rn||(Rn={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(An||(An={})),function(e){e.websocket="websocket"}(On||(On={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Ln||(Ln={}));class Un{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const i=n.decode(e.slice(o,o+r));o+=r;const a=n.decode(e.slice(o,o+s));o+=s;return{ref:null,topic:i,event:a,payload:JSON.parse(n.decode(e.slice(o,e.byteLength)))}}}class Dn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(In||(In={}));const Bn=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce(((n,s)=>(n[s]=Mn(s,e,t,r),n)),{})},Mn=(e,t,n,r)=>{const s=t.find((t=>t.name===e)),o=null===s||void 0===s?void 0:s.type,i=n[e];return o&&!r.includes(o)?Fn(o,i):zn(i)},Fn=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return qn(t,n)}switch(e){case In.bool:return Vn(t);case In.float4:case In.float8:case In.int2:case In.int4:case In.int8:case In.numeric:case In.oid:return Hn(t);case In.json:case In.jsonb:return Gn(t);case In.timestamp:return Wn(t);case In.abstime:case In.date:case In.daterange:case In.int4range:case In.int8range:case In.money:case In.reltime:case In.text:case In.time:case In.timestamptz:case In.timetz:case In.tsrange:case In.tstzrange:default:return zn(t)}},zn=e=>e,Vn=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Hn=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Gn=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},qn=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const o=e.slice(1,n);try{r=JSON.parse("["+o+"]")}catch(s){r=o?o.split(","):[]}return r.map((e=>Fn(t,e)))}return e},Wn=e=>"string"===typeof e?e.replace(" ","T"):e,Kn=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Jn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter((e=>e.status===t)).forEach((e=>e.callback(n)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Yn,$n,Qn,Xn;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(Yn||(Yn={}));class Zn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zn.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=Zn.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Zn.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const s=this.cloneDeep(e),o=this.transformState(t),i={},a={};return this.map(s,((e,t)=>{o[e]||(a[e]=t)})),this.map(o,((e,t)=>{const n=s[e];if(n){const r=t.map((e=>e.presence_ref)),s=n.map((e=>e.presence_ref)),o=t.filter((e=>s.indexOf(e.presence_ref)<0)),l=n.filter((e=>r.indexOf(e.presence_ref)<0));o.length>0&&(i[e]=o),l.length>0&&(a[e]=l)}else i[e]=t})),this.syncDiff(s,{joins:i,leaves:a},n,r)}static syncDiff(e,t,n,r){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,((t,r)=>{var s;const o=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(r),o.length>0){const n=e[t].map((e=>e.presence_ref)),r=o.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,o,r)})),this.map(o,((t,n)=>{let s=e[t];if(!s)return;const o=n.map((e=>e.presence_ref));s=s.filter((e=>o.indexOf(e.presence_ref)<0)),e[t]=s,r(t,s,n),0===s.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}($n||($n={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(Qn||(Qn={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Xn||(Xn={}));class er{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Jn(this,An.join,this.params,this.timeout),this.rejoinTimer=new Dn((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=Rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=Rn.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Rn.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=Rn.errored,this.rejoinTimer.scheduleTimeout())})),this._on(An.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new Zn(this),this.broadcastEndpointURL=Kn(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:i}}=this.params;this._onError((t=>null===e||void 0===e?void 0:e(Xn.CHANNEL_ERROR,t))),this._onClose((()=>null===e||void 0===e?void 0:e(Xn.CLOSED)));const a={},l={broadcast:s,presence:o,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[],private:i};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,s=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,o=[];for(let r=0;r<s;r++){const s=t[r],{filter:{event:i,schema:a,table:l,filter:c}}=s,u=n&&n[r];if(!u||u.event!==i||u.schema!==a||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Rn.errored,void(null===e||void 0===e||e(Xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));o.push(Object.assign(Object.assign({},s),{id:u.id}))}return this.bindings.postgres_changes=o,void(e&&e(Xn.SUBSCRIBED))}null===e||void 0===e||e(Xn.SUBSCRIBED)})).receive("error",(t=>{this.state=Rn.errored,null===e||void 0===e||e(Xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null===e||void 0===e||e(Xn.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise((n=>{var r,s,o;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(o=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)||void 0===o?void 0:o.ack)||n("ok"),i.receive("ok",(()=>n("ok"))),i.receive("error",(()=>n("error"))),i.receive("timeout",(()=>n("timed out")))}));{const{event:o,payload:i}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(s){return"AbortError"===s.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Rn.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(An.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise((n=>{const r=new Jn(this,An.leave,{},e);r.receive("ok",(()=>{t(),n("ok")})).receive("timeout",(()=>{t(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}teardown(){this.pushBuffer.forEach((e=>e.destroy())),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const r=new AbortController,s=setTimeout((()=>r.abort()),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),o}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new Jn(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,s;const o=e.toLocaleLowerCase(),{close:i,error:a,leave:l,join:c}=An;if(n&&[i,a,l,c].indexOf(o)>=0&&n!==this._joinRef())return;let u=this._onMessage(o,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===o})).map((e=>e.callback(u,n))):null===(s=this.bindings[o])||void 0===s||s.filter((e=>{var n,r,s,i,a,l;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in e){const o=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return o&&(null===(r=t.ids)||void 0===r?void 0:r.includes(o))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const n=null===(a=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===o})).map((e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:s,errors:o}=e,i={schema:t,table:n,commit_timestamp:r,eventType:s,new:{},old:{},errors:o};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,n)}))}_isClosed(){return this.state===Rn.closed}_isJoined(){return this.state===Rn.joined}_isJoining(){return this.state===Rn.joining}_isLeaving(){return this.state===Rn.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&er.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(An.close,{},e)}_onError(e){this._on(An.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Bn(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Bn(e.columns,e.old_record)),t}}const tr=()=>{};class nr{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Pn,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tr,this.ref=0,this.logger=tr,this.conn=null,this.sendBuffer=[],this.serializer=new Un,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},this.endPoint="".concat(e,"/").concat(On.websocket),this.httpEndpoint=Kn(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),((null===t||void 0===t?void 0:t.logLevel)||(null===t||void 0===t?void 0:t.log_level))&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Dn((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Tn),this.transport){const e="undefined"!==typeof window&&this.transport===window.WebSocket;return this.conn=e?new this.transport(this.endpointURL()):new this.transport(this.endpointURL(),void 0,{headers:this.headers}),void this.setupConnection()}this.conn=new rr(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach((e=>e.teardown())))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels=this.channels.filter((t=>t._joinRef!==e._joinRef)),0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Nn.connecting:return Ln.Connecting;case Nn.open:return Ln.Open;case Nn.closing:return Ln.Closing;default:return Ln.Closed}}isConnected(){return this.connectionState()===Ln.Open}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find((e=>e.topic===n));if(r)return r;{const n=new er("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:s}=e,o=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push","".concat(t," ").concat(n," (").concat(s,")"),r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e,version:this.headers&&this.headers["X-Client-Info"]}),t.joinedOnce&&t._isJoined()&&t._push(An.access_token,{access_token:e})})))}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t.topic!==e.topic))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:s}=e;"phoenix"===t&&"phx_reply"===n&&this.heartbeatCallback("ok"==e.payload.status?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive","".concat(r.status||""," ").concat(t," ").concat(n," ").concat(s&&"("+s+")"||""),r),Array.from(this.channels).filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,s))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}_onConnOpen(){if(this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(An.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class rr{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Nn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class sr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function or(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class ir extends sr{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ar extends sr{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var lr=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(Em){o(Em)}}function a(e){try{l(r.throw(e))}catch(Em){o(Em)}}function l(e){e.done?s(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(i,a)}l((r=r.apply(e,t||[])).next())}))};const cr=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},ur=e=>{if(Array.isArray(e))return e.map((e=>ur(e)));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((e=>{let[n,r]=e;const s=n.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[s]=ur(r)})),t};var dr=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(Em){o(Em)}}function a(e){try{l(r.throw(e))}catch(Em){o(Em)}}function l(e){e.done?s(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(i,a)}l((r=r.apply(e,t||[])).next())}))};const hr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fr=(e,t,r)=>dr(void 0,void 0,void 0,(function*(){const s=yield lr(void 0,void 0,void 0,(function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response}));e instanceof s&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then((n=>{t(new ir(hr(n),e.status||500))})).catch((e=>{t(new ar(hr(e),e))})):t(new ar(hr(e),e))}));function pr(e,t,n,r,s,o){return dr(this,void 0,void 0,(function*(){return new Promise(((i,a)=>{e(n,((e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))})(t,r,s,o)).then((e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()})).then((e=>i(e))).catch((e=>fr(e,a,r)))}))}))}function mr(e,t,n,r){return dr(this,void 0,void 0,(function*(){return pr(e,"GET",t,n,r)}))}function gr(e,t,n,r,s){return dr(this,void 0,void 0,(function*(){return pr(e,"POST",t,r,s,n)}))}function vr(e,t,n,r,s){return dr(this,void 0,void 0,(function*(){return pr(e,"DELETE",t,r,s,n)}))}var yr=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(Em){o(Em)}}function a(e){try{l(r.throw(e))}catch(Em){o(Em)}}function l(e){e.done?s(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(i,a)}l((r=r.apply(e,t||[])).next())}))};const br={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=cr(r)}uploadOrUpdate(e,t,n,r){return yr(this,void 0,void 0,(function*(){try{let s;const o=Object.assign(Object.assign({},wr),r);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(o.upsert)});const a=o.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a)),s.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a))):(s=n,i["cache-control"]="max-age=".concat(o.cacheControl),i["content-type"]=o.contentType,a&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null===r||void 0===r?void 0:r.headers)&&(i=Object.assign(Object.assign({},i),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch("".concat(this.url,"/object/").concat(c),Object.assign({method:e,body:s,headers:i},(null===o||void 0===o?void 0:o.duplex)?{duplex:o.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(s){if(or(s))return{data:null,error:s};throw s}}))}upload(e,t,n){return yr(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return yr(this,void 0,void 0,(function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),i=new URL(this.url+"/object/upload/sign/".concat(o));i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:wr.upsert},r),o=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,o["cache-control"]="max-age=".concat(t.cacheControl),o["content-type"]=t.contentType);const a=yield this.fetch(i.toString(),{method:"PUT",body:e,headers:o}),l=yield a.json();if(a.ok)return{data:{path:s,fullPath:l.Key},error:null};return{data:null,error:l}}catch(a){if(or(a))return{data:null,error:a};throw a}}))}createSignedUploadUrl(e,t){return yr(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const s=yield gr(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),o=new URL(this.url+s.url),i=o.searchParams.get("token");if(!i)throw new sr("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:i},error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}}))}update(e,t,n){return yr(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t,n){return yr(this,void 0,void 0,(function*(){try{return{data:yield gr(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}))}copy(e,t,n){return yr(this,void 0,void 0,(function*(){try{return{data:{path:(yield gr(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}))}createSignedUrl(e,t,n){return yr(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),s=yield gr(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const o=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return s={signedUrl:encodeURI("".concat(this.url).concat(s.signedURL).concat(o))},{data:s,error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}))}createSignedUrls(e,t,n){return yr(this,void 0,void 0,(function*(){try{const r=yield gr(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(s)):null}))),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}))}download(e,t){return yr(this,void 0,void 0,(function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),s=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield mr(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(s),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(o){if(or(o))return{data:null,error:o};throw o}}))}info(e){return yr(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield mr(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:ur(e),error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}}))}exists(e){return yr(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return dr(this,void 0,void 0,(function*(){return pr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)}))}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(or(n)&&n instanceof ar){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==s&&r.push(s);const o="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&r.push(i);let a=r.join("&");return""!==a&&(a="?".concat(a)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(o,"/public/").concat(n).concat(a))}}}remove(e){return yr(this,void 0,void 0,(function*(){try{return{data:yield vr(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(or(t))return{data:null,error:t};throw t}}))}list(e,t,n){return yr(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},br),t),{prefix:e||""});return{data:yield gr(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e)}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Sr={"X-Client-Info":"storage-js/".concat("2.7.1")};var jr=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(Em){o(Em)}}function a(e){try{l(r.throw(e))}catch(Em){o(Em)}}function l(e){e.done?s(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(i,a)}l((r=r.apply(e,t||[])).next())}))};class kr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},Sr),t),this.fetch=cr(n)}listBuckets(){return jr(this,void 0,void 0,(function*(){try{return{data:yield mr(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(or(e))return{data:null,error:e};throw e}}))}getBucket(e){return jr(this,void 0,void 0,(function*(){try{return{data:yield mr(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(or(t))return{data:null,error:t};throw t}}))}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return jr(this,void 0,void 0,(function*(){try{return{data:yield gr(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}}))}updateBucket(e,t){return jr(this,void 0,void 0,(function*(){try{const n=yield function(e,t,n,r,s){return dr(this,void 0,void 0,(function*(){return pr(e,"PUT",t,r,s,n)}))}(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}}))}emptyBucket(e){return jr(this,void 0,void 0,(function*(){try{return{data:yield gr(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(or(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return jr(this,void 0,void 0,(function*(){try{return{data:yield vr(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(or(t))return{data:null,error:t};throw t}}))}}class _r extends kr{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new xr(this.url,this.headers,e,this.fetch)}}let Er="";Er="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Cr={headers:{"X-Client-Info":"supabase-js-".concat(Er,"/").concat("2.50.0")}},Tr={schema:"public"},Pr={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nr={};var Rr=n(630),Ar=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(Em){o(Em)}}function a(e){try{l(r.throw(e))}catch(Em){o(Em)}}function l(e){e.done?s(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(i,a)}l((r=r.apply(e,t||[])).next())}))};const Or=e=>{let t;return t=e||("undefined"===typeof fetch?Rr.default:fetch),function(){return t(...arguments)}},Lr=(e,t,n)=>{const r=Or(n),s="undefined"===typeof Headers?Rr.Headers:Headers;return(n,o)=>Ar(void 0,void 0,void 0,(function*(){var i;const a=null!==(i=yield t())&&void 0!==i?i:e;let l=new s(null===o||void 0===o?void 0:o.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(a)),r(n,Object.assign(Object.assign({},o),{headers:l}))}))};var Ir=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(Em){o(Em)}}function a(e){try{l(r.throw(e))}catch(Em){o(Em)}}function l(e){e.done?s(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(i,a)}l((r=r.apply(e,t||[])).next())}))};const Ur="2.70.0",Dr=3e4,Br=9e4,Mr={"X-Client-Info":"gotrue-js/".concat(Ur)},Fr="X-Supabase-Api-Version",zr={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Vr=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Hr extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Gr(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class qr extends Hr{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Wr extends Hr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Kr extends Hr{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Jr extends Kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Yr extends Kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $r extends Kr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qr extends Kr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xr extends Kr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zr extends Kr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function es(e){return Gr(e)&&"AuthRetryableFetchError"===e.name}class ts extends Kr{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class ns extends Kr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const rs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ss=" \t\n\r=".split(""),os=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ss.length;t+=1)e[ss[t].charCodeAt(0)]=-2;for(let t=0;t<rs.length;t+=1)e[rs[t].charCodeAt(0)]=t;return e})();function is(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(rs[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(rs[e]),t.queuedBits-=6}}function as(e,t,n){const r=os[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function ls(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)as(e.charCodeAt(i),s,o);return t.join("")}function cs(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function us(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}cs(r,t)}}function ds(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let s=0;s<e.length;s+=1)as(e.charCodeAt(s),n,r);return new Uint8Array(t)}function hs(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach((e=>is(e,n,r))),is(null,n,r),t.join("")}const fs=()=>"undefined"!==typeof window&&"undefined"!==typeof document,ps={tested:!1,writable:!1},ms=()=>{if(!fs())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(Em){return!1}if(ps.tested)return ps.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ps.tested=!0,ps.writable=!0}catch(Em){ps.tested=!0,ps.writable=!1}return ps.writable};const gs=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},vs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ys=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},bs=async(e,t)=>{await e.removeItem(t)};class ws{constructor(){this.promise=new ws.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function xs(e){const t=e.split(".");if(3!==t.length)throw new ns("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Vr.test(t[n]))throw new ns("JWT not in base64url format");return{header:JSON.parse(ls(t[0])),payload:JSON.parse(ls(t[1])),signature:ds(t[2]),raw:{header:t[0],payload:t[1]}}}function Ss(e){return("0"+e.toString(16)).substr(-2)}async function js(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ks(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Ss).join("")}();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await vs(e,"".concat(t,"-code-verifier"),s);const o=await js(r);return[o,r===o?"plain":"s256"]}ws.promiseConstructor=Promise;const _s=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Es=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cs(e){if(!Es.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Ts=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Ps=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ns=[502,503,504];async function Rs(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Zr(Ps(e),0);if(Ns.includes(e.status))throw new Zr(Ps(e),e.status);let r,s;try{r=await e.json()}catch(Em){throw new Wr(Ps(Em),Em)}const o=function(e){const t=e.headers.get(Fr);if(!t)return null;if(!t.match(_s))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(Em){return null}}(e);if(o&&o.getTime()>=zr.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?s=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(s=r.error_code),s){if("weak_password"===s)throw new ts(Ps(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new Jr}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0))throw new ts(Ps(r),e.status,r.weak_password.reasons);throw new qr(Ps(r),e.status||500,s)}async function As(e,t,n,r){var s;const o=Object.assign({},null===r||void 0===r?void 0:r.headers);o[Fr]||(o[Fr]=zr.name),(null===r||void 0===r?void 0:r.jwt)&&(o.Authorization="Bearer ".concat(r.jwt));const i=null!==(s=null===r||void 0===r?void 0:r.query)&&void 0!==s?s:{};(null===r||void 0===r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,s,o){const i=((e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))})(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(Em){throw console.error(Em),new Zr(Ps(Em),0)}a.ok||await Rs(a);if(null===r||void 0===r?void 0:r.noResolveJson)return a;try{return await a.json()}catch(Em){await Rs(Em)}}(e,t,n+a,{headers:o,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Os(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Ls(e){const t=Os(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function Is(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Us(e){return{data:e,error:null}}function Ds(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=Ts(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},user:Object.assign({},i)},error:null}}function Bs(e){return e}const Ms=["global","local","others"];var Fs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};class zs{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=gs(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ms[0];if(Ms.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(Ms.join(", ")));try{return await As(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Gr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await As(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Is})}catch(n){if(Gr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Fs(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await As(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:Ds,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Gr(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await As(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Is})}catch(t){if(Gr(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,s,o,i,a;try{const l={nextPage:null,lastPage:0,total:0},c=await As(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:Bs});if(c.error)throw c.error;const u=await c.json(),d=null!==(o=c.headers.get("x-total-count"))&&void 0!==o?o:0,h=null!==(a=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==a?a:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Gr(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Cs(e);try{return await As(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Is})}catch(t){if(Gr(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Cs(e);try{return await As(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:Is})}catch(n){if(Gr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Cs(e);try{return await As(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:Is})}catch(n){if(Gr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Cs(e.userId);try{const{data:t,error:n}=await As(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(Gr(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Cs(e.userId),Cs(e.id);try{return{data:await As(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(Gr(t))return{data:null,error:t};throw t}}}const Vs={getItem:e=>ms()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ms()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ms()&&globalThis.localStorage.removeItem(e)}};function Hs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Gs=!!(globalThis&&ms()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class qs extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ws extends qs{}async function Ks(e,t,n){Gs&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout((()=>{r.abort(),Gs&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===t)throw Gs&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ws('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(Gs)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Em){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Em)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}Gs&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Gs&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Em){"undefined"!==typeof self&&(self.globalThis=self)}}();const Js={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mr,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ys(e,t,n){return await n()}class $s{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$s.nextInstanceID,$s.nextInstanceID+=1,this.instanceID>0&&fs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Js),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new zs({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=gs(r.fetch),this.lock=r.lock||Ys,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:fs()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Ks:this.lock=Ys,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:ms()?this.storage=Vs:(this.memoryStorage={},this.storage=Hs(this.memoryStorage)):(this.memoryStorage={},this.storage=Hs(this.memoryStorage)),fs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Em){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Em)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(Ur,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(Em){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),fs()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return Gr(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",i),await this._saveSession(o),setTimeout((async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Gr(t)?{error:t}:{error:new Wr("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const s=await As(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Os}),{data:o,error:i}=s;if(i||!o)return{data:{user:null,session:null},error:i};const a=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(s){if(Gr(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,r;try{let s;if("email"in e){const{email:n,password:r,options:o}=e;let i=null,a=null;"pkce"===this.flowType&&([i,a]=await ks(this.storage,this.storageKey)),s=await As(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===o||void 0===o?void 0:o.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken},code_challenge:i,code_challenge_method:a},xform:Os})}else{if(!("phone"in e))throw new $r("You must provide either an email or phone number and a password");{const{phone:t,password:o,options:i}=e;s=await As(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:o,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null===i||void 0===i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:Os})}}const{data:o,error:i}=s;if(i||!o)return{data:{user:null,session:null},error:i};const a=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(s){if(Gr(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:s}=e;t=await As(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:Ls})}else{if(!("phone"in e))throw new $r("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:s}=e;t=await As(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:Ls})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new Yr}}catch(t){if(Gr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,n,r,s,o,i,a,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let v;if(fs())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(y.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map((e=>"- ".concat(e)))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await As(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:hs(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Os});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new Yr}}catch(m){if(Gr(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await ys(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:s}=await As(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Os});if(await bs(this.storage,"".concat(this.storageKey,"-code-verifier")),s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:s}):{data:{user:null,session:null,redirectType:null},error:new Yr}}catch(s){if(Gr(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:s,nonce:o}=e,i=await As(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Os}),{data:a,error:l}=i;return l?{data:{user:null,session:null},error:l}:a&&a.session&&a.user?(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l}):{data:{user:null,session:null},error:new Yr}}catch(t){if(Gr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,s,o;try{if("email"in e){const{email:r,options:s}=e;let o=null,i=null;"pkce"===this.flowType&&([o,i]=await ks(this.storage,this.storageKey));const{error:a}=await As(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null===s||void 0===s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:i},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:a}=await As(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(s=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(o=null===n||void 0===n?void 0:n.channel)&&void 0!==o?o:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:a}}throw new $r("You must provide either an email or phone number.")}catch(i){if(Gr(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let r,s;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:o,error:i}=await As(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:Os});if(i)throw i;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,l=o.user;return(null===a||void 0===a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(r){if(Gr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let s=null,o=null;return"pkce"===this.flowType&&([s,o]=await ks(this.storage,this.storageKey)),await As(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Us})}catch(s){if(Gr(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Jr;const{error:r}=await As(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(Gr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:s}=e,{error:o}=await As(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:n,type:r,options:s}=e,{data:o,error:i}=await As(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:i}}throw new $r("You must provide either an email or phone number and a type")}catch(t){if(Gr(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(Em){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Em){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Br;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await As(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Is}):await this._useSession((async e=>{var t,n,r;const{data:s,error:o}=e;if(o)throw o;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await As(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Is}):{data:{user:null},error:new Jr}}))}catch(t){if(Gr(t))return function(e){return Gr(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await bs(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession((async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new Jr;const o=r.session;let i=null,a=null;"pkce"===this.flowType&&null!=e.email&&([i,a]=await ks(this.storage,this.storageKey));const{data:l,error:c}=await As(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:a}),jwt:o.access_token,xform:Is});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}}))}catch(n){if(Gr(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Jr;const t=Date.now()/1e3;let n=t,r=!0,s=null;const{payload:o}=xs(e.access_token);if(o.exp&&(n=o.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:r,error:o}=await this._getUser(e.access_token);if(o)throw o;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(Gr(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:s}=t;if(s)throw s;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Jr;const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Gr(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!fs())throw new Qr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Xr("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Qr("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Xr("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:o,expires_in:i,expires_at:a,token_type:l}=e;if(!s||!i||!o||!l)throw new Qr("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;a&&(d=parseInt(a));const h=d-c;1e3*h<=Dr&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(s);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:u,expires_at:d,refresh_token:o,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(Gr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ys(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession((async t=>{var n;const{data:r,error:s}=t;if(s)return{error:s};const o=null===(n=r.session)||void 0===n?void 0:n.access_token;if(o){const{error:t}=await this.admin.signOut(o,e);if(t&&(!function(e){return Gr(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await bs(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:s}=t;if(s)throw s;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(Cm){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",Cm),console.error(Cm)}}))}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await ks(this.storage,this.storageKey,!0));try{return await As(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(Gr(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Gr(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession((async t=>{var n,r,s,o,i;const{data:a,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await As(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(o=a.session)||void 0===o?void 0:o.access_token)&&void 0!==i?i:void 0})}));if(r)throw r;return fs()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(Gr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var n,r;const{data:s,error:o}=t;if(o)throw o;return await As(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(t){if(Gr(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const s=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await As(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Os})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&es(t)&&Date.now()+n-s<Dr},new Promise(((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await n(s);if(!r(s,null,t))return void e(t)}catch(Em){if(!r(s,Em))return void t(Em)}})()})))}catch(s){if(this._debug(t,"error",s),Gr(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),fs()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await ys(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(e=n.expires_at)&&void 0!==e?e:1/0)-Date.now()<Br;if(this._debug(t,"session has".concat(r?"":" not"," expired with margin of ").concat(Br,"s")),r){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),es(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(Cm){return this._debug(t,"error",Cm),void console.error(Cm)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Jr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new ws;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Jr;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(s){if(this._debug(r,"error",s),Gr(s)){const e={session:null,error:s};return es(s)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],s=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(Em){r.push(Em)}}));if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await vs(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await bs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&fs()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Em){console.error("removing visibilitychange callback failed",Em)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),Dr);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const e=Date.now();try{return await this._useSession((async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/Dr);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(Dr,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(Em){console.error("Auto refresh tick failed with error. This is likely a transient error.",Em)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(Em){if(!(Em.isAcquireTimeout||Em instanceof qs))throw Em;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fs()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await ks(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await As(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Gr(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:s,error:o}=t;if(o)return{data:null,error:o};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:l}=await As(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(n=null===s||void 0===s?void 0:s.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===a||void 0===a?void 0:a.totp)||void 0===r?void 0:r.qr_code)&&(a.totp.qr_code="data:image/svg+xml;utf-8,".concat(a.totp.qr_code)),{data:a,error:null})}))}catch(t){if(Gr(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;if(s)return{data:null,error:s};const{data:o,error:i}=await As(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:i})}))}catch(t){if(Gr(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await As(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Gr(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),s=n.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=xs(r.access_token);let i=null;o.aal&&(i=o.aal);let a=i;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(a="aal2");return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:o.amr||[]},error:null}}))))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find((t=>t.kid===e));if(t)return t;if(t=this.jwks.keys.find((t=>t.kid===e)),t&&this.jwks_cached_at+6e5>Date.now())return t;const{data:n,error:r}=await As(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(r)throw r;if(!n.keys||0===n.keys.length)throw new ns("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),t=n.keys.find((t=>t.kid===e)),!t)throw new ns("No matching signing key found in JWKS");return t}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:s,signature:o,raw:{header:i,payload:a}}=xs(n);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp),!r.kid||"HS256"===r.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:s,header:r,signature:o},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),c=await this.fetchJwk(r.kid,t),u=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,u,o,function(e){const t=[];return us(e,(e=>t.push(e))),new Uint8Array(t)}("".concat(i,".").concat(a))))throw new ns("Invalid JWT signature");return{data:{claims:s,header:r,signature:o},error:null}}catch(n){if(Gr(n))return{data:null,error:n};throw n}}}$s.nextInstanceID=0;const Qs=$s;class Xs extends Qs{constructor(e){super(e)}}var Zs=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(Em){o(Em)}}function a(e){try{l(r.throw(e))}catch(Em){o(Em)}}function l(e){e.done?s(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(i,a)}l((r=r.apply(e,t||[])).next())}))};class eo{constructor(e,t,n){var r,s,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=function(e){return e.endsWith("/")?e:e+"/"}(e),a=new URL(i);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l="sb-".concat(a.hostname.split(".")[0],"-auth-token"),c=function(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===a||void 0===a?void 0:a.headers)&&void 0!==r?r:{})}),accessToken:()=>Ir(this,void 0,void 0,(function*(){return""}))};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Tr,realtime:Nr,auth:Object.assign(Object.assign({},Pr),{storageKey:l}),global:Cr});this.storageKey=null!==(r=c.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(s=c.global.headers)&&void 0!==s?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(o=c.auth)&&void 0!==o?o:{},this.headers,c.global.fetch),this.fetch=Lr(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new xn(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new bn(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new _r(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Zs(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:s,detectSessionInUrl:o,storage:i,storageKey:a,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Xs({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:a,autoRefreshToken:r,persistSession:s,detectSessionInUrl:o,storage:i,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new nr(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}let to=null,no=null;const ro=async()=>to||(no||(no=(async()=>{try{const r=await(async()=>{const e=Date.now();try{console.log("\ud83d\udd27 [SUPABASE] Fetching config from server...",{timestamp:(new Date).toISOString()});const t=await fetch("/api/supabase-config");if(!t.ok)throw new Error("Failed to fetch Supabase config");const n=await t.json();return console.log("\ud83d\udd27 [SUPABASE] Config fetched successfully",{took:"".concat(Date.now()-e,"ms"),hasUrl:!(null===n||void 0===n||!n.url),hasKey:!(null===n||void 0===n||!n.anonKey)}),n}catch(t){return console.error("\u274c Failed to get Supabase config from server:",t,{took:"".concat(Date.now()-e,"ms")}),null}})();return r&&r.url&&r.anonKey?(e=r.url,t=r.anonKey,n={auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"gamebuddies-auth",flowType:"pkce"},realtime:{params:{eventsPerSecond:10}}},to=new eo(e,t,n),console.log("\u2705 Supabase client initialized for frontend"),to):(console.error("\u274c Cannot initialize Supabase client - invalid config:",r),null)}catch(r){return console.error("\u274c Error initializing Supabase client:",r),null}var e,t,n})(),no)),so=async()=>(to||await ro(),to),oo=(0,i.createContext)({}),io=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[s,o]=(0,i.useState)(null),[a,l]=(0,i.useState)(!0);(0,i.useEffect)((()=>{c();const e=()=>{sessionStorage.getItem("gamebuddies-session-temp")&&(localStorage.removeItem("gamebuddies-auth"),console.log("\ud83d\udd12 [AUTH] Cleared temporary session on browser close"))};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[]);const c=async()=>{const e=Date.now();try{console.log("\ud83d\udd10 [AUTH] Initializing auth...",{timestamp:(new Date).toISOString()});const t=Date.now(),n=await so();console.log("\ud83d\udd10 [AUTH DEBUG] Supabase client obtained",{took:"".concat(Date.now()-t,"ms"),timestamp:(new Date).toISOString()});const i="gamebuddies-auth",a=localStorage.getItem(i);if(a)try{const e=JSON.parse(a);null!==e&&void 0!==e&&e.access_token&&null!==e&&void 0!==e&&e.user&&(console.log("\ud83d\udd10 [AUTH] Found cached session in localStorage",{userId:e.user.id,expiresAt:e.expires_at?new Date(1e3*e.expires_at).toISOString():null}),o(e),await u(e.user.id,e.access_token))}catch(Em){console.warn("\ud83d\udd10 [AUTH] Failed to parse cached session:",Em)}const{data:{subscription:c}}=n.auth.onAuthStateChange(((e,t)=>{var n;console.log("\ud83d\udd10 [AUTH] State changed:",e,t?"authenticated":"guest",{timestamp:(new Date).toISOString(),userId:null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n.id}),o(t),t?u(t.user.id,t.access_token):r(null),l(!1)}));console.log("\ud83d\udd10 [AUTH DEBUG] Auth state listener set up"),l(!1),console.log("\ud83d\udd10 [AUTH DEBUG] Initial load complete",{took:"".concat(Date.now()-e,"ms"),hasSession:!!s}),console.log("\ud83d\udd10 [AUTH DEBUG] Calling getSession() for validation...",{timestamp:(new Date).toISOString()});const d=Date.now();return n.auth.getSession().then((e=>{let{data:{session:t},error:n}=e;const s=Date.now()-d;n?console.error("\u274c [AUTH] Session validation error:",n,{took:"".concat(s,"ms")}):(console.log("\ud83d\udd10 [AUTH] Session validated:",t?"authenticated":"guest",{took:"".concat(s,"ms"),timestamp:(new Date).toISOString()}),o(t),t?u(t.user.id,t.access_token):r(null))})).catch((e=>{console.error("\u274c [AUTH] getSession failed:",e,{took:"".concat(Date.now()-d,"ms")})})),()=>{c.unsubscribe()}}catch(t){console.error("\u274c [AUTH] Init error:",t,{took:"".concat(Date.now()-e,"ms")}),console.error("\u274c [AUTH] Init error stack:",t.stack),console.error("\u274c [AUTH] Init error name:",t.name),console.error("\u274c [AUTH] Init error message:",t.message),l(!1)}},u=async(e,t)=>{try{if(console.log("\ud83d\udc64 [AUTH] Fetching user from database:",e),!t)throw console.error("\u274c [AUTH] No access token provided to fetchUser"),new Error("No authentication token");console.log("\ud83d\udc64 [AUTH DEBUG] Using provided access token:",{hasAccessToken:!0,tokenPreview:t.substring(0,20)+"..."}),console.log("\ud83d\udd10 [AUTH] Sending authenticated request with JWT token");const n="/api/users/".concat(e);console.log("\ud83d\udd10 [AUTH DEBUG] Request URL:",n),console.log("\ud83d\udd10 [AUTH DEBUG] Request headers:",{Authorization:"Bearer "+t.substring(0,20)+"...","Content-Type":"application/json"});const s=await fetch(n,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(console.log("\ud83d\udce1 [AUTH DEBUG] Response status:",s.status,s.statusText),console.log("\ud83d\udce1 [AUTH DEBUG] Response headers:",Object.fromEntries(s.headers.entries())),!s.ok){const e=await s.json().catch((()=>({error:"Unknown error"})));if(console.error("\u274c [AUTH] Fetch user failed:",s.status,e),401===s.status)return console.warn("\ud83d\udd10 [AUTH] Token invalid/expired, clearing session..."),localStorage.removeItem("gamebuddies-auth"),o(null),void r(null);throw new Error(e.error||"Failed to fetch user")}const i=await s.json();console.log("\u2705 [AUTH] User data loaded:",{id:i.user.id,username:i.user.username,premium:i.user.premium_tier,premiumExpires:i.user.premium_expires_at,subscriptionCanceled:i.user.subscription_canceled_at}),r(i.user),console.log("\u2705 [AUTH DEBUG] User state updated successfully. Premium Tier:",i.user.premium_tier)}catch(n){console.error("\u274c [AUTH] Failed to fetch user:",n),console.error("\u274c [AUTH] Error details:",n.message),console.error("\u274c [AUTH] Error stack:",n.stack)}},d=(0,i.useCallback)((async()=>{try{console.log("\ud83d\udeaa [AUTH] Signing out..."),r(null),o(null),localStorage.removeItem("gamebuddies-auth");const e=await so(),{error:t}=await e.auth.signOut();t&&console.error("\u274c [AUTH] Sign out error:",t),console.log("\u2705 [AUTH] Signed out successfully")}catch(e){console.error("\u274c [AUTH] Sign out failed:",e)}}),[]),h=(0,i.useCallback)((async()=>{s&&await u(s.user.id,s.access_token)}),[s]),f={user:n,session:s,loading:a,signOut:d,refreshUser:h,isAuthenticated:!!s,isGuest:!s,isPremium:!(!n||!n.premium_tier||"free"===n.premium_tier),supabaseUser:(null===s||void 0===s?void 0:s.user)||null};return(0,Ie.jsx)(oo.Provider,{value:f,children:t})},ao=()=>{const e=(0,i.useContext)(oo);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},lo=()=>{const{notification:e,clearNotification:t}=dn();if(!e)return null;const{message:n,type:r}=e;return(0,Ie.jsxs)("div",{className:"notification-banner notification-".concat(r),children:[(0,Ie.jsx)("span",{className:"notification-message",children:n}),(0,Ie.jsx)("button",{onClick:t,className:"notification-close-btn",children:"\xd7"})]})};function co(e){return co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},co(e)}function uo(e){var t=function(e,t){if("object"!=co(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=co(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==co(t)?t:t+""}function ho(e,t,n){return(t=uo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fo(Object(n),!0).forEach((function(t){ho(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const mo=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),go=(0,i.createContext)({}),vo=(0,i.createContext)(null),yo="undefined"!==typeof document,bo=yo?i.useLayoutEffect:i.useEffect,wo=(0,i.createContext)({strict:!1}),xo=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),So="data-"+xo("framerAppearId");function jo(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function ko(e){return"string"===typeof e||Array.isArray(e)}function _o(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Eo=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Co=["initial",...Eo];function To(e){return _o(e.animate)||Co.some((t=>ko(e[t])))}function Po(e){return Boolean(To(e)||e.variants)}function No(e){const{initial:t,animate:n}=function(e,t){if(To(e)){const{initial:t,animate:n}=e;return{initial:!1===t||ko(t)?t:void 0,animate:ko(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(go));return(0,i.useMemo)((()=>({initial:t,animate:n})),[Ro(t),Ro(n)])}function Ro(e){return Array.isArray(e)?e.join(" "):e}const Ao={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Oo={};for(const Pm in Ao)Oo[Pm]={isEnabled:e=>Ao[Pm].some((t=>!!e[t]))};const Lo=(0,i.createContext)({}),Io=(0,i.createContext)({}),Uo=Symbol.for("motionComponentSymbol");function Do(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:o}=e;t&&function(e){for(const t in e)Oo[t]=po(po({},Oo[t]),e[t])}(t);const a=(0,i.forwardRef)((function(e,a){let l;const c=po(po(po({},(0,i.useContext)(mo)),e),{},{layoutId:Bo(e)}),{isStatic:u}=c,d=No(e),h=s(e,u);if(!u&&yo){d.visualElement=function(e,t,n,r){const{visualElement:s}=(0,i.useContext)(go),o=(0,i.useContext)(wo),a=(0,i.useContext)(vo),l=(0,i.useContext)(mo).reducedMotion,c=(0,i.useRef)();r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:l}));const u=c.current;(0,i.useInsertionEffect)((()=>{u&&u.update(n,a)}));const d=(0,i.useRef)(Boolean(n[So]&&!window.HandoffComplete));return bo((()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())})),(0,i.useEffect)((()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))})),u}(o,h,c,n);const e=(0,i.useContext)(Io),r=(0,i.useContext)(wo).strict;d.visualElement&&(l=d.visualElement.loadFeatures(c,r,t,e))}return i.createElement(go.Provider,{value:d},l&&d.visualElement?i.createElement(l,po({visualElement:d.visualElement},c)):null,r(o,e,function(e,t,n){return(0,i.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):jo(n)&&(n.current=r))}),[t])}(h,d.visualElement,a),h,u,d.visualElement))}));return a[Uo]=o,a}function Bo(e){let{layoutId:t}=e;const n=(0,i.useContext)(Lo).id;return n&&void 0!==t?n+"-"+t:t}function Mo(e){function t(t){return Do(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const Fo=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zo(e){return"string"===typeof e&&!e.includes("-")&&!!(Fo.indexOf(e)>-1||/[A-Z]/.test(e))}const Vo={};const Ho=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Go=new Set(Ho);function qo(e,t){let{layout:n,layoutId:r}=t;return Go.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Vo[e]||"opacity"===e)}const Wo=e=>Boolean(e&&e.getVelocity),Ko={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Jo=Ho.length;const Yo=e=>t=>"string"===typeof t&&t.startsWith(e),$o=Yo("--"),Qo=Yo("var(--"),Xo=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Zo=(e,t,n)=>Math.min(Math.max(n,e),t),ei={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},ti=po(po({},ei),{},{transform:e=>Zo(0,1,e)}),ni=po(po({},ei),{},{default:1}),ri=e=>Math.round(1e5*e)/1e5,si=/(-)?([\d]*\.?[\d])+/g,oi=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ii=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ai(e){return"string"===typeof e}const li=e=>({test:t=>ai(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),ci=li("deg"),ui=li("%"),di=li("px"),hi=li("vh"),fi=li("vw"),pi=po(po({},ui),{},{parse:e=>ui.parse(e)/100,transform:e=>ui.transform(100*e)}),mi=po(po({},ei),{},{transform:Math.round}),gi={borderWidth:di,borderTopWidth:di,borderRightWidth:di,borderBottomWidth:di,borderLeftWidth:di,borderRadius:di,radius:di,borderTopLeftRadius:di,borderTopRightRadius:di,borderBottomRightRadius:di,borderBottomLeftRadius:di,width:di,maxWidth:di,height:di,maxHeight:di,size:di,top:di,right:di,bottom:di,left:di,padding:di,paddingTop:di,paddingRight:di,paddingBottom:di,paddingLeft:di,margin:di,marginTop:di,marginRight:di,marginBottom:di,marginLeft:di,rotate:ci,rotateX:ci,rotateY:ci,rotateZ:ci,scale:ni,scaleX:ni,scaleY:ni,scaleZ:ni,skew:ci,skewX:ci,skewY:ci,distance:di,translateX:di,translateY:di,translateZ:di,x:di,y:di,z:di,perspective:di,transformPerspective:di,opacity:ti,originX:pi,originY:pi,originZ:di,zIndex:mi,fillOpacity:ti,strokeOpacity:ti,numOctaves:mi};function vi(e,t,n,r){const{style:s,vars:o,transform:i,transformOrigin:a}=e;let l=!1,c=!1,u=!0;for(const d in t){const e=t[d];if($o(d)){o[d]=e;continue}const n=gi[d],r=Xo(e,n);if(Go.has(d)){if(l=!0,i[d]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=r):s[d]=r}if(t.transform||(l||r?s.transform=function(e,t,n,r){let{enableHardwareAcceleration:s=!0,allowTransformNone:o=!0}=t,i="";for(let a=0;a<Jo;a++){const t=Ho[a];void 0!==e[t]&&(i+="".concat(Ko[t]||t,"(").concat(e[t],") "))}return s&&!e.z&&(i+="translateZ(0)"),i=i.trim(),r?i=r(e,n?"":i):o&&n&&(i="none"),i}(e.transform,n,u,r):s.transform&&(s.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;s.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const yi=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bi(e,t,n){for(const r in t)Wo(t[r])||qo(r,n)||(e[r]=t[r])}function wi(e,t,n){const r={};return bi(r,e.style||{},e),Object.assign(r,function(e,t,n){let{transformTemplate:r}=e;return(0,i.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return vi(e,t,{enableHardwareAcceleration:!n},r),Object.assign({},e.vars,e.style)}),[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function xi(e,t,n){const r={},s=wi(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const Si=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ji(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Si.has(e)}let ki=e=>!ji(e);try{(_i=require("@emotion/is-prop-valid").default)&&(ki=e=>e.startsWith("on")?!ji(e):_i(e))}catch(Tm){}var _i;function Ei(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Ci(e,t,n){return"string"===typeof e?e:di.transform(t+n*e)}const Ti={offset:"stroke-dashoffset",array:"stroke-dasharray"},Pi={offset:"strokeDashoffset",array:"strokeDasharray"};const Ni=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Ri(e,t,n,r,s){let{attrX:o,attrY:i,attrScale:a,originX:l,originY:c,pathLength:u,pathSpacing:d=1,pathOffset:h=0}=t;if(vi(e,Ei(t,Ni),n,s),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==l||void 0!==c||p.transform)&&(p.transformOrigin=function(e,t,n){const r=Ci(t,e.x,e.width),s=Ci(n,e.y,e.height);return"".concat(r," ").concat(s)}(m,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==o&&(f.x=o),void 0!==i&&(f.y=i),void 0!==a&&(f.scale=a),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=s?Ti:Pi;e[o.offset]=di.transform(-r);const i=di.transform(t),a=di.transform(n);e[o.array]="".concat(i," ").concat(a)}(f,u,d,h,!1)}const Ai=()=>po(po({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),Oi=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Li(e,t,n,r){const s=(0,i.useMemo)((()=>{const n=Ai();return Ri(n,t,{enableHardwareAcceleration:!1},Oi(r),e.transformTemplate),po(po({},n.attrs),{},{style:po({},n.style)})}),[t]);if(e.style){const t={};bi(t,e.style,e),s.style=po(po({},t),s.style)}return s}function Ii(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,s,o)=>{let{latestValues:a}=s;const l=(zo(t)?Li:xi)(n,a,o,t),c=function(e,t,n){const r={};for(const s in e)"values"===s&&"object"===typeof e.values||(ki(s)||!0===n&&ji(s)||!t&&!ji(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(n,"string"===typeof t,e),u=po(po(po({},c),l),{},{ref:r}),{children:d}=n,h=(0,i.useMemo)((()=>Wo(d)?d.get():d),[d]);return(0,i.createElement)(t,po(po({},u),{},{children:h}))}}function Ui(e,t,n,r){let{style:s,vars:o}=t;Object.assign(e.style,s,r&&r.getProjectionStyles(n));for(const i in o)e.style.setProperty(i,o[i])}const Di=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Bi(e,t,n,r){Ui(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Di.has(s)?s:xo(s),t.attrs[s])}function Mi(e,t){const{style:n}=e,r={};for(const s in n)(Wo(n[s])||t.style&&Wo(t.style[s])||qo(s,e))&&(r[s]=n[s]);return r}function Fi(e,t){const n=Mi(e,t);for(const r in e)if(Wo(e[r])||Wo(t[r])){n[-1!==Ho.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function zi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,s)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,s)),t}function Vi(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}const Hi=e=>Array.isArray(e);function Gi(e){const t=Wo(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const qi=["transitionEnd","transition"];const Wi=e=>(t,n)=>{const r=(0,i.useContext)(go),s=(0,i.useContext)(vo),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:s,createRenderState:o,onMount:i}=e;const a={latestValues:Ki(t,n,r,s),renderState:o()};return i&&(a.mount=e=>i(t,e,a)),a}(e,t,r,s);return n?o():Vi(o)};function Ki(e,t,n,r){const s={},o=r(e,{});for(const h in o)s[h]=Gi(o[h]);let{initial:i,animate:a}=e;const l=To(e),c=Po(e);t&&c&&!l&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===i;const d=u?a:i;if(d&&"boolean"!==typeof d&&!_o(d)){(Array.isArray(d)?d:[d]).forEach((t=>{const n=zi(e,t);if(!n)return;const{transitionEnd:r,transition:o}=n,i=Ei(n,qi);for(const e in i){let t=i[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(s[e]=t)}for(const e in r)s[e]=r[e]}))}return s}const Ji=e=>e;class Yi{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const $i=["prepare","read","update","preRender","render","postRender"];const{schedule:Qi,cancel:Xi,state:Zi,steps:ea}=function(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=$i.reduce(((e,t)=>(e[t]=function(e){let t=new Yi,n=new Yi,r=0,s=!1,o=!1;const i=new WeakSet,a={schedule:function(e){const o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s,a=o?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&i.add(e),a.add(e)&&o&&s&&(r=t.order.length),e},cancel:e=>{n.remove(e),i.delete(e)},process:l=>{if(s)o=!0;else{if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),i.has(r)&&(a.schedule(r),e())}s=!1,o&&(o=!1,a.process(l))}}};return a}((()=>n=!0)),e)),{}),i=e=>o[e].process(s),a=()=>{const o=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(o-s.timestamp,40),1),s.timestamp=o,s.isProcessing=!0,$i.forEach(i),s.isProcessing=!1,n&&t&&(r=!1,e(a))},l=$i.reduce(((t,i)=>{const l=o[i];return t[i]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,s.isProcessing||e(a)),l.schedule(t,o,i)},t}),{});return{schedule:l,cancel:e=>$i.forEach((t=>o[t].cancel(e))),state:s,steps:o}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Ji,!0),ta={useVisualState:Wi({scrapeMotionValuesFromProps:Fi,createRenderState:Ai,onMount:(e,t,n)=>{let{renderState:r,latestValues:s}=n;Qi.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(Em){r.dimensions={x:0,y:0,width:0,height:0}}})),Qi.render((()=>{Ri(r,s,{enableHardwareAcceleration:!1},Oi(t.tagName),e.transformTemplate),Bi(t,r)}))}})},na={useVisualState:Wi({scrapeMotionValuesFromProps:Mi,createRenderState:yi})};function ra(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const sa=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function oa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function ia(e,t,n,r){return ra(e,t,(e=>t=>sa(t)&&e(t,oa(t)))(n),r)}const aa=(e,t)=>n=>t(e(n)),la=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(aa)};function ca(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const ua=ca("dragHorizontal"),da=ca("dragVertical");function ha(e){let t=!1;if("y"===e)t=da();else if("x"===e)t=ua();else{const e=ua(),n=da();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function fa(){const e=ha(!0);return!e||(e(),!1)}class pa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ma(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return ia(e.current,n,((n,s)=>{if("touch"===n.pointerType||fa())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&Qi.update((()=>o[r](n,s)))}),{passive:!e.getProps()[r]})}const ga=(e,t)=>!!t&&(e===t||ga(e,t.parentElement));function va(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,oa(n))}const ya=["root"],ba=new WeakMap,wa=new WeakMap,xa=e=>{const t=ba.get(e.target);t&&t(e)},Sa=e=>{e.forEach(xa)};function ja(e,t,n){const r=function(e){let{root:t}=e,n=Ei(e,ya);const r=t||document;wa.has(r)||wa.set(r,{});const s=wa.get(r),o=JSON.stringify(n);return s[o]||(s[o]=new IntersectionObserver(Sa,po({root:t},n))),s[o]}(t);return ba.set(e,n),r.observe(e),()=>{ba.delete(e),r.unobserve(e)}}const ka={some:0,all:1};const _a={inView:{Feature:class extends pa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:ka[r]};return ja(this.node.current,o,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends pa{constructor(){super(...arguments),this.removeStartListeners=Ji,this.removeEndListeners=Ji,this.removeAccessibleListeners=Ji,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=ia(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:s}=this.node.getProps();Qi.update((()=>{s||ga(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),s=ia(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=la(r,s),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=ra(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=ra(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&va("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&Qi.update((()=>n(e,t)))}))})),va("down",((e,t)=>{this.startPress(e,t)}))})),t=ra(this.node.current,"blur",(()=>{this.isPressing&&va("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=la(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Qi.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!fa()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Qi.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=ia(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=ra(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=la(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends pa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Em){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=la(ra(this.node.current,"focus",(()=>this.onFocus())),ra(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends pa{mount(){this.unmount=la(ma(this.node,!0),ma(this.node,!1))}unmount(){}}}};function Ea(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ca(e,t,n){const r=e.getProps();return zi(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}let Ta=Ji,Pa=Ji;const Na=e=>1e3*e,Ra=e=>e/1e3,Aa=!1,Oa=e=>Array.isArray(e)&&"number"===typeof e[0];function La(e){return Boolean(!e||"string"===typeof e&&Ua[e]||Oa(e)||Array.isArray(e)&&e.every(La))}const Ia=e=>{let[t,n,r,s]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(s,")")},Ua={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ia([0,.65,.55,1]),circOut:Ia([.55,0,1,.45]),backIn:Ia([.31,.01,.66,-.59]),backOut:Ia([.33,1.53,.69,.99])};function Da(e){if(e)return Oa(e)?Ia(e):Array.isArray(e)?e.map(Da):Ua[e]}const Ba=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Ma(e,t,n,r){if(e===t&&n===r)return Ji;const s=t=>function(e,t,n,r,s){let o,i,a=0;do{i=t+(n-t)/2,o=Ba(i,r,s)-e,o>0?n=i:t=i}while(Math.abs(o)>1e-7&&++a<12);return i}(t,0,1,e,n);return e=>0===e||1===e?e:Ba(s(e),t,r)}const Fa=Ma(.42,0,1,1),za=Ma(0,0,.58,1),Va=Ma(.42,0,.58,1),Ha=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ga=e=>t=>1-e(1-t),qa=e=>1-Math.sin(Math.acos(e)),Wa=Ga(qa),Ka=Ha(qa),Ja=Ma(.33,1.53,.69,.99),Ya=Ga(Ja),$a=Ha(Ya),Qa={linear:Ji,easeIn:Fa,easeInOut:Va,easeOut:za,circIn:qa,circInOut:Ka,circOut:Wa,backIn:Ya,backInOut:$a,backOut:Ja,anticipate:e=>(e*=2)<1?.5*Ya(e):.5*(2-Math.pow(2,-10*(e-1)))},Xa=e=>{if(Array.isArray(e)){Pa(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,s]=e;return Ma(t,n,r,s)}return"string"===typeof e?(Pa(void 0!==Qa[e],"Invalid easing type '".concat(e,"'")),Qa[e]):e},Za=(e,t)=>n=>Boolean(ai(n)&&ii.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),el=(e,t,n)=>r=>{if(!ai(r))return r;const[s,o,i,a]=r.match(si);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(i),alpha:void 0!==a?parseFloat(a):1}},tl=po(po({},ei),{},{transform:e=>Math.round((e=>Zo(0,255,e))(e))}),nl={test:Za("rgb","red"),parse:el("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:s=1}=e;return"rgba("+tl.transform(t)+", "+tl.transform(n)+", "+tl.transform(r)+", "+ri(ti.transform(s))+")"}};const rl={test:Za("#"),parse:function(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:nl.transform},sl={test:Za("hsl","hue"),parse:el("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:s=1}=e;return"hsla("+Math.round(t)+", "+ui.transform(ri(n))+", "+ui.transform(ri(r))+", "+ri(ti.transform(s))+")"}},ol={test:e=>nl.test(e)||rl.test(e)||sl.test(e),parse:e=>nl.test(e)?nl.parse(e):sl.test(e)?sl.parse(e):rl.parse(e),transform:e=>ai(e)?e:e.hasOwnProperty("red")?nl.transform(e):sl.transform(e)},il=(e,t,n)=>-n*e+n*t+e;function al(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const ll=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},cl=[rl,nl,sl];function ul(e){const t=(n=e,cl.find((e=>e.test(n))));var n;Pa(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let r=t.parse(e);return t===sl&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:s}=e;t/=360,n/=100,r/=100;let o=0,i=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,s=2*r-e;o=al(s,e,t+1/3),i=al(s,e,t),a=al(s,e,t-1/3)}else o=i=a=r;return{red:Math.round(255*o),green:Math.round(255*i),blue:Math.round(255*a),alpha:s}}(r)),r}const dl=(e,t)=>{const n=ul(e),r=ul(t),s=po({},n);return e=>(s.red=ll(n.red,r.red,e),s.green=ll(n.green,r.green,e),s.blue=ll(n.blue,r.blue,e),s.alpha=il(n.alpha,r.alpha,e),nl.transform(s))};const hl={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Ji},fl={regex:oi,countKey:"Colors",token:"${c}",parse:ol.parse},pl={regex:si,countKey:"Numbers",token:"${n}",parse:ei.parse};function ml(e,t){let{regex:n,countKey:r,token:s,parse:o}=t;const i=e.tokenised.match(n);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(n,s),e.values.push(...i.map(o)))}function gl(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ml(n,hl),ml(n,fl),ml(n,pl),n}function vl(e){return gl(e).values}function yl(e){const{values:t,numColors:n,numVars:r,tokenised:s}=gl(e),o=t.length;return e=>{let t=s;for(let s=0;s<o;s++)t=s<r?t.replace(hl.token,e[s]):s<r+n?t.replace(fl.token,ol.transform(e[s])):t.replace(pl.token,ri(e[s]));return t}}const bl=e=>"number"===typeof e?0:e;const wl={test:function(e){var t,n;return isNaN(e)&&ai(e)&&((null===(t=e.match(si))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(oi))||void 0===n?void 0:n.length)||0)>0},parse:vl,createTransformer:yl,getAnimatableNone:function(e){const t=vl(e);return yl(e)(t.map(bl))}},xl=(e,t)=>n=>"".concat(n>0?t:e);function Sl(e,t){return"number"===typeof e?n=>il(e,t,n):ol.test(e)?dl(e,t):e.startsWith("var(")?xl(e,t):_l(e,t)}const jl=(e,t)=>{const n=[...e],r=n.length,s=e.map(((e,n)=>Sl(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=s[t](e);return n}},kl=(e,t)=>{const n=po(po({},e),t),r={};for(const s in n)void 0!==e[s]&&void 0!==t[s]&&(r[s]=Sl(e[s],t[s]));return e=>{for(const t in r)n[t]=r[t](e);return n}},_l=(e,t)=>{const n=wl.createTransformer(t),r=gl(e),s=gl(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?la(jl(r.values,s.values),n):(Ta(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),xl(e,t))},El=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Cl=(e,t)=>n=>il(e,t,n);function Tl(e,t,n){const r=[],s=n||("number"===typeof(o=e[0])?Cl:"string"===typeof o?ol.test(o)?dl:_l:Array.isArray(o)?jl:"object"===typeof o?kl:Cl);var o;const i=e.length-1;for(let a=0;a<i;a++){let n=s(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||Ji:t;n=la(e,n)}r.push(n)}return r}function Pl(e,t){let{clamp:n=!0,ease:r,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(Pa(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=Tl(t,r,s),a=i.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=El(e[n],e[n+1],t);return i[n](r)};return n?t=>l(Zo(e[0],e[o-1],t)):l}function Nl(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=El(0,t,r);e.push(il(n,1,s))}}(t,e.length-1),t}function Rl(e){let{duration:t=300,keyframes:n,times:r,ease:s="easeInOut"}=e;const o=(e=>Array.isArray(e)&&"number"!==typeof e[0])(s)?s.map(Xa):Xa(s),i={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:Nl(n),t),l=Pl(a,n,{ease:Array.isArray(o)?o:(c=n,u=o,c.map((()=>u||Va)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(i.value=l(e),i.done=e>=t,i)}}function Al(e,t){return t?e*(1e3/t):0}function Ol(e,t,n){const r=Math.max(t-5,0);return Al(n-e(r),t-r)}const Ll=.001;function Il(e){let t,n,{duration:r=800,bounce:s=.25,velocity:o=0,mass:i=1}=e;Ta(r<=Na(10),"Spring duration must be 10 seconds or less");let a=1-s;a=Zo(.05,1,a),r=Zo(.01,10,Ra(r)),a<1?(t=e=>{const t=e*a,n=t*r,s=t-o,i=Dl(e,a),l=Math.exp(-n);return Ll-s/i*l},n=e=>{const n=e*a*r,s=n*o+o,i=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Dl(Math.pow(e,2),a);return(-t(e)+Ll>0?-1:1)*((s-i)*l)/c}):(t=e=>Math.exp(-e*r)*((e-o)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(o-e)));const l=function(e,t,n){let r=n;for(let s=1;s<Ul;s++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Na(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*i;return{stiffness:e,damping:2*a*Math.sqrt(i*e),duration:r}}}const Ul=12;function Dl(e,t){return e*Math.sqrt(1-t*t)}const Bl=["keyframes","restDelta","restSpeed"],Ml=["duration","bounce"],Fl=["stiffness","damping","mass"];function zl(e,t){return t.some((t=>void 0!==e[t]))}function Vl(e){let{keyframes:t,restDelta:n,restSpeed:r}=e,s=Ei(e,Bl);const o=t[0],i=t[t.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t=po({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!zl(e,Fl)&&zl(e,Ml)){const n=Il(e);t=po(po(po({},t),n),{},{mass:1}),t.isResolvedFromDuration=!0}return t}(po(po({},s),{},{velocity:-Ra(s.velocity||0)})),p=h||0,m=c/(2*Math.sqrt(l*u)),g=i-o,v=Ra(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(r||(r=y?.01:2),n||(n=y?.005:.5),m<1){const e=Dl(v,m);b=t=>{const n=Math.exp(-m*v*t);return i-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>i-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return i-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)a.done=e>=d;else{let s=p;0!==e&&(s=m<1?Ol(b,e,t):0);const o=Math.abs(s)<=r,l=Math.abs(i-t)<=n;a.done=o&&l}return a.value=a.done?i:t,a}}}function Hl(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===a?g:a(g);v!==g&&(m=v-h);const y=e=>-m*Math.exp(-e/s),b=e=>v+y(e),w=e=>{const t=y(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let x,S;const j=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(x=e,S=Vl({keyframes:[f.value,p(f.value)],velocity:Ol(b,e,f.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==x||(t=!0,w(e),j(e)),void 0!==x&&e>x?S.next(e-x):(!t&&w(e),f)}}}const Gl=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Qi.update(t,!0),stop:()=>Xi(t),now:()=>Zi.isProcessing?Zi.timestamp:performance.now()}};function ql(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const Wl=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],Kl={decay:Hl,inertia:Hl,tween:Rl,keyframes:Rl,spring:Vl};function Jl(e){let t,n,{autoplay:r=!0,delay:s=0,driver:o=Gl,keyframes:i,type:a="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:d,onStop:h,onComplete:f,onUpdate:p}=e,m=Ei(e,Wl),g=1,v=!1;const y=()=>{n=new Promise((e=>{t=e}))};let b;y();const w=Kl[a]||Rl;let x;w!==Rl&&"number"!==typeof i[0]&&(x=Pl([0,100],i,{clamp:!1}),i=[0,100]);const S=w(po(po({},m),{},{keyframes:i}));let j;"mirror"===u&&(j=w(po(po({},m),{},{keyframes:[...i].reverse(),velocity:-(m.velocity||0)})));let k="idle",_=null,E=null,C=null;null===S.calculatedDuration&&l&&(S.calculatedDuration=ql(S));const{calculatedDuration:T}=S;let P=1/0,N=1/0;null!==T&&(P=T+c,N=P*(l+1)-c);let R=0;const A=e=>{if(null===E)return;g>0&&(E=Math.min(E,e)),g<0&&(E=Math.min(e-N/g,E)),R=null!==_?_:Math.round(e-E)*g;const t=R-s*(g>=0?1:-1),n=g>=0?t<0:t>N;R=Math.max(t,0),"finished"===k&&null===_&&(R=N);let r=R,o=S;if(l){const e=Math.min(R,N)/P;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/P)):"mirror"===u&&(o=j)),r=Zo(0,1,n)*P}const a=n?{done:!1,value:i[0]}:o.next(r);x&&(a.value=x(a.value));let{done:d}=a;n||null===T||(d=g>=0?R>=N:R<=0);const h=null===_&&("finished"===k||"running"===k&&d);return p&&p(a.value),h&&I(),a},O=()=>{b&&b.stop(),b=void 0},L=()=>{k="idle",O(),t(),y(),E=C=null},I=()=>{k="finished",f&&f(),O(),t()},U=()=>{if(v)return;b||(b=o(A));const e=b.now();d&&d(),null!==_?E=e-_:E&&"finished"!==k||(E=e),"finished"===k&&y(),C=E,_=null,k="running",b.start()};r&&U();const D={then:(e,t)=>n.then(e,t),get time(){return Ra(R)},set time(e){e=Na(e),R=e,null===_&&b&&0!==g?E=b.now()-e/g:_=e},get duration(){const e=null===S.calculatedDuration?ql(S):S.calculatedDuration;return Ra(e)},get speed(){return g},set speed(e){e!==g&&b&&(g=e,D.time=Ra(R))},get state(){return k},play:U,pause:()=>{k="paused",_=R},stop:()=>{v=!0,"idle"!==k&&(k="idle",h&&h(),L())},cancel:()=>{null!==C&&A(C),L()},complete:()=>{k="finished"},sample:e=>(E=0,A(e))};return D}const Yl=["onUpdate","onComplete"],$l=function(e){let t;return()=>(void 0===t&&(t=e()),t)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),Ql=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Xl(e,t,n){let{onUpdate:r,onComplete:s}=n,o=Ei(n,Yl);if(!($l()&&Ql.has(t)&&!o.repeatDelay&&"mirror"!==o.repeatType&&0!==o.damping&&"inertia"!==o.type))return!1;let i,a,l=!1,c=!1;const u=()=>{a=new Promise((e=>{i=e}))};u();let{keyframes:d,duration:h=300,ease:f,times:p}=o;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!La(t.ease))(t,o)){const e=Jl(po(po({},o),{},{repeat:0,delay:0}));let t={done:!1,value:d[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,d=n,h=r-10,f="linear"}const m=function(e,t,n){let{delay:r=0,duration:s,repeat:o=0,repeatType:i="loop",ease:a,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=Da(a);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:"reverse"===i?"alternate":"normal"})}(e.owner.current,t,d,po(po({},o),{},{duration:h,ease:f,times:p})),g=()=>{c=!1,m.cancel()},v=()=>{c=!0,Qi.update(g),i(),u()};m.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(d,o)),s&&s(),v())};return{then:(e,t)=>a.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,Ji),get time(){return Ra(m.currentTime||0)},set time(e){m.currentTime=Na(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return Ra(h)},play:()=>{l||(m.play(),Xi(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=Jl(po(po({},o),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}v()},complete:()=>{c||m.finish()},cancel:v}}const Zl={type:"spring",stiffness:500,damping:25,restSpeed:10},ec={type:"keyframes",duration:.8},tc={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nc=(e,t)=>{let{keyframes:n}=t;return n.length>2?ec:Go.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Zl:tc},rc=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!wl.test(t)&&"0"!==t||t.startsWith("url("))),sc=new Set(["brightness","contrast","saturate","opacity"]);function oc(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(si)||[];if(!r)return e;const s=n.replace(r,"");let o=sc.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const ic=/([a-z-]*)\(.*?\)/g,ac=po(po({},wl),{},{getAnimatableNone:e=>{const t=e.match(ic);return t?t.map(oc).join(" "):e}}),lc=po(po({},gi),{},{color:ol,backgroundColor:ol,outlineColor:ol,fill:ol,stroke:ol,borderColor:ol,borderTopColor:ol,borderRightColor:ol,borderBottomColor:ol,borderLeftColor:ol,filter:ac,WebkitFilter:ac}),cc=e=>lc[e];function uc(e,t){let n=cc(e);return n!==ac&&(n=wl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const dc=e=>/^0[^.\s]+$/.test(e);function hc(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||dc(e):void 0}const fc=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function pc(e,t){return e[t]||e.default||e}const mc=!1,gc=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s=>{const o=pc(r,e)||{},i=o.delay||r.delay||0;let{elapsed:a=0}=r;a-=Na(i);const l=function(e,t,n,r){const s=rc(t,n);let o;o=Array.isArray(n)?[...n]:[null,n];const i=void 0!==r.from?r.from:e.get();let a;const l=[];for(let c=0;c<o.length;c++)null===o[c]&&(o[c]=0===c?i:o[c-1]),hc(o[c])&&l.push(c),"string"===typeof o[c]&&"none"!==o[c]&&"0"!==o[c]&&(a=o[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++)o[l[c]]=uc(t,a);return o}(t,e,n,o),c=l[0],u=l[l.length-1],d=rc(e,c),h=rc(e,u);Ta(d===h,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let f=po(po({keyframes:l,velocity:t.getVelocity(),ease:"easeOut"},o),{},{delay:-a,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}});if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:s,staggerDirection:o,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u}=e,d=Ei(e,fc);return!!Object.keys(d).length}(o)||(f=po(po({},f),nc(e,f))),f.duration&&(f.duration=Na(f.duration)),f.repeatDelay&&(f.repeatDelay=Na(f.repeatDelay)),!d||!h||Aa||!1===o.type||mc)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:s}=e;const o=()=>(r&&r(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Ji,pause:Ji,stop:Ji,then:e=>(e(),Promise.resolve()),cancel:Ji,complete:Ji});return n?Jl({keyframes:[0,1],duration:0,delay:n,onComplete:o}):o()}(Aa?po(po({},f),{},{delay:0}):f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=Xl(t,e,f);if(n)return n}return Jl(f)}};function vc(e){return Boolean(Wo(e)&&e.add)}const yc=e=>/^\-?\d*\.?\d+$/.test(e);function bc(e,t){-1===e.indexOf(t)&&e.push(t)}function wc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class xc{constructor(){this.subscriptions=[]}add(e){return bc(this.subscriptions,e),()=>wc(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const r=this.subscriptions[s];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sc={current:void 0};class jc{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:s}=Zi;t.lastUpdated!==s&&(t.timeDelta=r,t.lastUpdated=s,Qi.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>Qi.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new xc);const n=this.events[e].add(t);return"change"===e?()=>{n(),Qi.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Sc.current&&Sc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Al(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kc(e,t){return new jc(e,t)}const _c=e=>t=>t.test(e),Ec=[ei,di,ui,ci,fi,hi,{test:e=>"auto"===e,parse:e=>e}],Cc=e=>Ec.find(_c(e)),Tc=[...Ec,ol,wl],Pc=["transitionEnd","transition"];function Nc(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,kc(n))}function Rc(e,t){const n=Ca(e,t);let r=n?e.makeTargetAnimatable(n,!1):{},{transitionEnd:s={},transition:o={}}=r,i=Ei(r,Pc);i=po(po({},i),s);for(const l in i){Nc(e,l,(a=i[l],Hi(a)?a[a.length-1]||0:a))}var a}function Ac(e,t){if(!t)return;return(t[e]||t.default||t).from}const Oc=["transition","transitionEnd"];function Lc(e,t){let{protectedKeys:n,needsAnimating:r}=e;const s=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,s}function Ic(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function Uc(e,t){let{delay:n=0,transitionOverride:r,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.makeTargetAnimatable(t),{transition:i=e.getDefaultTransition(),transitionEnd:a}=o,l=Ei(o,Oc);const c=e.getValue("willChange");r&&(i=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const t=e.getValue(h),r=l[h];if(!t||void 0===r||d&&Lc(d,h))continue;const s=po({delay:n,elapsed:0},pc(i||{},h));if(window.HandoffAppearAnimations){const n=e.getProps()[So];if(n){const e=window.HandoffAppearAnimations(n,h,t,Qi);null!==e&&(s.elapsed=e,s.isHandoff=!0)}}let o=!s.isHandoff&&!Ic(t,r);if("spring"===s.type&&(t.getVelocity()||s.velocity)&&(o=!1),t.animation&&(o=!1),o)continue;t.start(gc(h,t,r,e.shouldReduceMotion&&Go.has(h)?{type:!1}:s));const a=t.animation;vc(c)&&(c.add(h),a.then((()=>c.remove(h)))),u.push(a)}return a&&Promise.all(u).then((()=>{a&&Rc(e,a)})),u}function Dc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Ca(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(Uc(e,r,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:o=0,staggerChildren:i,staggerDirection:a}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const i=[],a=(e.variantChildren.size-1)*r,l=1===s?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Bc).forEach(((e,r)=>{e.notify("AnimationStart",t),i.push(Dc(e,t,po(po({},o),{},{delay:n+l(r)})).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(i)}(e,t,o+r,i,a,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[e,t]="beforeChildren"===a?[o,i]:[i,o];return e().then((()=>t()))}return Promise.all([o(),i(n.delay)])}function Bc(e,t){return e.sortNodePosition(t)}const Mc=["transition","transitionEnd"],Fc=[...Eo].reverse(),zc=Eo.length;function Vc(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map((t=>Dc(e,t,r)));n=Promise.all(s)}else if("string"===typeof t)n=Dc(e,t,r);else{const s="function"===typeof t?Ca(e,t,r.custom):t;n=Promise.all(Uc(e,s,r))}return n.then((()=>e.notify("AnimationComplete",t)))}(e,n,r)})))}function Hc(e){let t=Vc(e);const n={animate:qc(!0),whileInView:qc(),whileHover:qc(),whileTap:qc(),whileDrag:qc(),whileFocus:qc(),exit:qc()};let r=!0;const s=(t,n)=>{const r=Ca(e,n);if(r){const{transition:e,transitionEnd:n}=r,s=Ei(r,Mc);t=po(po(po({},t),s),n)}return t};function o(o,i){const a=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let d={},h=1/0;for(let t=0;t<zc;t++){const f=Fc[t],p=n[f],m=void 0!==a[f]?a[f]:l[f],g=ko(m),v=f===i?p.isActive:null;!1===v&&(h=t);let y=m===l[f]&&m!==a[f]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys=po({},d),!p.isActive&&null===v||!m&&!p.prevProp||_o(m)||"boolean"===typeof m)continue;let b=Gc(p.prevProp,m)||f===i&&p.isActive&&!y&&g||t>h&&g,w=!1;const x=Array.isArray(m)?m:[m];let S=x.reduce(s,{});!1===v&&(S={});const{prevResolvedValues:j={}}=p,k=po(po({},j),S),_=e=>{b=!0,u.has(e)&&(w=!0,u.delete(e)),p.needsAnimating[e]=!0};for(const e in k){const t=S[e],n=j[e];if(d.hasOwnProperty(e))continue;let r=!1;r=Hi(t)&&Hi(n)?!Ea(t,n):t!==n,r?void 0!==t?_(e):u.add(e):void 0!==t&&u.has(e)?_(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(d=po(po({},d),S)),r&&e.blockInitialAnimation&&(b=!1),!b||y&&!w||c.push(...x.map((e=>({animation:e,options:po({type:f},o)}))))}if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:o,setActive:function(t,r,s){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=o(s,t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function Gc(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Ea(t,e)}function qc(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Wc=0;const Kc={animation:{Feature:class extends pa{constructor(e){super(e),e.animationState||(e.animationState=Hc(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),_o(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends pa{constructor(){super(...arguments),this.id=Wc++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&s.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Jc=(e,t)=>Math.abs(e-t);class Yc{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Xc(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Jc(e.x,t.x),r=Jc(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:s}=Zi;this.history.push(po(po({},r),{},{timestamp:s}));const{onStart:o,onMove:i}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=$c(t,this.transformPagePoint),Qi.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=Xc("pointercancel"===e.type?this.lastMoveEventInfo:$c(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},!sa(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const o=$c(oa(e),this.transformPagePoint),{point:i}=o,{timestamp:a}=Zi;this.history=[po(po({},i),{},{timestamp:a})];const{onSessionStart:l}=t;l&&l(e,Xc(o,this.history)),this.removeListeners=la(ia(this.contextWindow,"pointermove",this.handlePointerMove),ia(this.contextWindow,"pointerup",this.handlePointerUp),ia(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xi(this.updatePoint)}}function $c(e,t){return t?{point:t(e.point)}:e}function Qc(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Xc(e,t){let{point:n}=e;return{point:n,delta:Qc(n,eu(t)),offset:Qc(n,Zc(t)),velocity:tu(t,.1)}}function Zc(e){return e[0]}function eu(e){return e[e.length-1]}function tu(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=eu(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Na(t)));)n--;if(!r)return{x:0,y:0};const o=Ra(s.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function nu(e){return e.max-e.min}function ru(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=il(t.min,t.max,e.origin),e.scale=nu(n)/nu(t),(ru(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=il(n.min,n.max,e.origin)-e.originPoint,(ru(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ou(e,t,n,r){su(e.x,t.x,n.x,r?r.originX:void 0),su(e.y,t.y,n.y,r?r.originY:void 0)}function iu(e,t,n){e.min=n.min+t.min,e.max=e.min+nu(t)}function au(e,t,n){e.min=t.min-n.min,e.max=e.min+nu(t)}function lu(e,t,n){au(e.x,t.x,n.x),au(e.y,t.y,n.y)}function cu(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function uu(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const du=.35;function hu(e,t,n){return{min:fu(e,t),max:fu(e,n)}}function fu(e,t){return"number"===typeof e?e:e[t]||0}function pu(e){return[e("x"),e("y")]}function mu(e){let{top:t,left:n,right:r,bottom:s}=e;return{x:{min:n,max:r},y:{min:t,max:s}}}function gu(e){return void 0===e||1===e}function vu(e){let{scale:t,scaleX:n,scaleY:r}=e;return!gu(t)||!gu(n)||!gu(r)}function yu(e){return vu(e)||bu(e)||e.z||e.rotate||e.rotateX||e.rotateY}function bu(e){return wu(e.x)||wu(e.y)}function wu(e){return e&&"0%"!==e}function xu(e,t,n){return n+t*(e-n)}function Su(e,t,n,r,s){return void 0!==s&&(e=xu(e,s,r)),xu(e,n,r)+t}function ju(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;e.min=Su(e.min,t,n,r,s),e.max=Su(e.max,t,n,r,s)}function ku(e,t){let{x:n,y:r}=t;ju(e.x,n.translate,n.scale,n.originPoint),ju(e.y,r.translate,r.scale,r.originPoint)}function _u(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Eu(e,t){e.min=e.min+t,e.max=e.max+t}function Cu(e,t,n){let[r,s,o]=n;const i=void 0!==t[o]?t[o]:.5,a=il(e.min,e.max,i);ju(e,t[r],t[s],a,t.scale)}const Tu=["x","scaleX","originX"],Pu=["y","scaleY","originY"];function Nu(e,t){Cu(e.x,t,Tu),Cu(e.y,t,Pu)}function Ru(e,t){return mu(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Au=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Ou=new WeakMap;class Lu{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Yc(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(oa(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:s}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ha(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pu((e=>{let t=this.getAxisMotionValue(e).get()||0;if(ui.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=nu(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),s&&Qi.update((()=>s(e,t)),!1,!0);const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:s,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:i}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(i),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>pu((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Au(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Qi.update((()=>s(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Iu(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:r,max:s}=t;return void 0!==r&&e<r?e=n?il(r,e,n.min):Math.max(e,r):void 0!==s&&e>s&&(e=n?il(s,e,n.max):Math.min(e,s)),e}(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,s=this.constraints;t&&jo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:s,right:o}=t;return{x:cu(e.x,r,o),y:cu(e.y,n,s)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du;return!1===e?e=0:!0===e&&(e=du),{x:hu(e,"left","right"),y:hu(e,"top","bottom")}}(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&pu((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!jo(e))return!1;const n=e.current;Pa(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=function(e,t,n){const r=Ru(e,n),{scroll:s}=t;return s&&(Eu(r.x,s.offset.x),Eu(r.y,s.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:uu(e.x,t.x),y:uu(e.y,t.y)}}(r.layout.layoutBox,s);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=mu(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:i}=this.getProps(),a=this.constraints||{},l=pu((i=>{if(!Iu(i,t,this.currentDirection))return;let l=a&&a[i]||{};o&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d=po(po({type:"inertia",velocity:n?e[i]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},s),l);return this.startAxisValueAnimation(i,d)}));return Promise.all(l).then(i)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(gc(e,n,0,t))}stopAnimation(){pu((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){pu((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){pu((t=>{const{drag:n}=this.getProps();if(!Iu(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];s.set(e[t]-il(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!jo(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};pu((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=nu(e),s=nu(t);return s>r?n=El(t.min,t.max-r,e.min):r>s&&(n=El(e.min,e.max-s,t.min)),Zo(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),pu((t=>{if(!Iu(t,e,null))return;const n=this.getAxisMotionValue(t),{min:s,max:o}=this.constraints[t];n.set(il(s,o,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Ou.set(this.visualElement,this);const e=ia(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();jo(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const s=ra(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(pu((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{s(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=du,dragMomentum:i=!0}=e;return po(po({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:i})}}function Iu(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Uu=e=>(t,n)=>{e&&Qi.update((()=>e(t,n)))};const Du={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Bu(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Mu={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!di.test(e))return e;e=parseFloat(e)}const n=Bu(e,t.target.x),r=Bu(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Fu={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const s=e,o=wl.parse(e);if(o.length>5)return s;const i=wl.createTransformer(e),a="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;o[0+a]/=l,o[1+a]/=c;const u=il(l,c,.5);return"number"===typeof o[2+a]&&(o[2+a]/=u),"number"===typeof o[3+a]&&(o[3+a]/=u),i(o)}};class zu extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;var o;o=Hu,Object.assign(Vo,o),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(()=>{this.safeToRemove()})),s.setOptions(po(po({},s.options),{},{onExitComplete:()=>this.safeToRemove()}))),Du.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,o=n.projection;return o?(o.isPresent=s,r||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Qi.postRender((()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Vu(e){const[t,n]=function(){const e=(0,i.useContext)(vo);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=(0,i.useId)();return(0,i.useEffect)((()=>r(s)),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}(),r=(0,i.useContext)(Lo);return i.createElement(zu,po(po({},e),{},{layoutGroup:r,switchLayoutGroup:(0,i.useContext)(Io),isPresent:t,safeToRemove:n}))}const Hu={borderRadius:po(po({},Mu),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Mu,borderTopRightRadius:Mu,borderBottomLeftRadius:Mu,borderBottomRightRadius:Mu,boxShadow:Fu},Gu=["TopLeft","TopRight","BottomLeft","BottomRight"],qu=Gu.length,Wu=e=>"string"===typeof e?parseFloat(e):e,Ku=e=>"number"===typeof e||di.test(e);function Ju(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Yu=Qu(0,.5,Wa),$u=Qu(.5,.95,Ji);function Qu(e,t,n){return r=>r<e?0:r>t?1:n(El(e,t,r))}function Xu(e,t){e.min=t.min,e.max=t.max}function Zu(e,t){Xu(e.x,t.x),Xu(e.y,t.y)}function ed(e,t,n,r,s){return e=xu(e-=t,1/n,r),void 0!==s&&(e=xu(e,1/s,r)),e}function td(e,t,n,r,s){let[o,i,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;ui.test(t)&&(t=parseFloat(t),t=il(i.min,i.max,t/100)-i.min);if("number"!==typeof t)return;let a=il(o.min,o.max,r);e===o&&(a-=t),e.min=ed(e.min,t,n,a,s),e.max=ed(e.max,t,n,a,s)}(e,t[o],t[i],t[a],t.scale,r,s)}const nd=["x","scaleX","originX"],rd=["y","scaleY","originY"];function sd(e,t,n,r){td(e.x,t,nd,n?n.x:void 0,r?r.x:void 0),td(e.y,t,rd,n?n.y:void 0,r?r.y:void 0)}function od(e){return 0===e.translate&&1===e.scale}function id(e){return od(e.x)&&od(e.y)}function ad(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function ld(e){return nu(e.x)/nu(e.y)}class cd{constructor(){this.members=[]}add(e){bc(this.members,e),e.scheduleRender()}remove(e){if(wc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ud(e,t,n){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y;if((s||o)&&(r="translate3d(".concat(s,"px, ").concat(o,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:s}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),s&&(r+="rotateY(".concat(s,"deg) "))}const i=e.x.scale*t.x,a=e.y.scale*t.y;return 1===i&&1===a||(r+="scale(".concat(i,", ").concat(a,")")),r||"none"}const dd=(e,t)=>e.depth-t.depth;class hd{constructor(){this.children=[],this.isDirty=!1}add(e){bc(this.children,e),this.isDirty=!0}remove(e){wc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dd),this.isDirty=!1,this.children.forEach(e)}}const fd=["","X","Y","Z"],pd={visibility:"hidden"};let md=0;const gd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function vd(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:s,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=md++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,gd.totalNodes=gd.resolvedTargetDeltas=gd.recalculatedProjection=0,this.nodes.forEach(wd),this.nodes.forEach(Cd),this.nodes.forEach(Td),this.nodes.forEach(xd),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(gd)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new hd)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new xc),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:s,layout:o,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||s)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=s=>{let{timestamp:o}=s;const i=o-n;i>=t&&(Xi(r),e(i-t))};return Qi.read(r,!0),()=>Xi(r)}(r,250),Du.hasAnimatedSinceResize&&(Du.hasAnimatedSinceResize=!1,this.nodes.forEach(Ed))}))}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&i&&(s||o)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||i.getDefaultTransition()||Ld,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!ad(this.targetLayout,s)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=po(po({},pc(o,"layout")),{},{onPlay:a,onComplete:l});(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||Ed(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pd),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(jd);this.isUpdating||this.nodes.forEach(kd),this.isUpdating=!1,this.nodes.forEach(_d),this.nodes.forEach(yd),this.nodes.forEach(bd),this.clearAllSnapshots();const e=performance.now();Zi.delta=Zo(0,1e3/60,e-Zi.timestamp),Zi.timestamp=e,Zi.isProcessing=!0,ea.update.process(Zi),ea.preRender.process(Zi),ea.render.process(Zi),Zi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(Sd),this.sharedNodes.forEach(Nd)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qi.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:s(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!id(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&(t||yu(this.latestValues)||s)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Dd((r=n).x),Dd(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(Eu(t.x,n.offset.x),Eu(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Zu(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:s,options:o}=r;if(r!==this.root&&s&&o.layoutScroll){if(s.isRoot){Zu(t,e);const{scroll:n}=this.root;n&&(Eu(t.x,-n.offset.x),Eu(t.y,-n.offset.y))}Eu(t.x,s.offset.x),Eu(t.y,s.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Zu(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Nu(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),yu(e.latestValues)&&Nu(n,e.latestValues)}return yu(this.latestValues)&&Nu(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Zu(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!yu(e.latestValues))continue;vu(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};Zu(r,e.measurePageBox()),sd(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return yu(this.latestValues)&&sd(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=po(po(po({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:s,layoutId:o}=this.options;if(this.layout&&(s||o)){if(this.resolvedRelativeTargetAt=Zi.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},lu(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Zu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,a=this.relativeTarget,l=this.relativeParent.target,iu(i.x,a.x,l.x),iu(i.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Zu(this.target,this.layout.layoutBox),ku(this.target,this.targetDelta)):Zu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},lu(this.relativeTargetOrigin,this.target,e.target),Zu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}gd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!vu(this.parent.latestValues)&&!bu(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Zi.timestamp&&(r=!1),r)return;const{layout:s,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!o)return;Zu(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=n.length;if(!s)return;let o,i;t.x=t.y=1;for(let a=0;a<s;a++){o=n[a],i=o.projectionDelta;const s=o.instance;s&&s.style&&"contents"===s.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Nu(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,ku(e,i)),r&&yu(o.latestValues)&&Nu(e,o.latestValues))}t.x=_u(t.x),t.y=_u(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;ou(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=ud(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===i&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),gd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},s=po({},this.latestValues),o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(Od));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,f,p,m,g;Rd(o.x,e.x,n),Rd(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lu(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=i,g=n,Ad(f.x,p.x,m.x,g),Ad(f.y,p.y,m.y,g),d&&(l=this.relativeTarget,h=d,l.x.min===h.x.min&&l.x.max===h.x.max&&l.y.min===h.y.min&&l.y.max===h.y.max)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),Zu(d,this.relativeTarget)),a&&(this.animationValues=s,function(e,t,n,r,s,o){s?(e.opacity=il(0,void 0!==n.opacity?n.opacity:1,Yu(r)),e.opacityExit=il(void 0!==t.opacity?t.opacity:1,0,$u(r))):o&&(e.opacity=il(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let i=0;i<qu;i++){const s="border".concat(Gu[i],"Radius");let o=Ju(t,s),a=Ju(n,s);void 0===o&&void 0===a||(o||(o=0),a||(a=0),0===o||0===a||Ku(o)===Ku(a)?(e[s]=Math.max(il(Wu(o),Wu(a),r),0),(ui.test(a)||ui.test(o))&&(e[s]+="%")):e[s]=a)}(t.rotate||n.rotate)&&(e.rotate=il(t.rotate||0,n.rotate||0,r))}(s,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qi.update((()=>{Du.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Wo(e)?e:kc(e);return r.start(gc("",r,t,n)),r.animation}(0,1e3,po(po({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:s}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Bd(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=nu(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=nu(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Zu(t,n),Nu(t,s),ou(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new cd);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let s=0;s<fd.length;s++){const t="rotate"+fd[s];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const s in r)e.setStaticValue(s,r[s]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return pd;const r={visibility:""},s=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Gi(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=s?s(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Gi(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!yu(this.latestValues)&&(t.transform=s?s({},""):"none",this.hasProjected=!1),t}const i=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=ud(this.projectionDeltaWithTransform,this.treeScale,i),s&&(r.transform=s(i,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*a.origin,"% ").concat(100*l.origin,"% 0"),o.animationValues?r.opacity=o===this?null!==(n=null!==(t=i.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:r.opacity=o===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const c in Vo){if(void 0===i[c])continue;const{correct:e,applyTo:t}=Vo[c],n="none"===r.transform?i[c]:e(i[c],o);if(t){const e=t.length;for(let s=0;s<e;s++)r[t[s]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=o===this?Gi(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(jd),this.root.sharedNodes.clear()}}}function yd(e){e.updateLayout()}function bd(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;"size"===s?pu((e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],s=nu(r);r.min=t[e].min,r.max=r.min+s})):Bd(s,n.layoutBox,t)&&pu((r=>{const s=o?n.measuredBox[r]:n.layoutBox[r],i=nu(t[r]);s.max=s.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+i)}));const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};ou(i,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?ou(a,e.applyTransform(r,!0),n.measuredBox):ou(a,t,n.layoutBox);const l=!id(i);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:s,layout:o}=r;if(s&&o){const i={x:{min:0,max:0},y:{min:0,max:0}};lu(i,n.layoutBox,s.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};lu(a,t,o.layoutBox),ad(i,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=i,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:i,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function wd(e){gd.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xd(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Sd(e){e.clearSnapshot()}function jd(e){e.clearMeasurements()}function kd(e){e.isLayoutDirty=!1}function _d(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ed(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Cd(e){e.resolveTargetDelta()}function Td(e){e.calcProjection()}function Pd(e){e.resetRotation()}function Nd(e){e.removeLeadSnapshot()}function Rd(e,t,n){e.translate=il(t.translate,0,n),e.scale=il(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ad(e,t,n,r){e.min=il(t.min,n.min,r),e.max=il(t.max,n.max,r)}function Od(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Ld={duration:.45,ease:[.4,0,.1,1]},Id=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),Ud=Id("applewebkit/")&&!Id("chrome/")?Math.round:Ji;function Dd(e){e.min=Ud(e.min),e.max=Ud(e.max)}function Bd(e,t,n){return"position"===e||"preserve-aspect"===e&&!ru(ld(t),ld(n),.2)}const Md=vd({attachResizeListener:(e,t)=>ra(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fd={current:void 0},zd=vd({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Fd.current){const e=new Md({});e.mount(window),e.setOptions({layoutScroll:!0}),Fd.current=e}return Fd.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Vd={pan:{Feature:class extends pa{constructor(){super(...arguments),this.removePointerDownListener=Ji}onPointerDown(e){this.session=new Yc(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Au(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Uu(e),onStart:Uu(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Qi.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=ia(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends pa{constructor(e){super(e),this.removeGroupControls=Ji,this.removeListeners=Ji,this.controls=new Lu(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ji}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:zd,MeasureLayout:Vu}};const Hd=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Gd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Pa(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,s]=function(e){const t=Hd.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return yc(e)?parseFloat(e):e}return Qo(s)?Gd(s,t,n+1):s}function qd(e,t,n){let r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const s=e.current;if(!(s instanceof Element))return{target:r,transitionEnd:n};n&&(n=po({},n)),e.values.forEach((e=>{const t=e.get();if(!Qo(t))return;const n=Gd(t,s);n&&e.set(n)}));for(const o in r){const e=r[o];if(!Qo(e))continue;const t=Gd(e,s);t&&(r[o]=t,n||(n={}),void 0===n[o]&&(n[o]=e))}return{target:r,transitionEnd:n}}const Wd=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Kd=e=>Wd.has(e),Jd=e=>e===ei||e===di,Yd=(e,t)=>parseFloat(e.split(", ")[t]),$d=(e,t)=>(n,r)=>{let{transform:s}=r;if("none"===s||!s)return 0;const o=s.match(/^matrix3d\((.+)\)$/);if(o)return Yd(o[1],t);{const t=s.match(/^matrix\((.+)\)$/);return t?Yd(t[1],e):0}},Qd=new Set(["x","y","z"]),Xd=Ho.filter((e=>!Qd.has(e)));const Zd={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:$d(4,13),y:$d(5,14)};Zd.translateX=Zd.x,Zd.translateY=Zd.y;const eh=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=po({},t),r=po({},r);const s=Object.keys(t).filter(Kd);let o=[],i=!1;const a=[];if(s.forEach((s=>{const l=e.getValue(s);if(!e.hasValue(s))return;let c=n[s],u=Cc(c);const d=t[s];let h;if(Hi(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=Cc(c);for(let n=t;n<e&&null!==d[n];n++)h?Pa(Cc(d[n])===h,"All keyframes must be of the same type"):(h=Cc(d[n]),Pa(h===u||Jd(u)&&Jd(h),"Keyframes must be of the same dimension as the current value"))}else h=Cc(d);if(u!==h)if(Jd(u)&&Jd(h)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof d?t[s]=parseFloat(d):Array.isArray(d)&&h===di&&(t[s]=d.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===d)?0===c?l.set(h.transform(c)):t[s]=u.transform(d):(i||(o=function(e){const t=[];return Xd.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),i=!0),a.push(s),r[s]=void 0!==r[s]?r[s]:t[s],l.jump(d))})),a.length){const n=a.indexOf("height")>=0?window.pageYOffset:null,s=((e,t,n)=>{const r=t.measureViewportBox(),s=t.current,o=getComputedStyle(s),{display:i}=o,a={};"none"===i&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{a[e]=Zd[e](r,o)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(a[n]),e[n]=Zd[n](l,o)})),e})(t,e,a);return o.length&&o.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),e.render(),yo&&null!==n&&window.scrollTo({top:n}),{target:s,transitionEnd:r}}return{target:t,transitionEnd:r}};function th(e,t,n,r){return(e=>Object.keys(e).some(Kd))(t)?eh(e,t,n,r):{target:t,transitionEnd:r}}const nh={current:null},rh={current:!1};const sh=new WeakMap,oh=["willChange"],ih=["children"],ah=Object.keys(Oo),lh=ah.length,ch=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],uh=Co.length;class dh{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Qi.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget=po({},a),this.initialValues=n.initial?po({},a):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=To(n),this.isVariantNode=Po(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const c=this.scrapeMotionValuesFromProps(n,{}),{willChange:u}=c,d=Ei(c,oh);for(const h in d){const e=d[h];void 0!==a[h]&&Wo(e)&&(e.set(a[h],!1),vc(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,sh.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),rh.current||function(){if(rh.current=!0,yo)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>nh.current=e.matches;e.addListener(t),t()}else nh.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||nh.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sh.delete(this.current),this.projection&&this.projection.unmount(),Xi(this.notifyUpdate),Xi(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=Go.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Qi.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),s()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let s,o,{children:i}=e,a=Ei(e,ih);for(let l=0;l<lh;l++){const e=ah[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:i}=Oo[e];r&&(s=r),t(a)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),i&&(o=i))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:o,layoutScroll:i,layoutRoot:l}=a;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||o&&jo(o),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:i,layoutRoot:l})}return o}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<ch.length;n++){const t=ch[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const s in t){const o=t[s],i=n[s];if(Wo(o))e.addValue(s,o),vc(r)&&r.add(s);else if(Wo(i))e.addValue(s,kc(o,{owner:e})),vc(r)&&r.remove(s);else if(i!==o)if(e.hasValue(s)){const t=e.getValue(s);!t.hasAnimated&&t.set(o)}else{const t=e.getStaticValue(s);e.addValue(s,kc(void 0!==t?t:o,{owner:e}))}}for(const s in n)void 0===t[s]&&e.removeValue(s);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<uh;t++){const n=Co[t],r=this.props[n];(ko(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=kc(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=zi(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const s=this.getBaseTargetFromProps(this.props,e);return void 0===s||Wo(s)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new xc),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}const hh=["transition","transitionEnd"];class fh extends dh{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:s}=e,o=Ei(e,hh),{transformValues:i}=t,a=function(e,t,n){const r={};for(const s in e){const e=Ac(s,t);if(void 0!==e)r[s]=e;else{const e=n.getValue(s);e&&(r[s]=e.get())}}return r}(o,r||{},this);if(i&&(s&&(s=i(s)),o&&(o=i(o)),a&&(a=i(a))),n){!function(e,t,n){var r,s;const o=Object.keys(t).filter((t=>!e.hasValue(t))),i=o.length;var a;if(i)for(let l=0;l<i;l++){const i=o[l],c=t[i];let u=null;Array.isArray(c)&&(u=c[0]),null===u&&(u=null!==(s=null!==(r=n[i])&&void 0!==r?r:e.readValue(i))&&void 0!==s?s:t[i]),void 0!==u&&null!==u&&("string"===typeof u&&(yc(u)||dc(u))?u=parseFloat(u):(a=u,!Tc.find(_c(a))&&wl.test(c)&&(u=uc(i,c))),e.addValue(i,kc(u,{owner:e})),void 0===n[i]&&(n[i]=u),null!==u&&e.setBaseTarget(i,u))}}(this,o,a);const e=((e,t,n,r)=>{const s=qd(e,t,r);return th(e,t=s.target,n,r=s.transitionEnd)})(this,o,a,s);s=e.transitionEnd,o=e.target}return po({transition:r,transitionEnd:s},o)}}class ph extends fh{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Go.has(t)){const e=cc(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),s=($o(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof s?s.trim():s}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Ru(e,n)}build(e,t,n,r){vi(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Mi(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wo(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}renderInstance(e,t,n,r){Ui(e,t,n,r)}}class mh extends fh{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Go.has(t)){const e=cc(t);return e&&e.default||0}return t=Di.has(t)?t:xo(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return Fi(e,t)}build(e,t,n,r){Ri(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Bi(e,t,0,r)}mount(e){this.isSVGTag=Oi(e.tagName),super.mount(e)}}const gh=(e,t)=>zo(e)?new mh(t,{enableHardwareAcceleration:!1}):new ph(t,{enableHardwareAcceleration:!0}),vh={layout:{ProjectionNode:zd,MeasureLayout:Vu}},yh=po(po(po(po({},Kc),_a),Vd),vh),bh=Mo(((e,t)=>function(e,t,n,r){let{forwardMotionProps:s=!1}=t;return po(po({},zo(e)?ta:na),{},{preloadedFeatures:n,useRender:Ii(s),createVisualElement:r,Component:e})}(e,t,yh,gh)));const wh=e=>{var t;let{onNavigateHome:n,onNavigateGames:r,isInLobby:s}=e;const o=ne(),{user:a,isAuthenticated:l,loading:c,session:u,signOut:d}=ao(),[h,f]=(0,i.useState)(!1);console.log("\ud83c\udfaf [HEADER] Rendering with auth state:",{loading:c,isAuthenticated:l,hasUser:!!a,hasSession:!!u,userName:(null===a||void 0===a?void 0:a.username)||(null===a||void 0===a?void 0:a.display_name),timestamp:(new Date).toISOString()});const p=e=>{s&&n&&(e.preventDefault(),n())};return(0,Ie.jsx)(Ie.Fragment,{children:(0,Ie.jsx)(bh.header,{className:"header",initial:{y:-100},animate:{y:0},transition:{duration:.5},children:(0,Ie.jsx)("div",{className:"container",children:(0,Ie.jsxs)("div",{className:"header-content",children:[(0,Ie.jsxs)(Re,{to:"/",className:"logo",onClick:p,children:[(0,Ie.jsx)("span",{className:"logo-text",children:"Game"}),(0,Ie.jsx)("span",{className:"logo-text accent",children:"Buddies"}),(0,Ie.jsx)("span",{className:"logo-dot",children:".io"})]}),(0,Ie.jsxs)("div",{className:"header-right",children:[(0,Ie.jsxs)("nav",{className:"nav",children:[(0,Ie.jsx)(Re,{to:"/",className:"nav-link",onClick:p,children:"Home"}),(0,Ie.jsx)("button",{className:"nav-link nav-button",onClick:e=>{if(e.preventDefault(),s&&r)r();else{const e=document.getElementById("games-section");e?e.scrollIntoView({behavior:"smooth"}):(o("/",{replace:!0}),setTimeout((()=>{const e=document.getElementById("games-section");e&&e.scrollIntoView({behavior:"smooth"})}),100))}},children:"Games"})]}),(0,Ie.jsx)("div",{className:"auth-section",children:l&&a?(0,Ie.jsxs)("div",{className:"user-section",children:[(0,Ie.jsx)("button",{onClick:()=>o("/account"),className:"user-info user-info-button",title:"View Account Settings",children:a.is_guest?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("span",{className:"user-icon",children:"\ud83d\udc64"}),(0,Ie.jsx)("span",{className:"user-name",children:"Guest"})]}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("span",{className:"user-icon",children:"lifetime"===a.premium_tier?"\u2b50":"monthly"===a.premium_tier?"\ud83d\udc8e":"\ud83c\udfae"}),(0,Ie.jsx)("span",{className:"user-name",children:a.display_name||a.username||(null===(t=a.email)||void 0===t?void 0:t.split("@")[0])}),"admin"===a.role?(0,Ie.jsx)("span",{className:"premium-badge lifetime",children:"\ud83d\udcbb ADMIN"}):"lifetime"===a.premium_tier?(0,Ie.jsx)("span",{className:"premium-badge lifetime",children:"PREMIUM"}):(0,Ie.jsx)("span",{className:"premium-badge monthly",children:"PRO"})]})}),(0,Ie.jsx)("button",{onClick:async()=>{if(!h){f(!0),console.log("\ud83d\udeaa [HEADER] Logging out...");try{await d(),console.log("\u2705 [HEADER] Logged out successfully"),sessionStorage.removeItem("gamebuddies-session-temp"),o("/")}catch(Cm){console.error("\u274c [HEADER] Logout exception:",Cm),alert("An error occurred during logout.")}finally{f(!1)}}},className:"logout-button",disabled:h,children:h?"Logging out...":"Logout"})]}):(0,Ie.jsx)(Re,{to:"/login",className:"login-link",children:c?"Loading...":"Login"})})]})]})})})})},xh=()=>{const e=(new Date).getFullYear();return(0,Ie.jsx)("footer",{className:"app-footer",children:(0,Ie.jsxs)("div",{className:"footer-content",children:[(0,Ie.jsx)("div",{className:"footer-section",children:(0,Ie.jsxs)("p",{className:"footer-copyright",children:["\xa9 ",e," GameBuddies.io - All rights reserved"]})}),(0,Ie.jsx)("div",{className:"footer-section",children:(0,Ie.jsxs)("nav",{className:"footer-nav",children:[(0,Ie.jsx)("a",{href:"/legal#impressum",className:"footer-link",children:"Impressum"}),(0,Ie.jsx)("span",{className:"footer-separator",children:"|"}),(0,Ie.jsx)("a",{href:"/legal#privacy",className:"footer-link",children:"Privacy"}),(0,Ie.jsx)("span",{className:"footer-separator",children:"|"}),(0,Ie.jsx)("a",{href:"/legal#terms",className:"footer-link",children:"Terms"})]})}),(0,Ie.jsx)("div",{className:"footer-section",children:(0,Ie.jsx)("p",{className:"footer-tagline",children:"Play together, compete together"})})]})})};function Sh(e,t){return function(){return e.apply(t,arguments)}}const{toString:jh}=Object.prototype,{getPrototypeOf:kh}=Object,{iterator:_h,toStringTag:Eh}=Symbol,Ch=(e=>t=>{const n=jh.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Th=e=>(e=e.toLowerCase(),t=>Ch(t)===e),Ph=e=>t=>typeof t===e,{isArray:Nh}=Array,Rh=Ph("undefined");const Ah=Th("ArrayBuffer");const Oh=Ph("string"),Lh=Ph("function"),Ih=Ph("number"),Uh=e=>null!==e&&"object"===typeof e,Dh=e=>{if("object"!==Ch(e))return!1;const t=kh(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Eh in e)&&!(_h in e)},Bh=Th("Date"),Mh=Th("File"),Fh=Th("Blob"),zh=Th("FileList"),Vh=Th("URLSearchParams"),[Hh,Gh,qh,Wh]=["ReadableStream","Request","Response","Headers"].map(Th);function Kh(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Nh(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=s?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let i;for(n=0;n<o;n++)i=r[n],t.call(null,e[i],i,e)}}function Jh(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const Yh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,$h=e=>!Rh(e)&&e!==Yh;const Qh=(Xh="undefined"!==typeof Uint8Array&&kh(Uint8Array),e=>Xh&&e instanceof Xh);var Xh;const Zh=Th("HTMLFormElement"),ef=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),tf=Th("RegExp"),nf=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Kh(n,((n,s)=>{let o;!1!==(o=t(n,s,e))&&(r[s]=o||n)})),Object.defineProperties(e,r)};const rf=Th("AsyncFunction"),sf=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],Yh.addEventListener("message",(e=>{let{source:t,data:s}=e;t===Yh&&s===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),Yh.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Lh(Yh.postMessage)),of="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Yh):"undefined"!==typeof process&&process.nextTick||sf,af={isArray:Nh,isArrayBuffer:Ah,isBuffer:function(e){return null!==e&&!Rh(e)&&null!==e.constructor&&!Rh(e.constructor)&&Lh(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Lh(e.append)&&("formdata"===(t=Ch(e))||"object"===t&&Lh(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ah(e.buffer),t},isString:Oh,isNumber:Ih,isBoolean:e=>!0===e||!1===e,isObject:Uh,isPlainObject:Dh,isReadableStream:Hh,isRequest:Gh,isResponse:qh,isHeaders:Wh,isUndefined:Rh,isDate:Bh,isFile:Mh,isBlob:Fh,isRegExp:tf,isFunction:Lh,isStream:e=>Uh(e)&&Lh(e.pipe),isURLSearchParams:Vh,isTypedArray:Qh,isFileList:zh,forEach:Kh,merge:function e(){const{caseless:t}=$h(this)&&this||{},n={},r=(r,s)=>{const o=t&&Jh(n,s)||s;Dh(n[o])&&Dh(r)?n[o]=e(n[o],r):Dh(r)?n[o]=e({},r):Nh(r)?n[o]=r.slice():n[o]=r};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Kh(arguments[s],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Kh(t,((t,r)=>{n&&Lh(t)?e[r]=Sh(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,o,i;const a={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],r&&!r(i,e,t)||a[i]||(t[i]=e[i],a[i]=!0);e=!1!==n&&kh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Ch,kindOfTest:Th,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Nh(e))return e;let t=e.length;if(!Ih(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[_h]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Zh,hasOwnProperty:ef,hasOwnProp:ef,reduceDescriptors:nf,freezeMethods:e=>{nf(e,((t,n)=>{if(Lh(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Lh(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Nh(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Jh,global:Yh,isContextDefined:$h,isSpecCompliantForm:function(e){return!!(e&&Lh(e.append)&&"FormData"===e[Eh]&&e[_h])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Uh(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=Nh(e)?[]:{};return Kh(e,((e,t)=>{const o=n(e,r+1);!Rh(o)&&(s[t]=o)})),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:rf,isThenable:e=>e&&(Uh(e)||Lh(e))&&Lh(e.then)&&Lh(e.catch),setImmediate:sf,asap:of,isIterable:e=>null!=e&&Lh(e[_h])};function lf(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}af.inherits(lf,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:af.toJSONObject(this.config),code:this.code,status:this.status}}});const cf=lf.prototype,uf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{uf[e]={value:e}})),Object.defineProperties(lf,uf),Object.defineProperty(cf,"isAxiosError",{value:!0}),lf.from=(e,t,n,r,s,o)=>{const i=Object.create(cf);return af.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),lf.call(i,e.message,t,n,r,s),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const df=lf;function hf(e){return af.isPlainObject(e)||af.isArray(e)}function ff(e){return af.endsWith(e,"[]")?e.slice(0,-2):e}function pf(e,t,n){return e?e.concat(t).map((function(e,t){return e=ff(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const mf=af.toFlatObject(af,{},null,(function(e){return/^is[A-Z]/.test(e)}));const gf=function(e,t,n){if(!af.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=af.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!af.isUndefined(t[e])}))).metaTokens,s=n.visitor||c,o=n.dots,i=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&af.isSpecCompliantForm(t);if(!af.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(af.isDate(e))return e.toISOString();if(!a&&af.isBlob(e))throw new df("Blob is not supported. Use a Buffer instead.");return af.isArrayBuffer(e)||af.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let a=e;if(e&&!s&&"object"===typeof e)if(af.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(af.isArray(e)&&function(e){return af.isArray(e)&&!e.some(hf)}(e)||(af.isFileList(e)||af.endsWith(n,"[]"))&&(a=af.toArray(e)))return n=ff(n),a.forEach((function(e,r){!af.isUndefined(e)&&null!==e&&t.append(!0===i?pf([n],r,o):null===i?n:n+"[]",l(e))})),!1;return!!hf(e)||(t.append(pf(s,n,o),l(e)),!1)}const u=[],d=Object.assign(mf,{defaultVisitor:c,convertValue:l,isVisitable:hf});if(!af.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!af.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),af.forEach(n,(function(n,o){!0===(!(af.isUndefined(n)||null===n)&&s.call(t,n,af.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function vf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function yf(e,t){this._pairs=[],e&&gf(e,this,t)}const bf=yf.prototype;bf.append=function(e,t){this._pairs.push([e,t])},bf.toString=function(e){const t=e?function(t){return e.call(this,t,vf)}:vf;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const wf=yf;function xf(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Sf(e,t,n){if(!t)return e;const r=n&&n.encode||xf;af.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(o=s?s(t,n):af.isURLSearchParams(t)?t.toString():new wf(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const jf=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){af.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},kf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_f={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:wf,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ef="undefined"!==typeof window&&"undefined"!==typeof document,Cf="object"===typeof navigator&&navigator||void 0,Tf=Ef&&(!Cf||["ReactNative","NativeScript","NS"].indexOf(Cf.product)<0),Pf="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Nf=Ef&&window.location.href||"http://localhost",Rf=po(po({},s),_f);const Af=function(e){function t(e,n,r,s){let o=e[s++];if("__proto__"===o)return!0;const i=Number.isFinite(+o),a=s>=e.length;if(o=!o&&af.isArray(r)?r.length:o,a)return af.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!i;r[o]&&af.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],s)&&af.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}(r[o])),!i}if(af.isFormData(e)&&af.isFunction(e.entries)){const n={};return af.forEachEntry(e,((e,r)=>{t(function(e){return af.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Of={transitional:kf,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=af.isObject(e);s&&af.isHTMLForm(e)&&(e=new FormData(e));if(af.isFormData(e))return r?JSON.stringify(Af(e)):e;if(af.isArrayBuffer(e)||af.isBuffer(e)||af.isStream(e)||af.isFile(e)||af.isBlob(e)||af.isReadableStream(e))return e;if(af.isArrayBufferView(e))return e.buffer;if(af.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return gf(e,new Rf.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Rf.isNode&&af.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=af.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return gf(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(af.isString(e))try{return(t||JSON.parse)(e),af.trim(e)}catch(Em){if("SyntaxError"!==Em.name)throw Em}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Of.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(af.isResponse(e)||af.isReadableStream(e))return e;if(e&&af.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Em){if(n){if("SyntaxError"===Em.name)throw df.from(Em,df.ERR_BAD_RESPONSE,this,null,this.response);throw Em}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rf.classes.FormData,Blob:Rf.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};af.forEach(["delete","get","head","post","put","patch"],(e=>{Of.headers[e]={}}));const Lf=Of,If=af.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Uf=Symbol("internals");function Df(e){return e&&String(e).trim().toLowerCase()}function Bf(e){return!1===e||null==e?e:af.isArray(e)?e.map(Bf):String(e)}function Mf(e,t,n,r,s){return af.isFunction(r)?r.call(this,t,n):(s&&(t=n),af.isString(t)?af.isString(r)?-1!==t.indexOf(r):af.isRegExp(r)?r.test(t):void 0:void 0)}class Ff{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Df(t);if(!s)throw new Error("header name must be a non-empty string");const o=af.findKey(r,s);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Bf(e))}const o=(e,t)=>af.forEach(e,((e,n)=>s(e,n,t)));if(af.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(af.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&If[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(af.isObject(e)&&af.isIterable(e)){let n,r,s={};for(const t of e){if(!af.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?af.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=Df(e)){const n=af.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(af.isFunction(t))return t.call(this,e,n);if(af.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Df(e)){const n=af.findKey(this,e);return!(!n||void 0===this[n]||t&&!Mf(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Df(e)){const s=af.findKey(n,e);!s||t&&!Mf(0,n[s],s,t)||(delete n[s],r=!0)}}return af.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Mf(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return af.forEach(this,((r,s)=>{const o=af.findKey(n,s);if(o)return t[o]=Bf(r),void delete t[s];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();i!==s&&delete t[s],t[i]=Bf(r),n[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return af.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&af.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Uf]=this[Uf]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Df(e);t[r]||(!function(e,t){const n=af.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[r]=!0)}return af.isArray(e)?e.forEach(r):r(e),this}}Ff.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),af.reduceDescriptors(Ff.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),af.freezeMethods(Ff);const zf=Ff;function Vf(e,t){const n=this||Lf,r=t||n,s=zf.from(r.headers);let o=r.data;return af.forEach(e,(function(e){o=e.call(n,o,s.normalize(),t?t.status:void 0)})),s.normalize(),o}function Hf(e){return!(!e||!e.__CANCEL__)}function Gf(e,t,n){df.call(this,null==e?"canceled":e,df.ERR_CANCELED,t,n),this.name="CanceledError"}af.inherits(Gf,df,{__CANCEL__:!0});const qf=Gf;function Wf(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new df("Request failed with status code "+n.status,[df.ERR_BAD_REQUEST,df.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Kf=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,o=0,i=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[i];s||(s=l),n[o]=a,r[o]=l;let u=i,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const Jf=function(e,t){let n,r,s=0,o=1e3/t;const i=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=o?i(l,e):(n=l,r||(r=setTimeout((()=>{r=null,i(n)}),o-t)))},()=>n&&i(n)]},Yf=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=Kf(50,250);return Jf((n=>{const o=n.loaded,i=n.lengthComputable?n.total:void 0,a=o-r,l=s(a);r=o;e({loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:l||void 0,estimated:l&&i&&o<=i?(i-o)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},$f=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Qf=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return af.asap((()=>e(...n)))},Xf=Rf.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Rf.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Rf.origin),Rf.navigator&&/(msie|trident)/i.test(Rf.navigator.userAgent)):()=>!0,Zf=Rf.hasStandardBrowserEnv?{write(e,t,n,r,s,o){const i=[e+"="+encodeURIComponent(t)];af.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),af.isString(r)&&i.push("path="+r),af.isString(s)&&i.push("domain="+s),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ep(e,t,n){let r=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const tp=e=>e instanceof zf?po({},e):e;function np(e,t){t=t||{};const n={};function r(e,t,n,r){return af.isPlainObject(e)&&af.isPlainObject(t)?af.merge.call({caseless:r},e,t):af.isPlainObject(t)?af.merge({},t):af.isArray(t)?t.slice():t}function s(e,t,n,s){return af.isUndefined(t)?af.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function o(e,t){if(!af.isUndefined(t))return r(void 0,t)}function i(e,t){return af.isUndefined(t)?af.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,s,o){return o in t?r(n,s):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(e,t,n)=>s(tp(e),tp(t),0,!0)};return af.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||s,i=o(e[r],t[r],r);af.isUndefined(i)&&o!==a||(n[r]=i)})),n}const rp=e=>{const t=np({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:l}=t;if(t.headers=a=zf.from(a),t.url=Sf(ep(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),af.isFormData(r))if(Rf.hasStandardBrowserEnv||Rf.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(Rf.hasStandardBrowserEnv&&(s&&af.isFunction(s)&&(s=s(t)),s||!1!==s&&Xf(t.url))){const e=o&&i&&Zf.read(i);e&&a.set(o,e)}return t},sp="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=rp(e);let s=r.data;const o=zf.from(r.headers).normalize();let i,a,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=zf.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Wf((function(e){t(e),p()}),(function(e){n(e),p()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new df("Request aborted",df.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new df("Network Error",df.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||kf;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new df(t,s.clarifyTimeoutError?df.ETIMEDOUT:df.ECONNABORTED,e,m)),m=null},void 0===s&&o.setContentType(null),"setRequestHeader"in m&&af.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),af.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=Yf(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([a,c]=Yf(h),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{m&&(n(!t||t.type?new qf(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===Rf.protocols.indexOf(v)?n(new df("Unsupported protocol "+v+":",df.ERR_BAD_REQUEST,e)):m.send(s||null)}))},op=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof df?t:new qf(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,s(new df("timeout ".concat(t," of ms exceeded"),df.ETIMEDOUT))}),t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:a}=r;return a.unsubscribe=()=>af.asap(i),a}};function ip(e,t){this.v=e,this.k=t}function ap(e){return function(){return new lp(e.apply(this,arguments))}}function lp(e){var t,n;function r(t,n){try{var o=e[t](n),i=o.value,a=i instanceof ip;Promise.resolve(a?i.v:i).then((function(n){if(a){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}s(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise((function(o,i){var a={key:e,arg:s,resolve:o,reject:i,next:null};n?n=n.next=a:(t=n=a,r(e,s))}))},"function"!=typeof e.return&&(this.return=void 0)}function cp(e){return new ip(e,0)}function up(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new ip(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function dp(e){var t,n,r,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new hp(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function hp(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return hp=function(e){this.s=e,this.n=e.next},hp.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new hp(e)}lp.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},lp.prototype.next=function(e){return this._invoke("next",e)},lp.prototype.throw=function(e){return this._invoke("throw",e)},lp.prototype.return=function(e){return this._invoke("return",e)};const fp=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},pp=function(){var e=ap((function*(e,t){var n,r=!1,s=!1;try{for(var o,i=dp(mp(e));r=!(o=yield cp(i.next())).done;r=!1){const e=o.value;yield*up(dp(fp(e,t)))}}catch(Cm){s=!0,n=Cm}finally{try{r&&null!=i.return&&(yield cp(i.return()))}finally{if(s)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),mp=function(){var e=ap((function*(e){if(e[Symbol.asyncIterator])return void(yield*up(dp(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield cp(t.read());if(e)break;yield n}}finally{yield cp(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),gp=(e,t,n,r)=>{const s=pp(e,t);let o,i=0,a=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return a(),void e.close();let o=r.byteLength;if(n){let e=i+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(Cm){throw a(Cm),Cm}},cancel:e=>(a(e),s.return())},{highWaterMark:2})},vp="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,yp=vp&&"function"===typeof ReadableStream,bp=vp&&("function"===typeof TextEncoder?(wp=new TextEncoder,e=>wp.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var wp;const xp=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Em){return!1}},Sp=yp&&xp((()=>{let e=!1;const t=new Request(Rf.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),jp=yp&&xp((()=>af.isReadableStream(new Response("").body))),kp={stream:jp&&(e=>e.body)};var _p;vp&&(_p=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!kp[e]&&(kp[e]=af.isFunction(_p[e])?t=>t[e]():(t,n)=>{throw new df("Response type '".concat(e,"' is not supported"),df.ERR_NOT_SUPPORT,n)})})));const Ep=async(e,t)=>{const n=af.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(af.isBlob(e))return e.size;if(af.isSpecCompliantForm(e)){const t=new Request(Rf.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return af.isArrayBufferView(e)||af.isArrayBuffer(e)?e.byteLength:(af.isURLSearchParams(e)&&(e+=""),af.isString(e)?(await bp(e)).byteLength:void 0)})(t):n},Cp=vp&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:o,timeout:i,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=rp(e);c=c?(c+"").toLowerCase():"text";let f,p=op([s,o&&o.toAbortSignal()],i);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&Sp&&"get"!==n&&"head"!==n&&0!==(g=await Ep(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(af.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=$f(g,Yf(Qf(l)));r=gp(n.body,65536,e,t)}}af.isString(d)||(d=d?"include":"omit");const s="credentials"in Request.prototype;f=new Request(t,po(po({},h),{},{signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:s?d:void 0}));let o=await fetch(f);const i=jp&&("stream"===c||"response"===c);if(jp&&(a||i&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=af.toFiniteNumber(o.headers.get("content-length")),[n,r]=a&&$f(t,Yf(Qf(a),!0))||[];o=new Response(gp(o.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let v=await kp[af.findKey(kp,c)||"text"](o,e);return!i&&m&&m(),await new Promise(((t,n)=>{Wf(t,n,{data:v,headers:zf.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:f})}))}catch(Cm){if(m&&m(),Cm&&"TypeError"===Cm.name&&/Load failed|fetch/i.test(Cm.message))throw Object.assign(new df("Network Error",df.ERR_NETWORK,e,f),{cause:Cm.cause||Cm});throw df.from(Cm,Cm&&Cm.code,e,f)}}),Tp={http:null,xhr:sp,fetch:Cp};af.forEach(Tp,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Em){}Object.defineProperty(e,"adapterName",{value:t})}}));const Pp=e=>"- ".concat(e),Np=e=>af.isFunction(e)||null===e||!1===e,Rp=e=>{e=af.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!Np(n)&&(r=Tp[(t=String(n)).toLowerCase()],void 0===r))throw new df("Unknown adapter '".concat(t,"'"));if(r)break;s[t||"#"+o]=r}if(!r){const e=Object.entries(s).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Pp).join("\n"):" "+Pp(e[0]):"as no adapter specified";throw new df("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Ap(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qf(null,e)}function Op(e){Ap(e),e.headers=zf.from(e.headers),e.data=Vf.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Rp(e.adapter||Lf.adapter)(e).then((function(t){return Ap(e),t.data=Vf.call(e,e.transformResponse,t),t.headers=zf.from(t.headers),t}),(function(t){return Hf(t)||(Ap(e),t&&t.response&&(t.response.data=Vf.call(e,e.transformResponse,t.response),t.response.headers=zf.from(t.response.headers))),Promise.reject(t)}))}const Lp="1.9.0",Ip={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Ip[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Up={};Ip.transitional=function(e,t,n){function r(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,o)=>{if(!1===e)throw new df(r(s," has been removed"+(t?" in "+t:"")),df.ERR_DEPRECATED);return t&&!Up[s]&&(Up[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,o)}},Ip.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Dp={assertOptions:function(e,t,n){if("object"!==typeof e)throw new df("options must be an object",df.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const t=e[o],n=void 0===t||i(t,o,e);if(!0!==n)throw new df("option "+o+" must be "+n,df.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new df("Unknown option "+o,df.ERR_BAD_OPTION)}},validators:Ip},Bp=Dp.validators;class Mp{constructor(e){this.defaults=e||{},this.interceptors={request:new jf,response:new jf}}async request(e,t){try{return await this._request(e,t)}catch(Cm){if(Cm instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{Cm.stack?n&&!String(Cm.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(Cm.stack+="\n"+n):Cm.stack=n}catch(Em){}}throw Cm}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=np(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&Dp.assertOptions(n,{silentJSONParsing:Bp.transitional(Bp.boolean),forcedJSONParsing:Bp.transitional(Bp.boolean),clarifyTimeoutError:Bp.transitional(Bp.boolean)},!1),null!=r&&(af.isFunction(r)?t.paramsSerializer={serialize:r}:Dp.assertOptions(r,{encode:Bp.function,serialize:Bp.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Dp.assertOptions(t,{baseUrl:Bp.spelling("baseURL"),withXsrfToken:Bp.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&af.merge(s.common,s[t.method]);s&&af.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=zf.concat(o,s);const i=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[Op.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=i.length;let h=t;for(d=0;d<u;){const e=i[d++],t=i[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=Op.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Sf(ep((e=np(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}af.forEach(["delete","get","head","options"],(function(e){Mp.prototype[e]=function(t,n){return this.request(np(n||{},{method:e,url:t,data:(n||{}).data}))}})),af.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,s){return this.request(np(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Mp.prototype[e]=t(),Mp.prototype[e+"Form"]=t(!0)}));const Fp=Mp;class zp{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,s){n.reason||(n.reason=new qf(e,r,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new zp((function(t){e=t})),cancel:e}}}const Vp=zp;const Hp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hp).forEach((e=>{let[t,n]=e;Hp[n]=t}));const Gp=Hp;const qp=function e(t){const n=new Fp(t),r=Sh(Fp.prototype.request,n);return af.extend(r,Fp.prototype,n,{allOwnKeys:!0}),af.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(np(t,n))},r}(Lf);qp.Axios=Fp,qp.CanceledError=qf,qp.CancelToken=Vp,qp.isCancel=Hf,qp.VERSION=Lp,qp.toFormData=gf,qp.AxiosError=df,qp.Cancel=qp.CanceledError,qp.all=function(e){return Promise.all(e)},qp.spread=function(e){return function(t){return e.apply(null,t)}},qp.isAxiosError=function(e){return af.isObject(e)&&!0===e.isAxiosError},qp.mergeConfig=np,qp.AxiosHeaders=zf,qp.formToJSON=e=>Af(af.isHTMLForm(e)?new FormData(e):e),qp.getAdapter=Rp,qp.HttpStatusCode=Gp,qp.default=qp;const Wp=qp,Kp=i.memo((e=>{let{game:t}=e;const[n,r]=(0,i.useState)(!1),s=t.screenshot||t.thumbnailUrl;return(0,Ie.jsx)("a",{href:t.path,className:"game-card-link",children:(0,Ie.jsxs)(bh.div,{className:"game-card",whileHover:{y:-10},transition:{duration:.3},children:[(0,Ie.jsxs)("div",{className:"game-card-image-container",children:[s&&!n?(0,Ie.jsx)("img",{src:t.screenshot||t.thumbnailUrl,alt:t.name,className:"game-card-image",onError:()=>{r(!0)}}):(0,Ie.jsxs)("div",{className:"game-card-placeholder",children:[(0,Ie.jsx)("div",{className:"placeholder-icon",children:t.icon||"\ud83c\udfae"}),(0,Ie.jsx)("div",{className:"placeholder-text",children:t.name})]}),(0,Ie.jsx)("div",{className:"game-card-overlay",children:(0,Ie.jsx)("div",{className:"play-button",children:"PLAY NOW"})})]}),(0,Ie.jsxs)("div",{className:"game-card-content",children:[(0,Ie.jsx)("h3",{className:"game-card-title",children:t.name}),(0,Ie.jsx)("p",{className:"game-card-description",children:t.description}),(0,Ie.jsxs)("div",{className:"game-card-footer",children:[(0,Ie.jsx)("span",{className:"game-status ".concat(t.available?"available":"coming-soon"),children:t.available?"Available":"Coming Soon"}),(0,Ie.jsx)("div",{className:"play-button-small",children:"Play"})]})]})]})})}),((e,t)=>e.game.id===t.game.id&&e.game.available===t.game.available)),Jp=e=>{let{onRoomCreated:t,onCancel:n}=e;const[r,s]=(0,i.useState)(""),[o,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!0),[u,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(""),{socket:p,isConnected:m,isConnecting:g,connectSocket:v}=ln(),{user:y,session:b}=ao(),w=!(null===b||void 0===b||!b.user);return(0,Ie.jsx)("div",{className:"create-room-overlay",children:(0,Ie.jsxs)("div",{className:"create-room-modal",children:[(0,Ie.jsx)("h2",{className:"create-room-title",children:"Create Game Room"}),(0,Ie.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),w||r.trim())if(r.trim()&&r.trim().length<2)f("Name must be at least 2 characters long");else if(r.trim()&&r.trim().length>20)f("Name must be less than 20 characters");else{d(!0),f("");try{var n,s;const e=w?(null===y||void 0===y?void 0:y.username)||(null===y||void 0===y?void 0:y.display_name)||"User":r.trim(),i=w&&r.trim()?r.trim():null;console.log("\ud83c\udfe0 Creating room:",{playerName:e,customLobbyName:i,isAuthenticated:w});const a=p||v();if(!a)throw new Error("Failed to establish socket connection");m||(console.log("\u23f3 Waiting for socket connection..."),await new Promise(((e,t)=>{const n=setTimeout((()=>{t(new Error("Connection timeout"))}),1e4),r=()=>{clearTimeout(n),a.off("connect",r),a.off("connect_error",s),e()},s=e=>{clearTimeout(n),a.off("connect",r),a.off("connect_error",s),t(e)};a.connected?(clearTimeout(n),e()):(a.on("connect",r),a.on("connect_error",s))}))),console.log("\u2705 [CLIENT] Connected to server, creating room..."),console.log("\ud83d\udd0d [CLIENT DEBUG] Socket ID:",a.id),console.log("\ud83d\udd0d [CLIENT DEBUG] Player name:",e.trim());const c=()=>{a.off("roomCreated",h),a.off("error",g)},h=n=>{console.log("\u2705 [CLIENT] Room created successfully:",n),c(),t&&t({roomCode:n.roomCode,playerName:e.trim(),isHost:!0,room:n.room}),d(!1)},g=e=>{console.error("\u274c [CLIENT] Room creation error:",e),c(),f(e.message||"Failed to create room. Please try again."),d(!1)};a.on("roomCreated",h),a.on("error",g),a.emit("createRoom",{playerName:e,customLobbyName:i,streamerMode:o,isPublic:l,supabaseUserId:(null===b||void 0===b||null===(n=b.user)||void 0===n?void 0:n.id)||null}),console.log("\ud83d\udce4 [CLIENT] createRoom event sent",{playerName:e,customLobbyName:i,streamerMode:o,isPublic:l,isAuthenticated:w,supabaseUserId:null===b||void 0===b||null===(s=b.user)||void 0===s?void 0:s.id}),setTimeout((()=>{u&&(c(),f("Room creation timed out. Please try again."),d(!1))}),15e3)}catch(h){console.error("\u274c Unexpected error:",h),f("An unexpected error occurred. Please try again later."),d(!1)}}else f("Please enter your name")},className:"create-room-form",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"displayName",children:w?"Display Name (Optional)":"Your Name"}),(0,Ie.jsx)("input",{type:"text",id:"displayName",value:r,onChange:e=>s(e.target.value),placeholder:w?"Leave blank to use ".concat((null===y||void 0===y?void 0:y.username)||"your account name"):"Enter your name",maxLength:20,disabled:u,autoFocus:!0}),w&&(0,Ie.jsx)("small",{children:"Customize how your name appears in this lobby"})]}),(0,Ie.jsx)("div",{className:"form-group checkbox-group",children:(0,Ie.jsxs)("label",{className:"checkbox-label",children:[(0,Ie.jsx)("input",{type:"checkbox",checked:l,onChange:e=>c(e.target.checked),disabled:u}),(0,Ie.jsxs)("span",{className:"checkbox-text",children:["\ud83c\udf0d Public Room",(0,Ie.jsx)("small",{children:"Let other players discover and join your room"})]})]})}),(0,Ie.jsx)("div",{className:"form-group checkbox-group",children:(0,Ie.jsxs)("label",{className:"checkbox-label",children:[(0,Ie.jsx)("input",{type:"checkbox",checked:o,onChange:e=>a(e.target.checked),disabled:u}),(0,Ie.jsxs)("span",{className:"checkbox-text",children:["\ud83c\udfa5 Streamer Mode",(0,Ie.jsx)("small",{children:"Hide room code from other players"})]})]})}),h&&(0,Ie.jsx)("div",{className:"error-message",children:h}),(0,Ie.jsxs)("div",{className:"form-actions",children:[(0,Ie.jsx)("button",{type:"button",onClick:n,className:"cancel-button",disabled:u,children:"Cancel"}),(0,Ie.jsx)("button",{type:"submit",className:"create-button",disabled:u,children:u?"Creating...":"Create Room"})]})]})]})})},Yp=e=>{let{initialRoomCode:t="",initialPlayerName:n="",autoJoin:r=!1,onRoomJoined:s,onCancel:o}=e;const[a,l]=(0,i.useState)(t),[c,u]=(0,i.useState)(n||""),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(""),m=!!t,{user:g,session:v}=ao(),y=!(null===v||void 0===v||!v.user),b=async e=>{if(e&&e.preventDefault&&e.preventDefault(),!a.trim())return void p("Please enter a room code");if(6!==a.trim().length)return void p("Room code must be 6 characters long");if(!y&&!c.trim())return void p("Please enter your name");if(c.trim()&&c.trim().length<2)return void p("Name must be at least 2 characters long");if(c.trim()&&c.trim().length>20)return void p("Name must be less than 20 characters");h(!0),p("");const n=y?(null===g||void 0===g?void 0:g.username)||(null===g||void 0===g?void 0:g.display_name)||"User":c.trim(),r=y&&c.trim()?c.trim():null;console.log("\ud83d\udeaa [JOIN DEBUG] Starting room join process:",{roomCode:a.trim().toUpperCase(),playerName:n,customLobbyName:r,isAuthenticated:y,timestamp:(new Date).toISOString(),isInitialRoomCode:!!t,currentURL:window.location.href});try{console.log("\ud83d\udeaa [JOIN DEBUG] Joining room:",a.trim().toUpperCase());const e=(()=>(console.log("\ud83d\udd0d [JOIN DEBUG] Determining server URL..."),console.log("\ud83d\udd0d [JOIN DEBUG] window.location.hostname:",window.location.hostname),console.log("\ud83d\udd0d [JOIN DEBUG] REACT_APP_SERVER_URL:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SERVER_URL),{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SERVER_URL?(console.log("\ud83d\udd0d [JOIN DEBUG] Using REACT_APP_SERVER_URL:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SERVER_URL),{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SERVER_URL):window.location.hostname.includes("onrender.com")?(console.log("\ud83d\udd0d [JOIN DEBUG] Detected Render.com, using origin:",window.location.origin),window.location.origin):"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname?(console.log("\ud83d\udd0d [JOIN DEBUG] Detected production domain, using origin:",window.location.origin),window.location.origin):(console.log("\ud83d\udd0d [JOIN DEBUG] Local development, using Render.com server"),"https://gamebuddies-io.onrender.com")))();console.log("\ud83d\udeaa [JOIN DEBUG] Connecting to server:",e);const t=on(e,{transports:["websocket","polling"],timeout:1e4});t.on("connect",(()=>{var s,o;console.log("\u2705 [CLIENT] Connected to server, joining room..."),console.log("\ud83d\udd0d [CLIENT DEBUG] Socket ID:",t.id),console.log("\ud83d\udd0d [CLIENT DEBUG] Room code:",a.trim().toUpperCase()),console.log("\ud83d\udd0d [CLIENT DEBUG] Player name:",n),console.log("\ud83d\udd0d [CLIENT DEBUG] Server URL:",e),console.log("\ud83d\udeaa [JOIN DEBUG] Connected, sending joinRoom event");const i=new URLSearchParams(window.location.search),l="true"===i.get("ishost")||"gm"===i.get("role");t.emit("joinRoom",{roomCode:a.trim().toUpperCase(),playerName:n,customLobbyName:r,supabaseUserId:(null===v||void 0===v||null===(s=v.user)||void 0===s?void 0:s.id)||null,isHostHint:l}),console.log("\ud83d\udce4 [CLIENT] joinRoom event sent",{playerName:n,customLobbyName:r,isAuthenticated:y,supabaseUserId:null===v||void 0===v||null===(o=v.user)||void 0===o?void 0:o.id})})),t.on("roomJoined",(e=>{var r,o;console.log("\u2705 [CLIENT] Room joined successfully:",e),console.log("\ud83d\udd0d [CLIENT DEBUG] Join data:",{roomCode:e.roomCode,isHost:e.isHost,playerCount:(null===(r=e.players)||void 0===r?void 0:r.length)||0,room_id:null===(o=e.room)||void 0===o?void 0:o.id}),console.log("\ud83d\udeaa [JOIN DEBUG] Join successful, transitioning to lobby"),s&&s({roomCode:e.roomCode,playerName:n,isHost:!!e.isHost,players:e.players,room:e.room}),console.log("\ud83d\udeaa [JOIN DEBUG] Delaying socket cleanup to allow lobby connection"),setTimeout((()=>{console.log("\ud83d\udeaa [JOIN DEBUG] Cleaning up join socket after transition"),t.disconnect()}),1e3)})),t.on("error",(e=>{console.error("\u274c [JOIN DEBUG] Join room error:",{error:e.message||e,code:e.code,debug:e.debug,roomCode:a.trim().toUpperCase(),playerName:n.trim(),timestamp:(new Date).toISOString()});let r=e.message;switch(e.code){case"ROOM_NOT_FOUND":r="Room not found. Please check the room code and try again.",console.error("\ud83d\udd0d [JOIN DEBUG] Room not found - may have been cleaned up");break;case"ROOM_FULL":r="This room is full. Please try joining a different room.";break;case"ROOM_NOT_ACCEPTING":r="This room is no longer accepting new players.";break;case"DUPLICATE_PLAYER":r="A player with this name is already in the room. Please choose a different name.";break;default:r=r||"Failed to join room. Please try again."}p(r),h(!1),t.disconnect()})),t.on("connect_error",(e=>{console.error("\u274c Connection error:",e),p("Failed to connect to server. Please check your internet connection."),h(!1),t.disconnect()})),setTimeout((()=>{d&&(p("Join request timed out. Please try again."),h(!1),t.disconnect())}),15e3)}catch(f){console.error("\u274c Unexpected error:",f),p("An unexpected error occurred. Please try again."),h(!1)}};i.useEffect((()=>{if(r&&t&&n&&!d){const e=setTimeout((()=>b()),200);return()=>clearTimeout(e)}}),[r,t,n]);return(0,Ie.jsx)("div",{className:"join-room-overlay",children:(0,Ie.jsxs)("div",{className:"join-room-modal",children:[(0,Ie.jsx)("h2",{className:"join-room-title",children:"Join Room"}),(0,Ie.jsxs)("form",{onSubmit:b,className:"join-room-form",children:[m?(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"roomCode",children:"ROOM CODE"}),(0,Ie.jsx)("div",{className:"invite-link-indicator",children:"\ud83d\udd17 Joining via invite link"}),(0,Ie.jsx)("small",{children:"Room code hidden for privacy"})]}):(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"roomCode",children:"ROOM CODE"}),(0,Ie.jsx)("input",{type:"text",id:"roomCode",value:a,onChange:e=>{const t=e.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"");t.length<=6&&l(t)},placeholder:"4AJ5XQ",disabled:d,maxLength:6,autoFocus:!0,className:"room-code-input"}),(0,Ie.jsx)("small",{children:"Ask the room host for the 6-character room code"})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"displayName",children:y?"DISPLAY NAME (Optional)":"YOUR NAME"}),(0,Ie.jsx)("input",{type:"text",id:"displayName",value:c,onChange:e=>u(e.target.value),placeholder:y?"Leave blank to use ".concat((null===g||void 0===g?void 0:g.username)||"your account name"):"Enter your name",disabled:d,maxLength:20}),y?(0,Ie.jsx)("small",{children:"Customize how your name appears in this lobby"}):(0,Ie.jsx)("small",{children:"This will be your display name in the room"})]}),f&&(0,Ie.jsx)("div",{className:"error-message",children:f}),(0,Ie.jsxs)("div",{className:"form-actions",children:[(0,Ie.jsx)("button",{type:"button",onClick:o,className:"cancel-button",disabled:d,children:"Cancel"}),(0,Ie.jsx)("button",{type:"submit",className:"join-button",disabled:d||!a.trim()||!y&&!c.trim(),children:d?"JOINING ROOM...":"JOIN ROOM"})]})]}),(0,Ie.jsxs)("div",{className:"join-info",children:[(0,Ie.jsx)("h3",{children:"Joining a Room"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"Get the room code from your friend"}),(0,Ie.jsx)("li",{children:"Enter your name (must be unique in the room)"}),(0,Ie.jsx)("li",{children:"Wait for the host to select and start a game"})]})]})]})})},$p=e=>{let{onRoomSelected:t,onCancel:n}=e;const[r,s]=(0,i.useState)([]),[o,a]=(0,i.useState)(!0),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)("all"),[h,f]=(0,i.useState)([]),{socket:p,connectSocket:m}=ln();(0,i.useEffect)((()=>{(async()=>{try{const e=await fetch("/api/games"),t=await e.json();t.success&&t.games&&f(t.games)}catch(Cm){console.error("Failed to fetch games:",Cm)}})()}),[]),(0,i.useEffect)((()=>{g();const e=setInterval((()=>{g()}),5e3);return()=>clearInterval(e)}),[u]);const g=async()=>{try{const e=p||m();if(!e)return c("Failed to connect to server"),void a(!1);e.emit("getPublicRooms",{gameType:u});const t=n=>{console.log("\ud83d\udd0d [BROWSER DEBUG] Received rooms list:",n),n.rooms&&n.rooms.length>0&&console.log("\ud83d\udd0d [BROWSER DEBUG] First room host data:",{host:n.rooms[0].host,members:n.rooms[0].members}),s(n.rooms||[]),a(!1),c(""),e.off("publicRoomsList",t)},n=t=>{c(t.message||"Failed to load rooms"),a(!1),e.off("error",n)};e.on("publicRoomsList",t),e.on("error",n)}catch(Cm){c("Failed to load rooms"),a(!1)}},v=e=>"in_game"===e.status?(0,Ie.jsx)("span",{className:"status-badge in-game",children:"In Game"}):"lobby"===e.status?(0,Ie.jsx)("span",{className:"status-badge lobby",children:"Waiting"}):(0,Ie.jsx)("span",{className:"status-badge",children:e.status}),y=e=>{var t;const n=(null===(t=e.members)||void 0===t?void 0:t.filter((e=>e.is_connected)).length)||0;return"".concat(n,"/").concat(e.max_players)},b=e=>{var t,n,r,s,o,i,a,l,c;const u=null===(t=e.members)||void 0===t?void 0:t.find((t=>t.user_id===e.host_id));return{name:(null===u||void 0===u?void 0:u.custom_lobby_name)||(null===u||void 0===u||null===(n=u.user)||void 0===n?void 0:n.display_name)||(null===u||void 0===u||null===(r=u.user)||void 0===r?void 0:r.username)||(null===(s=e.host)||void 0===s?void 0:s.display_name)||(null===(o=e.host)||void 0===o?void 0:o.username)||"Unknown Host",premiumTier:(null===u||void 0===u||null===(i=u.user)||void 0===i?void 0:i.premium_tier)||(null===(a=e.host)||void 0===a?void 0:a.premium_tier)||"free",role:(null===u||void 0===u||null===(l=u.user)||void 0===l?void 0:l.role)||(null===(c=e.host)||void 0===c?void 0:c.role)||"user"}};return(0,Ie.jsx)("div",{className:"browse-rooms-overlay",children:(0,Ie.jsxs)("div",{className:"browse-rooms-modal",children:[(0,Ie.jsxs)("div",{className:"browse-header",children:[(0,Ie.jsx)("h2",{children:"\ud83c\udf0d Browse Public Rooms"}),(0,Ie.jsx)("button",{className:"close-button",onClick:n,children:"\xd7"})]}),(0,Ie.jsxs)("div",{className:"browse-filters",children:[(0,Ie.jsxs)("label",{children:["Filter by Game:",(0,Ie.jsxs)("select",{value:u,onChange:e=>d(e.target.value),children:[(0,Ie.jsx)("option",{value:"all",children:"All Games"}),h.map((e=>(0,Ie.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id)))]})]}),(0,Ie.jsx)("button",{className:"refresh-button",onClick:g,children:"\ud83d\udd04 Refresh"})]}),o&&(0,Ie.jsxs)("div",{className:"loading-state",children:[(0,Ie.jsx)("div",{className:"spinner"}),(0,Ie.jsx)("p",{children:"Loading rooms..."})]}),l&&(0,Ie.jsx)("div",{className:"error-message",children:l}),!o&&!l&&0===r.length&&(0,Ie.jsxs)("div",{className:"empty-state",children:[(0,Ie.jsx)("p",{children:"\ud83d\ude14 No public rooms available"}),(0,Ie.jsx)("p",{className:"empty-hint",children:"Be the first to create a public room!"})]}),!o&&!l&&r.length>0&&(0,Ie.jsx)("div",{className:"rooms-list",children:r.map((e=>{return(0,Ie.jsxs)("div",{className:"room-card ".concat(e.status),children:[(0,Ie.jsxs)("div",{className:"room-header",children:[(0,Ie.jsxs)("div",{className:"room-info",children:[(0,Ie.jsx)("h3",{className:"room-code",children:e.room_code}),v(e)]}),(0,Ie.jsx)("div",{className:"room-game",children:e.current_game?(0,Ie.jsx)("span",{className:"game-name",children:e.current_game}):(0,Ie.jsx)("span",{className:"no-game",children:"No game selected"})})]}),(0,Ie.jsxs)("div",{className:"room-details",children:[(0,Ie.jsxs)("div",{className:"detail-item",children:[(0,Ie.jsx)("span",{className:"detail-icon",children:"\ud83d\udc64"}),(0,Ie.jsxs)("span",{className:"detail-text",children:["Host: ",b(e).name," ",(n=b(e).premiumTier,r=b(e).role,"admin"===r?(0,Ie.jsx)("span",{className:"host-premium-badge lifetime",title:"Administrator",children:"\ud83d\udcbb"}):"lifetime"===n?(0,Ie.jsx)("span",{className:"host-premium-badge lifetime",title:"Lifetime Premium",children:"\u2b50"}):"monthly"===n?(0,Ie.jsx)("span",{className:"host-premium-badge monthly",title:"Pro Member",children:"\ud83d\udc8e"}):null)]})]}),(0,Ie.jsxs)("div",{className:"detail-item",children:[(0,Ie.jsx)("span",{className:"detail-icon",children:"\ud83d\udc65"}),(0,Ie.jsxs)("span",{className:"detail-text",children:["Players: ",y(e)]})]}),e.streamer_mode&&(0,Ie.jsxs)("div",{className:"detail-item",children:[(0,Ie.jsx)("span",{className:"detail-icon",children:"\ud83c\udfa5"}),(0,Ie.jsx)("span",{className:"detail-text",children:"Streamer Mode"})]})]}),(0,Ie.jsx)("div",{className:"room-actions",children:(0,Ie.jsx)("button",{className:"join-room-button",onClick:()=>(e=>{t&&t({roomCode:e.room_code})})(e),disabled:"in_game"===e.status,children:"in_game"===e.status?"Game in Progress":"Join Room"})})]},e.id);var n,r}))}),(0,Ie.jsx)("div",{className:"browse-footer",children:(0,Ie.jsx)("button",{className:"cancel-button",onClick:n,children:"Close"})})]})})},Qp=e=>{let{onGameSelect:t,isHost:n,disabled:r}=e;const[s,o]=(0,i.useState)([]),[a,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(null);return(0,i.useEffect)((()=>{(async()=>{try{console.log("[GamePicker] \ud83c\udfae Fetching games from /api/games...");const e=await fetch("/api/games");console.log("[GamePicker] \ud83d\udce1 Response status:",e.status);const t=await e.json();if(console.log("[GamePicker] \ud83d\udce6 API response:",t),!t.success||!t.games)throw console.error("[GamePicker] \u274c Invalid response format:",t),new Error("Failed to load games");console.log("[GamePicker] \u2705 Successfully loaded",t.games.length,"games"),console.log("[GamePicker] \ud83c\udfaf Game IDs:",t.games.map((e=>e.id))),o(t.games)}catch(Cm){console.error("[GamePicker] \u274c Error loading games:",Cm),console.error("[GamePicker] \ud83d\udccb Error details:",Cm.message),u("Failed to load games. Please refresh the page."),o([{id:"ddf",name:"Der d\xfcmmste fliegt",icon:"\ud83c\udfae",description:"Quiz game where the worst player gets eliminated",maxPlayers:8},{id:"schooled",name:"School Quiz",icon:"\ud83c\udf93",description:"Educational quiz game for students",maxPlayers:10},{id:"susd",name:"SUS'D",icon:"\ud83d\udd0d",description:"Imposter game - find who's acting suspicious!",maxPlayers:10},{id:"bingo",name:"Bingo Buddies",icon:"\ud83c\udfb1",description:"Fast-paced multiplayer bingo with custom cards and power-ups.",maxPlayers:12},{id:"cluescale",name:"ClueScale",icon:"\ud83d\udd0e",description:"A mystery-solving game where players follow clues to scale the challenge!",maxPlayers:10}])}finally{l(!1)}})()}),[]),n?a?(0,Ie.jsxs)("div",{className:"game-picker",children:[(0,Ie.jsx)("h3",{className:"picker-title",children:"Loading Games..."}),(0,Ie.jsxs)("div",{className:"loading-dots",children:[(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{})]})]}):(console.log("[GamePicker] \ud83c\udfa8 Rendering with",s.length,"games:",s.map((e=>({id:e.id,name:e.name})))),(0,Ie.jsxs)("div",{className:"game-picker",children:[c&&(0,Ie.jsx)("div",{className:"error-message",style:{color:"#ff6b6b",marginBottom:"1rem",padding:"0.5rem",background:"rgba(255, 107, 107, 0.1)",borderRadius:"4px"},children:c}),(0,Ie.jsx)("h3",{className:"picker-title",children:"Select a Game"}),(0,Ie.jsx)("div",{className:"games-grid",children:s.map((e=>(console.log("[GamePicker] \ud83c\udfae Rendering game:",e.id,e.name),(0,Ie.jsxs)(bh.button,{className:"game-option",onClick:()=>t(e.id),disabled:r,whileHover:{scale:r?1:1.05},whileTap:{scale:r?1:.95},children:[(0,Ie.jsx)("div",{className:"game-icon",children:e.thumbnailUrl?(0,Ie.jsx)("img",{src:e.thumbnailUrl,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.icon||"\ud83c\udfae"}),(0,Ie.jsx)("h4",{className:"game-name",children:e.name}),(0,Ie.jsx)("p",{className:"game-description",children:e.description}),(0,Ie.jsx)("div",{className:"game-meta",children:(0,Ie.jsxs)("span",{className:"max-players",children:["Max ",e.maxPlayers," players"]})})]},e.id))))})]})):(0,Ie.jsx)("div",{className:"game-picker",children:(0,Ie.jsxs)("div",{className:"waiting-for-host",children:[(0,Ie.jsx)("h3",{children:"Waiting for Host"}),(0,Ie.jsx)("p",{children:"The host will select a game to play"}),(0,Ie.jsxs)("div",{className:"loading-dots",children:[(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{})]})]})})};function Xp(){const e=(0,i.useRef)(!1);return bo((()=>(e.current=!0,()=>{e.current=!1})),[]),e}class Zp extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function em(e){let{children:t,isPresent:n}=e;const r=(0,i.useId)(),s=(0,i.useRef)(null),o=(0,i.useRef)({width:0,height:0,top:0,left:0});return(0,i.useInsertionEffect)((()=>{const{width:e,height:t,top:i,left:a}=o.current;if(n||!s.current||!e||!t)return;s.current.dataset.motionPopId=r;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(i,"px !important;\n            left: ").concat(a,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}}),[n]),i.createElement(Zp,{isPresent:n,childRef:s,sizeRef:o},i.cloneElement(t,{ref:s}))}const tm=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:s,custom:o,presenceAffectsLayout:a,mode:l}=e;const c=Vi(nm),u=(0,i.useId)(),d=(0,i.useMemo)((()=>({id:u,initial:n,isPresent:r,custom:o,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;s&&s()},register:e=>(c.set(e,!1),()=>c.delete(e))})),a?void 0:[r]);return(0,i.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[r]),i.useEffect((()=>{!r&&!c.size&&s&&s()}),[r]),"popLayout"===l&&(t=i.createElement(em,{isPresent:r},t)),i.createElement(vo.Provider,{value:d},t)};function nm(){return new Map}const rm=e=>e.key||"";const sm=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:s,exitBeforeEnter:o,presenceAffectsLayout:a=!0,mode:l="sync"}=e;Pa(!o,"Replace exitBeforeEnter with mode='wait'");const c=(0,i.useContext)(Lo).forceRender||function(){const e=Xp(),[t,n]=(0,i.useState)(0),r=(0,i.useCallback)((()=>{e.current&&n(t+1)}),[t]);return[(0,i.useCallback)((()=>Qi.postRender(r)),[r]),t]}()[0],u=Xp(),d=function(e){const t=[];return i.Children.forEach(e,(e=>{(0,i.isValidElement)(e)&&t.push(e)})),t}(t);let h=d;const f=(0,i.useRef)(new Map).current,p=(0,i.useRef)(h),m=(0,i.useRef)(new Map).current,g=(0,i.useRef)(!0);var v;if(bo((()=>{g.current=!1,function(e,t){e.forEach((e=>{const n=rm(e);t.set(n,e)}))}(d,m),p.current=h})),v=()=>{g.current=!0,m.clear(),f.clear()},(0,i.useEffect)((()=>()=>v()),[]),g.current)return i.createElement(i.Fragment,null,h.map((e=>i.createElement(tm,{key:rm(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:a,mode:l},e))));h=[...h];const y=p.current.map(rm),b=d.map(rm),w=y.length;for(let i=0;i<w;i++){const e=y[i];-1!==b.indexOf(e)||f.has(e)||f.set(e,void 0)}return"wait"===l&&f.size&&(h=[]),f.forEach(((e,t)=>{if(-1!==b.indexOf(t))return;const r=m.get(t);if(!r)return;const o=y.indexOf(t);let g=e;if(!g){const e=()=>{f.delete(t);const e=Array.from(m.keys()).filter((e=>!b.includes(e)));if(e.forEach((e=>m.delete(e))),p.current=d.filter((n=>{const r=rm(n);return r===t||e.includes(r)})),!f.size){if(!1===u.current)return;c(),s&&s()}};g=i.createElement(tm,{key:rm(r),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:a,mode:l},r),f.set(t,g)}h.splice(o,0,g)})),h=h.map((e=>{const t=e.key;return f.has(t)?e:i.createElement(tm,{key:rm(e),isPresent:!0,presenceAffectsLayout:a,mode:l},e)})),i.createElement(i.Fragment,null,f.size?h:h.map((e=>(0,i.cloneElement)(e))))},om={};const im=()=>{const{session:e}=ao(),t=null===e||void 0===e?void 0:e.access_token,n=t||"guest",[r,s]=(0,i.useState)(om[n]||[]),[o,a]=(0,i.useState)(!om[n]);(0,i.useEffect)((()=>{if(om[n])return s(om[n]),void a(!1);(async()=>{a(!0);try{const e={};t&&(e.Authorization="Bearer ".concat(t));const r=await fetch("/api/avatars",{headers:e}),o=await r.json();o.success&&(om[n]=o.avatars,s(o.avatars))}catch(Cm){console.error("Failed to load avatars",Cm)}finally{a(!1)}})()}),[t,n]);return{avatars:r,loading:o,getAvatarSrc:e=>{let t=r.find((t=>t.id===e));if(!t)for(const n in om){const r=om[n].find((t=>t.id===e));if(r){t=r;break}}return t?t.src:null}}},am=e=>{let{config:t={},size:n=100,className:r=""}=e;const{avatarId:s}=t,{getAvatarSrc:o,loading:i}=im(),a=o(s),l=a&&(a.toLowerCase().endsWith(".jpg")||a.toLowerCase().endsWith(".jpeg")),c={width:n,height:n,padding:l?0:"12%"},u={objectFit:l?"cover":"contain"};return(0,Ie.jsx)("div",{className:"mascot-avatar-container ".concat(r),style:c,children:a?(0,Ie.jsx)("img",{src:a,alt:"Custom Mascot",className:"mascot-avatar-img",style:u}):(0,Ie.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:i?(0,Ie.jsx)("span",{className:"loading-dots",children:"..."}):(0,Ie.jsx)("span",{style:{fontSize:.5*n,color:"#ccc"},children:"?"})})})},lm=e=>{let{currentConfig:t,onSave:n,onCancel:r,loading:s=!1,isPremium:o=!1,userRole:a="user"}=e;const l=ne(),[c,u]=(0,i.useState)(t||{avatarId:"group1"}),{avatars:d,loading:h}=im();(0,i.useEffect)((()=>{console.log("\ud83c\udfa8 [MASCOT DEBUG] MascotCustomizer mounted"),console.log("\ud83c\udfa8 [MASCOT DEBUG] isPremium prop:",o,"Role:",a),console.log("\ud83c\udfa8 [MASCOT DEBUG] Avatars loaded:",d.length),t&&t.avatarId?u(t):u({avatarId:"group1"})}),[t,o,a,d]);return(0,Ie.jsxs)("div",{className:"mascot-customizer",children:[(0,Ie.jsxs)("div",{className:"mascot-preview-area",children:[(0,Ie.jsx)("div",{className:"mascot-preview-wrapper",children:(0,Ie.jsx)(am,{config:c,size:200})}),(0,Ie.jsx)("p",{className:"mascot-helper-text",children:"Select your avatar"}),!o&&"admin"!==a&&(0,Ie.jsx)("button",{type:"button",className:"btn-text-only",onClick:()=>{l("/premium"),r&&r()},style:{fontSize:"0.8rem",marginTop:"0.5rem",textDecoration:"underline",color:"var(--primary)"},children:"Unlock all avatars with Premium"})]}),(0,Ie.jsx)("div",{className:"mascot-controls",children:h?(0,Ie.jsx)("div",{className:"loading-spinner",children:"Loading avatars..."}):(0,Ie.jsx)("div",{className:"options-grid single-category",children:d.map((e=>{const t=e.hidden,r=t?!("admin"===a):e.premium&&!o,s=c.avatarId===e.id;return(0,Ie.jsxs)("button",{type:"button",className:"mascot-option-btn ".concat(s?"selected":""," ").concat(r?"locked":""),onClick:()=>(e=>{const t=e.hidden,r="admin"===a;if(console.log("\ud83c\udfa8 [MASCOT DEBUG] Selecting item:",e.name),console.log("\ud83c\udfa8 [MASCOT DEBUG] Checks:",{isAdminItem:t,isAdminUser:r,isPremiumItem:e.premium,isUserPremium:o}),t&&!r)return void console.warn("\u274c [MASCOT DEBUG] Selection blocked: Admin only.");if(e.premium&&!o&&!t)return void console.warn("\u274c [MASCOT DEBUG] Selection blocked: Premium only.");const s={avatarId:e.id};u(s),n({avatar_style:"custom-mascot",avatar_seed:"custom",avatar_options:s})})(e),title:t?r?"Admin Only \ud83d\udd12":"Admin Avatar":r?"".concat(e.name," (Premium)"):e.name,disabled:r,children:[(0,Ie.jsxs)("div",{className:"img-wrapper",children:[(0,Ie.jsx)("img",{src:e.src,alt:e.name}),e.premium&&!e.hidden&&(0,Ie.jsx)("span",{className:"premium-badge-icon",title:"Premium",children:"\u2605"}),e.hidden&&(0,Ie.jsx)("span",{className:"premium-badge-icon admin",title:"Admin Only",children:"\ud83d\udcbb"}),r&&(0,Ie.jsx)("div",{className:"lock-overlay",children:(0,Ie.jsx)("span",{children:"\ud83d\udd12"})})]}),(0,Ie.jsx)("span",{className:"option-label",children:e.name})]},e.id)}))})})]})},cm=e=>{let{currentOptions:t={},onSave:n,onCancel:r,loading:s=!1,isPremium:o=!1,userRole:i="user"}=e;return(0,Ie.jsx)("div",{className:"avatar-customizer",children:(0,Ie.jsx)(lm,{currentConfig:t,onSave:n,onCancel:r,loading:s,isPremium:o,userRole:i})})},um=e=>{let{name:t="",avatarStyle:n,avatarSeed:r,avatarOptions:s={},size:o=40,isPremium:i=!1,className:a=""}=e;if(!!n){if("custom-mascot"===n)return(0,Ie.jsx)(am,{config:s,size:o,className:a});const e=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:80;const r="https://api.dicebear.com/9.x/".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pixel-art","/svg"),s=new URLSearchParams(po({seed:e,size:n},t));return"".concat(r,"?").concat(s.toString())}(n,r||t||"default",s,2*o);return(0,Ie.jsx)("img",{src:e,alt:t,className:"avatar-image dicebear-avatar ".concat(a),style:{width:o,height:o},loading:"lazy"})}return(0,Ie.jsx)("span",{className:"avatar-initial ".concat(a),children:t.charAt(0).toUpperCase()||"?"})},dm=e=>{let{isOpen:t,onClose:n,roomCode:r,isPremium:s}=e;const{user:o,session:a,refreshUser:l,isPremium:c}=ao(),u=void 0!==s?s:c,{socket:d}=ln(),{addNotification:h}=dn(),f=ne(),[p,m]=(0,i.useState)(!1),[g,v]=(0,i.useState)(!1);if((0,i.useEffect)((()=>{t&&m(!1)}),[t]),!t)return null;return(0,Ie.jsx)(sm,{children:(0,Ie.jsx)(bh.div,{className:"profile-settings-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>{e.target===e.currentTarget&&n()},children:(0,Ie.jsxs)(bh.div,{className:"profile-settings-modal",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.3},children:[(0,Ie.jsxs)("div",{className:"profile-settings-header",children:[(0,Ie.jsx)("h2",{className:"profile-settings-title",children:"Avatar Settings"}),(0,Ie.jsx)("button",{className:"close-button",onClick:n,children:(0,Ie.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Ie.jsx)("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),(0,Ie.jsx)("div",{className:"profile-settings-content",children:p?(0,Ie.jsx)("div",{className:"avatar-customizer-section",children:(0,Ie.jsx)(cm,{currentStyle:null===o||void 0===o?void 0:o.avatar_style,currentSeed:null===o||void 0===o?void 0:o.avatar_seed,currentOptions:(null===o||void 0===o?void 0:o.avatar_options)||{},username:(null===o||void 0===o?void 0:o.username)||(null===o||void 0===o?void 0:o.display_name),onSave:async e=>{console.log("\ud83c\udfa8 [PROFILE MODAL] Saving avatar preferences:",e),v(!0);try{if(null===a||void 0===a||!a.access_token)throw new Error("Not authenticated");const t=po({userId:o.id},e);console.log("\ud83c\udfa8 [PROFILE MODAL] Request body:",t);const n=await fetch("/api/users/avatar",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.access_token)},body:JSON.stringify(t)});console.log("\ud83c\udfa8 [PROFILE MODAL] Response status:",n.status);const s=await n.json();if(console.log("\ud83c\udfa8 [PROFILE MODAL] Response data:",s),!n.ok)throw new Error(s.error||"Failed to save avatar");console.log("\u2705 [PROFILE MODAL] Avatar saved successfully"),m(!1),l&&(console.log("\ud83c\udfa8 [PROFILE MODAL] Refreshing user data..."),await l(),console.log("\ud83c\udfa8 [PROFILE MODAL] User data refreshed")),d&&r?(console.log("\ud83c\udfa8 [PROFILE MODAL] Socket available:",{connected:d.connected,id:d.id,roomCode:r}),console.log("\ud83c\udfa8 [PROFILE MODAL] Emitting profile_updated to socket:",{roomCode:r,userId:o.id,displayName:o.display_name||o.username,avatarStyle:e.avatar_style,avatarSeed:e.avatar_seed,avatarOptions:e.avatar_options}),d.emit("profile_updated",{roomCode:r,userId:o.id,displayName:o.display_name||o.username,avatarStyle:e.avatar_style,avatarSeed:e.avatar_seed,avatarOptions:e.avatar_options})):console.warn("\u26a0\ufe0f [PROFILE MODAL] Cannot emit update: socket or roomCode missing",{socket:!!d,roomCode:r}),h("Avatar updated!","success")}catch(t){console.error("\u274c [PROFILE MODAL] Avatar save error:",t),h(t.message||"Failed to save avatar","error")}finally{v(!1)}},onCancel:()=>m(!1),loading:g,isPremium:u,userRole:null===o||void 0===o?void 0:o.role})}):(0,Ie.jsxs)("div",{className:"avatar-preview-section",children:[(0,Ie.jsx)("div",{className:"avatar-preview-container",children:(0,Ie.jsx)(um,{avatarStyle:null===o||void 0===o?void 0:o.avatar_style,avatarSeed:null===o||void 0===o?void 0:o.avatar_seed,avatarOptions:null===o||void 0===o?void 0:o.avatar_options,name:(null===o||void 0===o?void 0:o.display_name)||(null===o||void 0===o?void 0:o.username)||"User",size:80,isPremium:u,className:"avatar-preview-img"})}),(0,Ie.jsxs)("div",{className:"avatar-preview-info",children:[(0,Ie.jsx)("span",{className:"preview-label",children:"Current Avatar"}),(0,Ie.jsx)("button",{className:"change-avatar-btn",onClick:()=>m(!0),children:null!==o&&void 0!==o&&o.avatar_style?"Change Avatar":"Create Avatar"})]})]})}),(0,Ie.jsxs)("div",{className:"profile-settings-footer",children:[(0,Ie.jsx)("button",{className:"full-account-button",onClick:()=>{n(),f("/account")},children:"Full Account Settings"}),(0,Ie.jsx)("button",{className:"done-button",onClick:n,children:"Done"})]})]})})})},hm=e=>{let{table:t,filters:n={},onInsert:r,onUpdate:s,onDelete:o,dependencies:a=[],enabled:l=!0}=e;const c=(0,i.useRef)(null),u=(0,i.useRef)(null);return(0,i.useEffect)((()=>{if(!l)return void console.log("\ud83d\udd14 [REALTIME] Subscription disabled for table: ".concat(t));const e=n.filter;if(e&&e.includes("eq.null"))return void console.log("\ud83d\udd14 [REALTIME] Skipping subscription for ".concat(t," - incomplete filter"));console.log("\ud83d\udd14 [REALTIME] Setting up subscription for table: ".concat(t),n);return(async()=>{try{const e=await so();if(!e)return void console.error("\u274c [REALTIME] Cannot setup subscription - Supabase client not available");u.current&&(console.log("\ud83e\uddf9 [REALTIME] Cleaning up existing subscription for ".concat(t)),await e.removeChannel(u.current),u.current=null,c.current=null);const i=Date.now(),a=Math.random().toString(36).substring(7),l="".concat(t,"_changes_").concat(i,"_").concat(a),d=e.channel(l).on("postgres_changes",po({event:"*",schema:"public",table:t},n),(e=>{switch(console.log("\ud83d\udd14 [REALTIME] ".concat(t," change:"),e),e.eventType){case"INSERT":r&&r(e.new,e);break;case"UPDATE":s&&s(e.new,e.old,e);break;case"DELETE":o&&o(e.old,e);break;default:console.log("\ud83d\udd14 [REALTIME] Unknown event type: ".concat(e.eventType))}})),h=await d.subscribe((e=>{console.log("\ud83d\udd14 [REALTIME] Subscription status for ".concat(t,":"),e),"SUBSCRIBED"===e?console.log("\u2705 [REALTIME] Successfully subscribed to ".concat(t)):"CLOSED"!==e&&"CHANNEL_ERROR"!==e||console.error("\u274c [REALTIME] Subscription error for ".concat(t,":"),e)}));u.current=d,c.current=h}catch(e){console.error("\u274c [REALTIME] Error setting up subscription for ".concat(t,":"),e)}})(),()=>{console.log("\ud83e\uddf9 [REALTIME] Cleaning up subscription for ".concat(t));let e=!1;if(u.current){const n=u.current;so().then((async r=>{if(!e&&r&&n)try{await r.removeChannel(n),console.log("\u2705 [REALTIME] Successfully cleaned up subscription for ".concat(t))}catch(s){console.error("\u274c [REALTIME] Error cleaning up subscription for ".concat(t,":"),s)}})),u.current=null,c.current=null}return()=>{e=!0}}}),a),c.current},fm=e=>{var t,n,r;let{roomCode:s,playerName:o,isHost:a,onLeave:l}=e;const{socket:c,socketId:u,isConnected:d,connectSocket:h}=ln(),{addNotification:f}=dn(),{user:p,isAuthenticated:m,isPremium:g}=ao(),[v,y]=(0,i.useState)([]),[b,w]=(0,i.useState)(null),[x,S]=(0,i.useState)(!0),[j,k]=(0,i.useState)(null),[_,E]=(0,i.useState)(null),[C,T]=(0,i.useState)(a),[P,N]=(0,i.useState)("waiting_for_players"),[R,A]=(0,i.useState)(!1),[O,L]=(0,i.useState)(new Map),[I,U]=(0,i.useState)(!1),[D,B]=(0,i.useState)(!1);(0,i.useEffect)((()=>{v.length>0&&console.log("\ud83d\udd0d [LOBBY DEBUG] Players updated:",v.map((e=>({name:e.name,role:e.role,premiumTier:e.premiumTier}))))}),[v]);const M={ddf:{name:"Der Duemmste fliegt",icon:"\ud83c\udfae",description:"Quiz game where the worst player gets eliminated",maxPlayers:8},schooled:{name:"School Quiz",icon:"\ud83c\udf93",description:"Educational quiz game for students",maxPlayers:10},schoolquiz:{name:"School Quiz",icon:"\ud83c\udf93",description:"Educational quiz game for students",maxPlayers:10},susd:{name:"SUS'D",icon:"\ud83d\udd75\ufe0f",description:"Imposter game - find who's acting suspicious!",maxPlayers:10},bingo:{name:"Bingo Buddies",icon:"\ud83c\udfb1",description:"Fast-paced multiplayer bingo with custom cards and power-ups.",maxPlayers:12}}[b]||{name:b||"Unknown game",icon:"\ud83c\udfae",description:"Waiting for host to select a game",maxPlayers:null},F=(0,i.useRef)(s),z=(0,i.useRef)(o),V=(0,i.useRef)(null),H=(0,i.useRef)(null),G=(0,i.useRef)(new Map),q=((0,i.useRef)(0),e=>{G.current.has(e)&&(clearInterval(G.current.get(e)),G.current.delete(e)),L((t=>{const n=new Map(t);return n.delete(e),n}))});hm({table:"room_members",filters:H.current?{filter:"room_id=eq.".concat(H.current)}:{},enabled:!!H.current,onUpdate:(e,t)=>{console.log("\ud83d\udd14 [REALTIME] Room member updated:",{newRecord:e,oldRecord:t}),y((t=>t.map((t=>t.id===e.user_id?po(po({},t),{},{isConnected:e.is_connected,inGame:e.in_game,currentLocation:e.current_location,lastPing:e.last_ping}):t))))},onInsert:e=>{console.log("\ud83d\udd14 [REALTIME] New room member:",e),W()},onDelete:e=>{console.log("\ud83d\udd14 [REALTIME] Room member left:",e),y((t=>t.filter((t=>t.id!==e.user_id))))},dependencies:[H.current]}),hm({table:"rooms",filters:H.current?{filter:"id=eq.".concat(H.current)}:{},enabled:!!H.current,onUpdate:(e,t)=>{console.log("\ud83d\udd14 [REALTIME] Room updated:",{newRecord:e,oldRecord:t}),E(e),N(e.status),e.current_game!==t.current_game&&w("lobby"!==e.current_game?e.current_game:null)},dependencies:[H.current]});const W=async()=>{if(H.current)try{const e=await so();if(!e)return void console.error("\u274c Cannot fetch player list - Supabase client not available");const{data:t,error:n}=await e.from("room_members").select("\n          user_id,\n          role,\n          is_connected,\n          in_game,\n          current_location,\n          last_ping,\n          user:users(username, display_name, premium_tier, avatar_url, avatar_style, avatar_seed, avatar_options)\n        ").eq("room_id",H.current);if(n)throw n;const r=(null===t||void 0===t?void 0:t.map((e=>{var t,n,r,s,o,i,a,l;return{id:e.user_id,name:(null===(t=e.user)||void 0===t?void 0:t.display_name)||(null===(n=e.user)||void 0===n?void 0:n.username),isHost:"host"===e.role,isConnected:e.is_connected,inGame:e.in_game,currentLocation:e.current_location,lastPing:e.last_ping,premiumTier:(null===(r=e.user)||void 0===r?void 0:r.premium_tier)||"free",role:(null===(s=e.user)||void 0===s?void 0:s.role)||"user",avatarUrl:null===(o=e.user)||void 0===o?void 0:o.avatar_url,avatarStyle:null===(i=e.user)||void 0===i?void 0:i.avatar_style,avatarSeed:null===(a=e.user)||void 0===a?void 0:a.avatar_seed,avatarOptions:null===(l=e.user)||void 0===l?void 0:l.avatar_options}})))||[];y(r)}catch(j){console.error("\u274c Error fetching updated player list:",j)}};(0,i.useEffect)((()=>{if(!c){console.log("\ud83d\udfe1 [RoomLobby] Socket not available, connecting...");return h()?void S(!0):(k("Failed to establish connection to server"),void S(!1))}if(!d)return console.log("\ud83d\udfe1 [RoomLobby] Socket available, but not connected. Current status:",d),void S(!0);console.log("\ud83d\udd0c [RoomLobby] Socket connected, setting up event listeners. Socket ID:",c.id),S(!0);const e=()=>{console.log("\u2705 [CLIENT] Connected to server in lobby (via RoomLobby listener for existing socket)"),console.log("\ud83d\udd0d [CLIENT DEBUG] Socket ID:",c.id),console.log("\ud83d\udd0d [CLIENT DEBUG] Room code:",F.current),console.log("\ud83d\udd0d [CLIENT DEBUG] Player name:",z.current),console.log("\ud83d\udce4 [LOBBY DEBUG] Sending joinRoom event..."),c.emit("joinRoom",{roomCode:F.current,playerName:z.current}),console.log("\ud83d\udce4 [CLIENT] joinRoom event sent from lobby")};d?e():c.once("connect",e);const t=e=>{var t,n,r,s,o,i,a,l,c,u,d,h,f;console.log("\u2705 [CLIENT] Successfully joined room in lobby:",e),console.log("\ud83d\udd0d [CLIENT DEBUG] Lobby join data:",{roomCode:e.roomCode,playerCount:(null===(t=e.players)||void 0===t?void 0:t.length)||0,room_id:null===(n=e.room)||void 0===n?void 0:n.id,game_type:null===(r=e.room)||void 0===r?void 0:r.game_type}),console.log("\ud83d\udd0d [LOBBY DEBUG] Room joined details:",{roomCode:e.roomCode,isHost:e.isHost,playerCount:(null===(s=e.players)||void 0===s?void 0:s.length)||0,roomId:null===(o=e.room)||void 0===o?void 0:o.id,gameType:null===(i=e.room)||void 0===i?void 0:i.game_type,roomStatus:null===(a=e.room)||void 0===a?void 0:a.status,participants:(null===(l=e.players)||void 0===l?void 0:l.map((e=>({id:e.id,name:e.name,isHost:e.isHost,isConnected:e.isConnected,inGame:e.inGame,currentLocation:e.currentLocation,premiumTier:e.premiumTier,avatarUrl:e.avatarUrl}))))||[],timestamp:(new Date).toISOString()}),console.log("\ud83d\udd0d [PREMIUM DEBUG] Raw player data from server:",null===(c=e.players)||void 0===c?void 0:c.map((e=>({id:e.id,name:e.name,premiumTier:e.premiumTier,avatarUrl:e.avatarUrl,allFields:Object.keys(e)}))));const p=(null===(u=e.players)||void 0===u?void 0:u.map((e=>({id:e.id,name:e.name,isHost:e.isHost,isConnected:void 0===e.isConnected||e.isConnected,inGame:e.inGame||!1,currentLocation:e.currentLocation||(e.isConnected?"lobby":"disconnected"),lastPing:e.lastPing,premiumTier:e.premiumTier||"free",role:e.role||"user",avatarUrl:e.avatarUrl,avatarStyle:e.avatarStyle,avatarSeed:e.avatarSeed,avatarOptions:e.avatarOptions}))))||[];console.log("\ud83c\udfaf [PREMIUM DEBUG] Mapped players with premium/avatar data:",p.map((e=>({name:e.name,premiumTier:e.premiumTier,avatarStyle:e.avatarStyle,avatarSeed:e.avatarSeed,hasPremiumTier:!!e.premiumTier,isPremium:e.premiumTier&&"free"!==e.premiumTier})))),y(p),E(e.room),N((null===(d=e.room)||void 0===d?void 0:d.status)||"waiting_for_players"),w("lobby"!==(null===(h=e.room)||void 0===h?void 0:h.game_type)?e.room.game_type:null),H.current=null===(f=e.room)||void 0===f?void 0:f.id,console.log("\ud83d\udd14 [REALTIME] Room ID set for subscription:",H.current);const m=p.find((e=>e.name===z.current));m&&(console.log("\ud83d\udd0d [CLIENT DEBUG] Initial host status: ".concat(z.current," is host: ").concat(m.isHost)),console.log("\ud83d\udd0d [LOBBY DEBUG] Host status update:",{playerName:z.current,playerId:m.id,wasHost:C,nowHost:m.isHost,changed:C!==m.isHost}),T(m.isHost),V.current=m.id),X(p),S(!1),k(null)},n=e=>{var t,n;console.log("\ud83d\udc4b Player joined:",e.player.name),console.log("\ud83d\udd0d [PREMIUM DEBUG] Player joined with data:",{playerName:e.player.name,premiumTier:e.player.premiumTier,avatarUrl:e.player.avatarUrl,allPlayerFields:Object.keys(e.player),allPlayers:null===(t=e.players)||void 0===t?void 0:t.map((e=>({name:e.name,premiumTier:e.premiumTier,avatarUrl:e.avatarUrl})))});const r=e.players||[];y(r),E(e.room),null!==(n=e.player)&&void 0!==n&&n.id&&q(e.player.id);const s=r.find((e=>e.name===z.current));s&&(s.isHost!==C&&(console.log("\ud83d\udd0d [CLIENT DEBUG] Host status sync: ".concat(z.current," is host: ").concat(s.isHost)),T(s.isHost)),V.current||(V.current=s.id)),X(r)},r=e=>{var t,n;console.log("\ud83d\udd04 Player status updated:",e);const r=(null===(t=e.room)||void 0===t||null===(n=t.participants)||void 0===n?void 0:n.map((e=>{var t,n,r,s,o,i,a,l;return{id:e.user_id,name:(null===(t=e.user)||void 0===t?void 0:t.display_name)||(null===(n=e.user)||void 0===n?void 0:n.username),isHost:"host"===e.role,isConnected:e.is_connected,inGame:e.in_game,currentLocation:e.current_location,lastPing:e.last_ping,premiumTier:(null===(r=e.user)||void 0===r?void 0:r.premium_tier)||"free",role:(null===(s=e.user)||void 0===s?void 0:s.role)||"user",avatarUrl:null===(o=e.user)||void 0===o?void 0:o.avatar_url,avatarStyle:null===(i=e.user)||void 0===i?void 0:i.avatar_style,avatarSeed:null===(a=e.user)||void 0===a?void 0:a.avatar_seed,avatarOptions:null===(l=e.user)||void 0===l?void 0:l.avatar_options}})))||[];if(y(r),E(e.room),e.hostTransfer){console.log("\ud83d\udc51 Host transfer detected in status update:",e.hostTransfer);const t=r.find((e=>e.name===z.current));if(t){const e=t.isHost;console.log("\ud83d\udd0d [CLIENT DEBUG] Host status update via external game: ".concat(z.current," is now host: ").concat(e)),T(e)}const n="external_game_disconnect"===e.hostTransfer.reason?"disconnected from game":"original_host_left"===e.hostTransfer.reason?"left the room":"disconnected";console.log("\ud83d\udc51 [HOST TRANSFER] ".concat(e.hostTransfer.newHostName," is now the host (previous host ").concat(n,")")),f("".concat(e.hostTransfer.newHostName," is now the host (previous host ").concat(n,")"),"info")}e.playerId&&"connected"===e.status&&q(e.playerId),X(r)},s=e=>{var t;console.log("\ud83d\udc4b Player left:",e),y(e.players||[]),e.room&&E(e.room),console.log("\ud83d\udc4b [LEAVE DEBUG] Updated player list after leave:",null===(t=e.players)||void 0===t?void 0:t.map((e=>({name:e.name,isConnected:e.isConnected,currentLocation:e.currentLocation,inGame:e.inGame}))))},o=e=>{console.log("\ud83d\udd0c Player disconnected:",e.playerId),e.players?y(e.players):y((t=>t.map((t=>t.id===e.playerId?po(po({},t),{},{isConnected:!1}):t)))),e.playerId&&(e=>{const t=Date.now();G.current.has(e)&&clearInterval(G.current.get(e)),L((t=>new Map(t.set(e,10))));const n=setInterval((()=>{const r=Date.now()-t,s=Math.max(0,Math.ceil((1e4-r)/1e3));L((t=>{const n=new Map(t);return s>0?n.set(e,s):n.delete(e),n})),s<=0&&(clearInterval(n),G.current.delete(e))}),2e3);G.current.set(e,n)})(e.playerId)},i=e=>{console.log("\ud83c\udfae Game selected:",e.gameType),w(e.gameType)},a=e=>{console.log("\ud83d\ude80 [LOBBY DEBUG] Game starting event received:",{gameUrl:e.gameUrl,gameType:e.gameType,isHost:e.isHost,roomCode:e.roomCode,currentPlayerName:z.current,currentIsHost:C,socketId:null===c||void 0===c?void 0:c.id,timestamp:(new Date).toISOString()}),console.log("\ud83c\udfae [LOBBY DEBUG] Starting game with URL parameters"),console.log("\ud83c\udfae [LOBBY DEBUG] Redirecting to game:",e.gameUrl),A(!1),c&&(console.log("\ud83d\udd0c [LOBBY DEBUG] Disconnecting socket before game redirect..."),c.disconnect()),setTimeout((()=>{window.location.href=e.gameUrl}),100)},u=e=>{var t,n,r,s,o;console.error("\u274c [LOBBY DEBUG] Socket error received:",{error:e.message||e,code:e.code,debug:e.debug,roomCode:F.current,playerName:z.current,timestamp:(new Date).toISOString(),isLoading:x,currentError:e});let i=e.message||"An error occurred",a=!1;switch(e.code){case"ROOM_NOT_FOUND":i="Room not found. It may have expired or been cleaned up.",a=!0,console.error("\ud83d\udd0d [LOBBY DEBUG] Room not found details:",{roomCode:F.current,searchedFor:null===(t=e.debug)||void 0===t?void 0:t.room_code,timestamp:null===(n=e.debug)||void 0===n?void 0:n.search_timestamp});break;case"ROOM_FULL":i="Room is full. Cannot rejoin at this time.",a=!0;break;case"ROOM_NOT_ACCEPTING":i="Room is ".concat((null===(r=e.debug)||void 0===r?void 0:r.room_status)||"not accepting players","."),console.error("\ud83d\udd0d [LOBBY DEBUG] Room not accepting details:",{roomStatus:null===(s=e.debug)||void 0===s?void 0:s.room_status,isOriginalCreator:null===(o=e.debug)||void 0===o?void 0:o.is_original_creator});break;case"DUPLICATE_PLAYER":i="Player name already in use. Try a different name.",a=!0;break;case"JOIN_FAILED":i="Failed to join room. Please try refreshing the page.";break;case"KICK_FAILED":i=e.message||"Failed to kick player. You may not have permission.";break;case"NOT_HOST":i="Only the host can perform this action.";break;default:console.error("\ud83d\udd0d [LOBBY DEBUG] Unknown error code:",e.code)}a?(k(i),S(!1)):(f(i,"warning"),x&&S(!1))},p=e=>{console.log("\ud83d\udc51 Host transferred:",e);const t=e.players||[];y(t),e.room&&E(e.room);const n=t.find((e=>e.name===z.current));if(n){const e=n.isHost;console.log("\ud83d\udd0d [CLIENT DEBUG] Host status update: ".concat(z.current," is now host: ").concat(e)),T(e)}console.log("\ud83d\udc51 [HOST DEBUG] Updated player list after host transfer:",t.map((e=>({name:e.name,isHost:e.isHost,isConnected:e.isConnected,currentLocation:e.currentLocation,inGame:e.inGame}))));const r="original_host_left"===e.reason?"left the room":"original_host_disconnected"===e.reason?"disconnected":"transferred host";f("".concat(e.newHostName," is now the host (previous host ").concat(r,")."),"info"),X(t)},m=e=>{console.log("\ud83d\udd04 Room status changed:",e),N(e.newStatus),E(e.room),"waiting_for_players"===e.newStatus&&w(null),f("Room status changed to '".concat(e.newStatus,"' by ").concat(e.changedBy,"."),"info")},g=e=>{var t;(console.log("\ud83d\udc62 [KICK DEBUG] Player kicked event received:",{data:e,isNotification:e.isNotification,targetUserId:e.targetUserId,reason:e.reason,timestamp:(new Date).toISOString()}),e.isNotification)?(console.log("\ud83d\udc62 [KICK DEBUG] ".concat(e.targetName," was kicked by ").concat(e.kickedBy)),y(e.players||[]),e.room&&E(e.room),console.log("\ud83d\udc62 [KICK DEBUG] Updated player list after kick:",null===(t=e.players)||void 0===t?void 0:t.map((e=>({name:e.name,isConnected:e.isConnected,currentLocation:e.currentLocation,inGame:e.inGame})))),f("".concat(e.targetName," was removed from the room by ").concat(e.kickedBy,"."),"warning")):(console.log("\ud83d\udc62 [KICK DEBUG] You have been kicked from the room:",{reason:e.reason,kickedBy:e.kickedBy,roomCode:e.roomCode}),f("You have been kicked: ".concat(e.reason," (by ").concat(e.kickedBy,")"),"error"),c&&c.disconnect(),l&&l())},v=e=>{console.log("\ud83d\udc64 [PROFILE DEBUG] Profile updated event received:",e);const{userId:t,avatarStyle:n,avatarSeed:r,avatarOptions:s}=e;y((e=>{const o=e.findIndex((e=>e.id===t));if(-1===o)return console.warn("\ud83d\udc64 [PROFILE DEBUG] Target player not found in list:",t),e;const i=e[o];console.log("\ud83d\udc64 [PROFILE DEBUG] Updating player:",i.name,{old:{style:i.avatarStyle,options:i.avatarOptions},new:{style:n,options:s}});const a=[...e];return a[o]=po(po({},i),{},{avatarStyle:n||i.avatarStyle,avatarSeed:r||i.avatarSeed,avatarOptions:s||i.avatarOptions}),a})),console.log("\ud83d\udc64 [PROFILE DEBUG] Fetching fresh player list to confirm update..."),W()},b=e=>{console.log("\ud83d\udc62 [KICK DEBUG] Kick failed event received:",{data:e,error:e.error,reason:e.reason,timestamp:(new Date).toISOString()}),f("Failed to kick player: ".concat(e.reason||e.error||"Unknown error"),"error")};return c.on("roomJoined",t),c.on("playerJoined",n),c.on("playerLeft",s),c.on("playerDisconnected",o),c.on("playerStatusUpdated",r),c.on("gameSelected",i),c.on("gameStarted",a),c.on("hostTransferred",p),c.on("roomStatusChanged",m),c.on("playerKicked",g),c.on("kickFailed",b),c.on("profile_updated",v),c.on("error",u),()=>{if(console.log("\ud83e\uddf9 [RoomLobby] Cleaning up socket event listeners for RoomLobby instance."),G.current.forEach((e=>{clearInterval(e)})),G.current.clear(),L(new Map),c&&(c.off("roomJoined",t),c.off("playerJoined",n),c.off("playerLeft",s),c.off("playerDisconnected",o),c.off("playerStatusUpdated",r),c.off("gameSelected",i),c.off("gameStarted",a),c.off("hostTransferred",p),c.off("roomStatusChanged",m),c.off("playerKicked",g),c.off("kickFailed",b),c.off("profile_updated",v),c.off("error",u),c.connected)){const e=F.current;e&&(console.log("\ud83d\udce4 [RoomLobby] Emitting leaveRoom on unmount/cleanup for room:",e),c.emit("leaveRoom",{roomCode:e}))}}}),[c,d]),(0,i.useEffect)((()=>{const e=()=>{c&&c.connected&&(console.log("\ud83d\udd0c [LOBBY DEBUG] Cleaning up socket before page unload..."),c.disconnect())};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[c]);const K=(0,i.useCallback)((e=>{c&&d&&C&&(console.log("\ud83c\udfae Selecting game:",e),c.emit("selectGame",{gameType:e}))}),[c,d,C]),J=(0,i.useCallback)((()=>{R?console.log("\ud83d\ude80 [START GAME DEBUG] Game start already in progress, ignoring click"):c&&d&&C?(console.log("\ud83d\ude80 [START GAME DEBUG] Starting game:",{socketConnected:c.connected,socketId:c.id,roomCode:F.current,playerName:z.current,isHost:C,isStartingGame:R,timestamp:(new Date).toISOString()}),A(!0),f("Starting game...","info"),console.log("\ud83d\udce4 [START GAME DEBUG] Emitting startGame event"),c.emit("startGame",{roomCode:F.current}),setTimeout((()=>{A(!1)}),5e3)):(console.error("\u274c [START GAME DEBUG] Cannot start game:",{hasSocket:!!c,isHost:C,socketConnected:d,isStartingGame:R}),C?c&&d||f("Connection lost. Please refresh the page and try again.","error"):f("Only the host can start the game.","warning"))}),[c,d,C,R,f]),Y=(0,i.useCallback)((()=>{c&&d&&c.emit("leaveRoom",{roomCode:F.current}),l&&l()}),[c,d,l]),$=(0,i.useCallback)((e=>{c&&d&&C&&(console.log("\ud83d\udc51 Transferring host to player:",e),c.emit("transferHost",{roomCode:F.current,targetUserId:e}))}),[c,d,C]),Q=(0,i.useCallback)(((e,t)=>{if(c&&d&&C){window.confirm("Are you sure you want to kick ".concat(t," from the room?"))?(console.log("\ud83d\udc62 [KICK DEBUG] Kicking player:",{targetPlayerId:e,targetPlayerName:t,roomCode:F.current,timestamp:(new Date).toISOString()}),c.emit("kickPlayer",{roomCode:F.current,targetUserId:e})):console.log("\ud83d\udc62 [KICK DEBUG] Kick cancelled by host")}}),[c,d,C]),X=e=>{if(!C||!c||!d)return;const t=e.find((e=>e.isHost));if(!t)return;let n="waiting_for_players";"game"===t.currentLocation||t.inGame?n="in_game":("lobby"===t.currentLocation||!t.inGame&&t.isConnected)&&(n="waiting_for_players"),n!==P&&(console.log("\ud83d\udd04 Auto-updating room status based on host location:",{hostLocation:t.currentLocation,hostInGame:t.inGame,currentStatus:P,newStatus:n}),c.emit("autoUpdateRoomStatus",{roomCode:F.current,newStatus:n,reason:"host_location_change"}))},Z=e=>{if(console.log("\ud83d\udd0d [STATUS DEBUG] Getting status for ".concat(e.name,":"),{currentLocation:e.currentLocation,isConnected:e.isConnected,inGame:e.inGame,lastPing:e.lastPing}),e.currentLocation)switch(e.currentLocation){case"game":return{status:"in_game",label:"In Game",color:"#ff6b35",icon:"\ud83c\udfae"};case"lobby":return{status:"lobby",label:"In Lobby",color:"#4caf50",icon:"\ud83d\udfe2"};case"disconnected":return{status:"disconnected",label:"Offline",color:"#666",icon:"\u26ab"};default:return console.warn("\ud83d\udd0d [STATUS DEBUG] Unknown currentLocation: ".concat(e.currentLocation,", falling back to lobby")),{status:"lobby",label:"In Lobby",color:"#4caf50",icon:"\ud83d\udfe2"}}return console.log("\ud83d\udd0d [STATUS DEBUG] No currentLocation for ".concat(e.name,", using fallback logic")),e.isConnected?e.inGame?{status:"in_game",label:"In Game",color:"#ff6b35",icon:"\ud83c\udfae"}:{status:"lobby",label:"In Lobby",color:"#4caf50",icon:"\ud83d\udfe2"}:{status:"disconnected",label:"Offline",color:"#666",icon:"\u26ab"}},ee=(0,i.useMemo)((()=>v.reduce(((e,t)=>(e.total++,"game"===t.currentLocation||t.inGame?e.inGameCount++:t.isConnected&&"disconnected"!==t.currentLocation?e.lobbyCount++:e.disconnectedCount++,e)),{total:0,lobbyCount:0,inGameCount:0,disconnectedCount:0})),[v]),te=(0,i.useMemo)((()=>v.map((e=>po(po({},e),{},{playerStatus:Z(e),countdownTime:O.get(e.id),isDisconnectedWithTimer:!e.isConnected&&O.get(e.id)>0})))),[v,O]);return x||!d?(0,Ie.jsxs)("div",{className:"room-lobby",children:[(0,Ie.jsxs)("div",{className:"lobby-header",children:[(0,Ie.jsxs)("h2",{children:["Room ",s]}),(0,Ie.jsxs)("div",{className:"connection-status",children:["Status: ",d?"Connected":"Connecting..."," "]})]}),(0,Ie.jsxs)("div",{className:"loading-container",children:[(0,Ie.jsx)("div",{className:"loading-spinner"}),(0,Ie.jsx)("p",{children:d?"Joining room...":"Connecting to server..."})]})]}):j?(0,Ie.jsxs)("div",{className:"room-lobby",children:[(0,Ie.jsx)("div",{className:"lobby-header",children:(0,Ie.jsxs)("h2",{children:["Room ",s]})}),(0,Ie.jsx)("div",{className:"error-container",children:(0,Ie.jsxs)("div",{className:"error-message",children:[(0,Ie.jsx)("h3",{children:"Connection Error"}),(0,Ie.jsx)("p",{children:j}),(0,Ie.jsx)("div",{className:"error-actions",children:(0,Ie.jsx)("button",{onClick:Y,className:"leave-button",children:"Leave Room"})})]})})]}):(0,Ie.jsxs)("div",{className:"room-lobby",children:[(0,Ie.jsxs)("div",{className:"lobby-header",children:[(0,Ie.jsxs)("div",{className:"header-left-actions",children:[(0,Ie.jsx)("button",{onClick:Y,className:"leave-button",children:"Leave Room"}),m&&(0,Ie.jsx)("button",{onClick:()=>B(!0),className:"profile-settings-btn",title:"Profile Settings",children:"\u2699\ufe0f Profile"})]}),(0,Ie.jsxs)("div",{className:"room-info-header",children:[null!==_&&void 0!==_&&_.streamer_mode?(0,Ie.jsxs)("div",{className:"room-code-display streamer-mode",children:[I?s:"\u2022\u2022\u2022\u2022\u2022\u2022",C&&(0,Ie.jsx)("button",{className:"toggle-code-btn",onClick:()=>U(!I),title:I?"Hide code":"Show code",children:I?"\ud83d\ude48":"\ud83d\udc41\ufe0f"})]}):(0,Ie.jsx)("div",{className:"room-code-display",children:s}),(0,Ie.jsx)("div",{className:"room-status-section",children:(0,Ie.jsxs)("div",{className:"room-status-display",children:[(0,Ie.jsx)("span",{className:"status-label",children:"Status:"}),(0,Ie.jsx)("span",{className:"status-badge status-".concat(P),children:P.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase()))})]})}),(0,Ie.jsx)("div",{className:"room-actions",children:null!==_&&void 0!==_&&_.streamer_mode&&C?(0,Ie.jsx)("button",{className:"copy-link-btn",onClick:async()=>{try{const e=await fetch("/api/rooms/".concat(F.current,"/generate-invite"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok){const t=await e.json();return void f("Failed to generate invite: ".concat(t.error),"error")}const{inviteUrl:t}=await e.json();await navigator.clipboard.writeText(t),f("Invite link copied to clipboard!","success")}catch(j){console.error("Failed to generate invite:",j),f("Failed to generate invite link","error")}},children:"\ud83d\udd17 Generate Invite Link"}):null!==_&&void 0!==_&&_.streamer_mode?null:(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("button",{className:"copy-btn",onClick:()=>navigator.clipboard.writeText(s),children:"\ud83d\udccb Copy Code"}),(0,Ie.jsx)("button",{className:"copy-link-btn",onClick:()=>{const e="".concat(window.location.origin,"/?join=").concat(s);navigator.clipboard.writeText(e)},children:"\ud83d\udd17 Copy Link"}),(0,Ie.jsxs)("a",{className:"discord-btn",href:"https://discord.gg/kSBKr7PAUN",target:"_blank",rel:"noopener noreferrer",title:"Join Discord for voice chat",children:[(0,Ie.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})}),"Voice Chat"]})]})})]}),(0,Ie.jsx)("div",{style:{width:"180px"}})," "]}),(0,Ie.jsx)(dm,{isOpen:D,onClose:()=>B(!1),roomCode:s,isPremium:g}),(0,Ie.jsxs)("div",{className:"lobby-content",children:[(()=>{const{total:e,lobbyCount:t,inGameCount:n,disconnectedCount:r}=ee;return n+r>0&&e>0?(0,Ie.jsxs)("div",{className:"return-progress-banner",style:{margin:"12px 0 16px",padding:"10px 14px",borderRadius:"10px",background:"linear-gradient(90deg, rgba(56,189,248,0.15), rgba(16,185,129,0.15))",border:"1px solid rgba(148,163,184,0.35)",color:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ie.jsx)("div",{style:{fontWeight:600},children:"Return Progress"}),(0,Ie.jsxs)("div",{style:{fontSize:14},children:[(0,Ie.jsxs)("span",{title:"In lobby",style:{marginRight:12},children:["\ud83d\udfe2 ",t,"/",e]}),n>0&&(0,Ie.jsxs)("span",{title:"Still in game",style:{marginRight:12},children:["\ud83d\udfe0 ",n]}),r>0&&(0,Ie.jsxs)("span",{title:"Disconnected",children:["\ud83d\udd34 ",r]})]})]}):null})(),!C&&"waiting_for_players"!==P&&(0,Ie.jsx)("div",{className:"status-info-section",children:(0,Ie.jsxs)("div",{className:"status-info-card",children:[(0,Ie.jsxs)("div",{className:"status-info-icon",children:["active"===P&&"\ud83d\udd35","paused"===P&&"\ud83d\udfe1","finished"===P&&"\ud83d\udd34","abandoned"===P&&"\u26ab","launching"===P&&"\ufffd\ufffd"]}),(0,Ie.jsxs)("div",{className:"status-info-content",children:[(0,Ie.jsxs)("h4",{className:"status-info-title",children:["Room is ",P.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase()))]}),(0,Ie.jsxs)("p",{className:"status-info-description",children:["active"===P&&"The room is currently active. New players cannot join right now.","paused"===P&&"The room is paused. The host can resume or change the status.","finished"===P&&"This room has finished. The host can reopen it for new players.","abandoned"===P&&"This room has been abandoned. The host can reactivate it.","launching"===P&&"The room is launching. Please wait for the game to start."]})]})]})}),(0,Ie.jsxs)("div",{className:"players-section",children:[(0,Ie.jsxs)("div",{className:"section-header",children:[(0,Ie.jsx)("h3",{className:"section-title",children:"Players in Room"}),(null===(t=v.find((e=>e.name===z.current)))||void 0===t?void 0:t.inGame)&&(0,Ie.jsx)("button",{className:"return-to-lobby-btn",onClick:()=>{c&&d&&(console.log("\ud83d\udd04 Player returning to lobby"),c.emit("playerReturnToLobby",{roomCode:F.current,playerName:z.current}),C&&(console.log("\ud83d\udd04 Host returning to lobby - auto-updating room status"),setTimeout((()=>{if(v.find((e=>e.name===z.current))){const e=v.map((e=>e.name===z.current?po(po({},e),{},{inGame:!1,currentLocation:"lobby"}):e));X(e)}}),100)))},title:"Mark yourself as returned to lobby",children:"\ud83d\udd04 Return to Lobby"})]}),(0,Ie.jsx)("div",{className:"players-grid",children:te.map((e=>{const{playerStatus:t,countdownTime:n,isDisconnectedWithTimer:r}=e;return(0,Ie.jsxs)("div",{className:"player-card ".concat(e.isHost?"host":""," ").concat(t.status," ").concat(r?"disconnecting":""," ").concat("admin"===e.role?"premium-admin":"lifetime"===e.premiumTier?"premium-lifetime":"monthly"===e.premiumTier?"premium-monthly":""),children:[(0,Ie.jsxs)("div",{className:"player-card-content",children:[(0,Ie.jsxs)("div",{className:"player-avatar",children:[(0,Ie.jsx)(um,{avatarStyle:e.avatarStyle,avatarSeed:e.avatarSeed,avatarOptions:e.avatarOptions,name:e.name,size:120,isPremium:"admin"===e.role||"free"!==e.premiumTier,className:"avatar-image"}),("admin"===e.role||e.premiumTier&&"free"!==e.premiumTier)&&(0,Ie.jsx)("div",{className:"premium-indicator",title:"admin"===e.role?"Administrator":"".concat("lifetime"===e.premiumTier?"Lifetime":"Pro"," Member"),children:"admin"===e.role?"\ud83d\udcbb":"lifetime"===e.premiumTier?"\u2b50":"\ud83d\udc8e"})]}),(0,Ie.jsxs)("div",{className:"player-info",children:[(0,Ie.jsx)("span",{className:"player-name",children:e.name}),(0,Ie.jsxs)("div",{className:"player-badges",children:[e.isHost&&(0,Ie.jsx)("span",{className:"host-badge",children:"Host"}),"admin"===e.role?(0,Ie.jsx)("span",{className:"premium-badge lifetime",title:"Administrator",children:"\ud83d\udcbb ADMIN"}):(0,Ie.jsxs)(Ie.Fragment,{children:["lifetime"===e.premiumTier&&(0,Ie.jsx)("span",{className:"premium-badge lifetime",title:"Lifetime Premium Member",children:"\u2b50 PREMIUM"}),"monthly"===e.premiumTier&&(0,Ie.jsx)("span",{className:"premium-badge monthly",title:"Premium Member",children:"\ud83d\udc8e PRO"})]}),(0,Ie.jsxs)("span",{className:"status-badge",style:{backgroundColor:t.color},title:"".concat(e.name," is ").concat(t.label.toLowerCase()),children:[t.icon," ",t.label]}),r&&(0,Ie.jsxs)("span",{className:"countdown-badge",title:"Time until removed from room",children:["\u23f1\ufe0f ",n,"s"]})]})]})]}),C&&!e.isHost&&!r&&(0,Ie.jsxs)("div",{className:"player-actions",children:[(0,Ie.jsx)("button",{className:"make-host-btn",onClick:()=>$(e.id),title:"Make ".concat(e.name," the host"),children:"\ud83d\udc51 Make Host"}),(0,Ie.jsx)("button",{className:"kick-player-btn",onClick:()=>Q(e.id,e.name),title:"Kick ".concat(e.name," from the room"),children:"\ud83d\udc62 Kick"})]})]},e.id)}))})]}),(0,Ie.jsxs)("div",{className:"game-section",children:[(0,Ie.jsx)("h3",{className:"section-title",children:"Game Selection"}),b?(0,Ie.jsxs)("div",{className:"selected-game-card",children:[(0,Ie.jsx)("div",{className:"game-icon",children:M.icon}),(0,Ie.jsxs)("div",{className:"game-details",children:[(0,Ie.jsx)("h4",{children:M.name}),(0,Ie.jsx)("p",{children:M.description}),(0,Ie.jsxs)("span",{className:"max-players",children:["Max ",null!==(n=M.maxPlayers)&&void 0!==n?n:"??"," players"]})]}),C&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("button",{onClick:J,className:"start-game-button",disabled:!c||!d||R,children:R?"Starting Game...":"Start Game"}),(0,Ie.jsx)("button",{onClick:()=>{w(null),c&&d&&c.emit("selectGame",{gameType:null})},className:"change-game-btn",disabled:!c||!d,style:{marginTop:"1rem"},children:"Change Game"})]}),!C&&(0,Ie.jsx)("div",{style:{textAlign:"center"},children:(0,Ie.jsx)("p",{children:"Waiting for host to start the game..."})})]}):(0,Ie.jsx)(Qp,{onGameSelect:K,isHost:C,disabled:!c||!d})]})]}),_&&(0,Ie.jsx)("div",{className:"room-details",children:(0,Ie.jsxs)("small",{children:["Room created: ",new Date(_.created_at).toLocaleString(),(null===(r=_.metadata)||void 0===r?void 0:r.created_by_name)&&(0,Ie.jsxs)(Ie.Fragment,{children:[" by ",_.metadata.created_by_name]})]})})]})},pm=e=>{let{setIsInLobby:t,setLobbyLeaveFn:n}=e;const r=ne(),s=ee(),o=(0,i.useRef)(new Set),[a,l]=(0,i.useState)(!1),{socket:c,connectSocket:u}=ln(),[d,h]=(0,i.useState)([]),[f,p]=(0,i.useState)(!0),[m,g]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),[b,w]=(0,i.useState)(!1),[x,S]=(0,i.useState)(null),[j,k]=(0,i.useState)(""),[_,E]=(0,i.useState)(!1),[C,T]=(0,i.useState)(""),[P,N]=(0,i.useState)(""),[R,A]=(0,i.useState)(!1),O=(0,i.useCallback)((async()=>{try{console.log("[HomePage] \ud83c\udfae Fetching games from /api/games...");const e=await Wp.get("/api/games");console.log("[HomePage] \ud83d\udce6 Raw API response:",e.data);const t=e.data.games||e.data;console.log("[HomePage] \u2705 Parsed games data:",t),console.log("[HomePage] \ud83d\udcca Number of games:",t.length),console.log("[HomePage] \ud83c\udfaf Game IDs:",t.map((e=>e.id))),h(t)}catch(n){var e,t;console.error("[HomePage] \u274c Error fetching games:",n),console.error("[HomePage] \ud83d\udccb Error details:",{message:n.message,response:null===(e=n.response)||void 0===e?void 0:e.data,status:null===(t=n.response)||void 0===t?void 0:t.status}),h([])}finally{p(!1)}}),[]);(0,i.useEffect)((()=>{O()}),[O]);const L=(0,i.useCallback)((()=>{g(!0)}),[]),I=(0,i.useCallback)((()=>{y(!0)}),[]),U=(0,i.useCallback)((()=>{w(!0)}),[]),D=(0,i.useCallback)((()=>{const e={name:sessionStorage.getItem("gamebuddies_playerName")||"",roomCode:sessionStorage.getItem("gamebuddies_roomCode")||"",playerId:sessionStorage.getItem("gamebuddies_playerId")||null,isHost:"true"===(sessionStorage.getItem("gamebuddies_isHost")||"")},t=sessionStorage.getItem("gamebuddies:return-session");if(t)try{var n,r;const s=JSON.parse(t);e.name=s.playerName||(null===(n=s.metadata)||void 0===n?void 0:n.name)||s.gbPlayerName||e.name,e.roomCode=(s.roomCode||s.gbRoomCode||e.roomCode||"").toUpperCase(),e.playerId=s.playerId||(null===(r=s.metadata)||void 0===r?void 0:r.playerId)||e.playerId;const o=s.isHost,i=s.gbIsHost;void 0!==o?e.isHost=!0===o||"true"===o:void 0!==i&&(e.isHost=!0===i||"true"===i)}catch(Cm){console.warn("[HomePage] Failed to parse stored return session data:",Cm)}return e}),[]),B=(0,i.useCallback)((function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!e)return;const o=t||sessionStorage.getItem("gamebuddies_playerName")||"",i="undefined"!==typeof window&&window.location?window.location.origin:"";sessionStorage.setItem("gamebuddies_roomCode",e),o&&sessionStorage.setItem("gamebuddies_playerName",o),sessionStorage.setItem("gamebuddies_isHost",String(!!n)),r&&sessionStorage.setItem("gamebuddies_playerId",r),s&&sessionStorage.setItem("gamebuddies_sessionToken",s),i&&sessionStorage.setItem("gamebuddies_returnUrl","".concat(i,"/lobby/").concat(e));const a=sessionStorage.getItem("gamebuddies_playerId")||null,l={roomCode:e,playerName:o,playerId:r||a,isHost:!!n,returnUrl:i?"".concat(i,"/lobby/").concat(e):void 0,capturedAt:(new Date).toISOString(),source:"gamebuddies"};s&&(l.sessionToken=s);try{sessionStorage.setItem("gamebuddies:return-session",JSON.stringify(l))}catch(Cm){console.warn("[HomePage] Unable to persist return session metadata:",Cm)}}),[]),M=(0,i.useCallback)((()=>{E(!1),S(null),k(""),t(!1),n(null),sessionStorage.removeItem("gamebuddies_roomCode"),sessionStorage.removeItem("gamebuddies_playerName"),sessionStorage.removeItem("gamebuddies_isHost"),sessionStorage.removeItem("gamebuddies_playerId"),sessionStorage.removeItem("gamebuddies_sessionToken"),sessionStorage.removeItem("gamebuddies_returnUrl"),sessionStorage.removeItem("gamebuddies:return-session"),r("/",{replace:!0})}),[r,t,n]),F=(0,i.useCallback)((e=>{var r,s;S(e),k(e.playerName),g(!1),E(!0),t(!0),n((()=>M)),B(e.roomCode,e.playerName,null===(r=e.isHost)||void 0===r||r,null!==(s=e.playerId)&&void 0!==s?s:null)}),[M,B,t,n]),z=(0,i.useCallback)((e=>{var r;S(e),k(e.playerName),y(!1),E(!0),t(!0),n((()=>M)),B(e.roomCode,e.playerName,e.isHost,null!==(r=e.playerId)&&void 0!==r?r:null),A(!1)}),[M,B,t,n]),V=(0,i.useCallback)((()=>{g(!1),y(!1),w(!1),T(""),N(""),A(!1)}),[]),H=(0,i.useCallback)((e=>{w(!1),T(e.roomCode);const{name:t}=D();N(t),A(Boolean(t)),y(!0)}),[D]),G=(0,i.useCallback)((async function(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!r)return!1;l(!0);try{var o,i;const a=c||u(),l=a&&a.id?a.id:void 0,d=await fetch("/api/v2/game/sessions/recover",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:r,socketId:l})});if(!d.ok)throw new Error("Session recovery request failed");const h=await d.json(),f=h.playerState||{},p=s||(null===f||void 0===f||null===(o=f.user)||void 0===o?void 0:o.display_name)||(null===f||void 0===f||null===(i=f.user)||void 0===i?void 0:i.username)||(null===f||void 0===f?void 0:f.display_name)||(null===f||void 0===f?void 0:f.username)||"Player",m=(h.roomCode||e||"").toUpperCase(),g=h.playerId||(null===f||void 0===f?void 0:f.user_id)||(null===f||void 0===f?void 0:f.id)||null,v="host"===(null===f||void 0===f?void 0:f.role);return S({roomCode:m,playerName:p,isHost:!!v}),k(p),y(!1),E(!0),t(!0),A(!1),N(p),n((()=>M)),B(m,p,v,g,r),!0}catch(a){console.error("[HomePage] Session recovery failed:",a),y(!0),T(e);const{name:t}=D(),n=s||t;return N(n),A(Boolean(n)),!1}finally{l(!1)}}),[c,u,M,B,t,n,D]);return(0,i.useEffect)((()=>{if(_)return;const e=new URLSearchParams(s.search).get("invite");if(!e)return;const t="invite:".concat(e);o.current.has(t)||(console.log("[HomePage] Found invite parameter:",e),(async()=>{try{const n=await fetch("/api/invites/resolve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inviteToken:e})});if(!n.ok){const e=await n.json();return void alert("Invite error: ".concat(e.error||"Invalid or expired invite"))}const{roomCode:r}=await n.json(),{name:s}=D();T(r),N(s),A(Boolean(s)),y(!0),o.current.add(t);const i=new URL(window.location.href);i.searchParams.delete("invite"),window.history.replaceState({},"",i.toString())}catch(n){console.error("[HomePage] Failed to resolve invite:",n),alert("Failed to resolve invite link. Please try again.")}})())}),[s.search,_,D]),(0,i.useEffect)((()=>{if(_)return;const e=new URLSearchParams(s.search).get("return");if(!e)return;const t="return:".concat(e);o.current.has(t)||(console.log("[HomePage] Found return session parameter:",e.substring(0,8)+"..."),(async()=>{try{const n=await fetch("/api/game-sessions/".concat(e));if(!n.ok){const e=await n.json();return void alert("Return session error: ".concat(e.error||"Invalid or expired session"))}const{roomCode:r,streamerMode:s}=await n.json();console.log("[HomePage] Session resolved to room:",r);const{name:i}=D();T(r),N(i),A(Boolean(i)),y(!0),o.current.add(t);const a=new URL(window.location.href);a.searchParams.delete("return"),window.history.replaceState({},"",a.toString())}catch(n){console.error("[HomePage] Failed to resolve return session:",n),alert("Failed to return to room. Session may have expired.")}})())}),[s.search,_,D]),(0,i.useEffect)((()=>{if(_)return;const e=new URLSearchParams(s.search),t=e.get("join");if(!t)return;const n=t.trim().toUpperCase(),r=e.get("name")||e.get("player")||"",{name:i}=D(),a=r||i,l="join:".concat(n,":").concat(a);o.current.has(l)||(console.log("[HomePage] Found join parameter:",n),T(n),N(a),A(Boolean(a)),y(!0),o.current.add(l))}),[s.search,_,D]),(0,i.useEffect)((()=>{if("/lobby"!==s.pathname&&"/lobby/"!==s.pathname)return;if(_||a)return;const e=new URLSearchParams(s.search),t=e.get("session");if(!t)return;const n="lobby-session-only:".concat(t);o.current.has(n)||(console.log("[HomePage] \ud83c\udfab Found session-only URL (streamer mode):",t.substring(0,20)+"..."),(async()=>{try{const r=e.get("name")||e.get("player")||"",s=await fetch("/api/game-sessions/".concat(t));if(!s.ok)throw new Error("Session resolution failed");const{roomCode:i,playerId:a,playerName:l,metadata:c}=await s.json(),{name:u}=D(),d=l||(null===c||void 0===c?void 0:c.player_name)||u||r;console.log("[HomePage] \u2705 Session resolved to room:",i,"player:",d,{hasPlayerName:!!l,hasStoredName:!!u,isGenericSession:!a}),T(i),N(d),A(Boolean(d)),y(!0),o.current.add(n);const h=new URL(window.location.href);h.searchParams.delete("session"),window.history.replaceState({},"",h.toString())}catch(r){console.error("[HomePage] Session resolution failed:",r),alert("Failed to return to room. Session may have expired.")}})())}),[s.pathname,s.search,_,a,G]),(0,i.useEffect)((()=>{const e=s.pathname.match(/^\/lobby\/([A-Za-z0-9-]+)/i);if(!e)return;const t=e[1].toUpperCase(),n=new URLSearchParams(s.search),r=n.get("session"),i=n.get("name")||n.get("player")||"",{name:l}=D(),c=i||l,u="lobby:".concat(t,":").concat(r||c);o.current.has(u)||_||a||(r?(async()=>{const e=await G(t,r,i);if(o.current.add(u),e&&n.has("session")){const e=new URL(window.location.href);e.searchParams.delete("session"),window.history.replaceState({},"",e.toString())}})():(T(t),N(c),A(Boolean(c)),y(!0),o.current.add(u)))}),[s.pathname,s.search,_,a,G,D]),_&&x?(0,Ie.jsx)(fm,{roomCode:x.roomCode,playerName:j,isHost:x.isHost,onLeave:M}):(0,Ie.jsxs)("div",{className:"homepage",children:[(0,Ie.jsx)("div",{className:"background-animation",children:(0,Ie.jsx)("div",{className:"floating-elements",children:[...Array(15)].map(((e,t)=>(0,Ie.jsx)("div",{className:"floating-element element-".concat(t+1)},t)))})}),(0,Ie.jsx)("div",{className:"beta-disclaimer",children:(0,Ie.jsxs)("div",{className:"beta-disclaimer-content",children:[(0,Ie.jsx)("span",{className:"beta-badge",children:"\u26a0\ufe0f BETA"}),(0,Ie.jsxs)("span",{className:"beta-text",children:["GameBuddies.io is currently in ",(0,Ie.jsx)("strong",{children:"beta testing"}),". Some features may not work as expected. We're actively developing and improving the platform. Thanks for your patience! \ud83d\ude80"]})]})}),(0,Ie.jsx)("section",{className:"hero",children:(0,Ie.jsxs)(bh.div,{className:"hero-content",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},children:[(0,Ie.jsx)(bh.div,{className:"hero-badge",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.2},children:(0,Ie.jsx)("span",{className:"badge-text",children:"\ud83c\udfae Now Live"})}),(0,Ie.jsxs)(bh.h1,{className:"hero-title",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},children:[(0,Ie.jsx)("span",{className:"brand-text",children:"GameBuddies"}),(0,Ie.jsx)("span",{className:"brand-dot",children:".io"})]}),(0,Ie.jsx)(bh.p,{className:"hero-subtitle",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},children:(0,Ie.jsx)("span",{className:"subtitle-highlight",children:"Connect, Play, and Have Fun Together"})}),(0,Ie.jsxs)(bh.div,{className:"hero-buttons",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.7},children:[(0,Ie.jsxs)(bh.button,{className:"cta-button primary",onClick:L,whileHover:{scale:1.05,y:-3},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[(0,Ie.jsx)("span",{className:"button-text",children:"Create Room"}),(0,Ie.jsx)("span",{className:"button-icon",children:"\ud83d\ude80"})]}),(0,Ie.jsxs)(bh.button,{className:"cta-button secondary",onClick:I,whileHover:{scale:1.05,y:-3},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[(0,Ie.jsx)("span",{className:"button-text",children:"Join Room"}),(0,Ie.jsx)("span",{className:"button-icon",children:"\ud83c\udfaf"})]}),(0,Ie.jsxs)(bh.button,{className:"cta-button secondary",onClick:U,whileHover:{scale:1.05,y:-3},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[(0,Ie.jsx)("span",{className:"button-text",children:"Browse Rooms"}),(0,Ie.jsx)("span",{className:"button-icon",children:"\ud83c\udf0d"})]}),(0,Ie.jsxs)(bh.a,{className:"cta-button discord",href:"https://discord.gg/kSBKr7PAUN",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05,y:-3},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[(0,Ie.jsx)("span",{className:"button-text",children:"Join Discord"}),(0,Ie.jsx)("span",{className:"button-icon",children:(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})})})]})]})]})}),(0,Ie.jsx)("section",{className:"games-section",id:"games-section",children:(0,Ie.jsxs)("div",{className:"container",children:[(0,Ie.jsx)(bh.div,{className:"section-header",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:(0,Ie.jsx)("h2",{className:"section-title",children:"Quick Play Games"})}),f?(0,Ie.jsxs)("div",{className:"loading-container",children:[(0,Ie.jsx)("div",{className:"loading-spinner"}),(0,Ie.jsx)("p",{className:"loading-text",children:"Loading awesome games..."})]}):(0,Ie.jsx)("div",{className:"games-grid",children:d.map(((e,t)=>(0,Ie.jsx)(bh.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},viewport:{once:!0},children:(0,Ie.jsx)(Kp,{game:e})},e.id)))})]})}),(0,Ie.jsx)("section",{className:"cta-section",children:(0,Ie.jsx)("div",{className:"container",children:(0,Ie.jsxs)(bh.div,{className:"cta-content",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.8},viewport:{once:!0},children:[(0,Ie.jsx)("h2",{className:"cta-title",children:"Ready to Start Gaming?"}),(0,Ie.jsxs)(bh.button,{className:"cta-button large",onClick:L,whileHover:{scale:1.05,y:-3},whileTap:{scale:.95},children:[(0,Ie.jsx)("span",{className:"button-text",children:"Start Playing Now"}),(0,Ie.jsx)("span",{className:"button-icon",children:"\ud83c\udfae"})]})]})})}),m&&(0,Ie.jsx)(Jp,{onRoomCreated:F,onCancel:V}),v&&(0,Ie.jsx)(Yp,{initialRoomCode:C,initialPlayerName:P,autoJoin:R,onRoomJoined:z,onCancel:V}),b&&(0,Ie.jsx)($p,{onRoomSelected:H,onCancel:V})]})},mm=()=>{const e=ee();return(0,i.useEffect)((()=>{if(e.hash){const t=document.querySelector(e.hash);t&&t.scrollIntoView({behavior:"smooth"})}}),[e]),(0,Ie.jsxs)("div",{className:"legal-page",children:[(0,Ie.jsx)("aside",{className:"legal-sidebar",children:(0,Ie.jsxs)("nav",{className:"legal-nav",children:[(0,Ie.jsx)("h3",{children:"Legal Information"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:(0,Ie.jsx)("a",{href:"#impressum",children:"Impressum"})}),(0,Ie.jsx)("li",{children:(0,Ie.jsx)("a",{href:"#privacy",children:"Privacy & Cookies"})}),(0,Ie.jsx)("li",{children:(0,Ie.jsx)("a",{href:"#terms",children:"Terms of Service"})})]})]})}),(0,Ie.jsxs)("main",{className:"legal-content",children:[(0,Ie.jsxs)("section",{id:"impressum",className:"legal-section",children:[(0,Ie.jsx)("h1",{children:"Impressum"}),(0,Ie.jsx)("p",{className:"legal-subtitle",children:"Legal Notice according to \xa7 5 TMG (German Telemedia Act)"}),(0,Ie.jsx)("h2",{children:"Service Provider"}),(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"[Your Name or Company Name]"}),(0,Ie.jsx)("br",{}),"[Street Address]",(0,Ie.jsx)("br",{}),"[Postal Code] [City]",(0,Ie.jsx)("br",{}),"Deutschland"]}),(0,Ie.jsx)("h2",{children:"Contact / Kontakt"}),(0,Ie.jsxs)("p",{children:["Email: contact@gamebuddies.io",(0,Ie.jsx)("br",{})]}),(0,Ie.jsx)("h2",{children:"VAT ID / Umsatzsteuer-ID"}),(0,Ie.jsxs)("p",{children:["Umsatzsteuer-Identifikationsnummer gem\xe4\xdf \xa727a UStG:",(0,Ie.jsx)("br",{}),"[If applicable: DE123456789]",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("em",{children:'If you don\'t have a VAT ID, state: "Not applicable - small business according to \xa719 UStG"'})]}),(0,Ie.jsx)("h2",{children:"EU Dispute Resolution / EU-Streitschlichtung"}),(0,Ie.jsxs)("p",{children:["The European Commission provides a platform for online dispute resolution (ODR):",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("a",{href:"https://ec.europa.eu/consumers/odr/",target:"_blank",rel:"noopener noreferrer",children:"https://ec.europa.eu/consumers/odr/"})]}),(0,Ie.jsx)("p",{children:"Our email address can be found above in the contact section."}),(0,Ie.jsx)("h2",{children:"Consumer Dispute Resolution"}),(0,Ie.jsx)("p",{children:"We are not obliged or willing to participate in dispute resolution proceedings before a consumer arbitration board."})]}),(0,Ie.jsx)("hr",{className:"legal-divider"}),(0,Ie.jsxs)("section",{id:"privacy",className:"legal-section",children:[(0,Ie.jsx)("h1",{children:"Privacy Policy & Cookies"}),(0,Ie.jsx)("p",{className:"legal-subtitle",children:"Datenschutzerkl\xe4rung (GDPR Compliance)"}),(0,Ie.jsx)("p",{className:"effective-date",children:"Last updated: November 18, 2025"}),(0,Ie.jsx)("h2",{children:"1. Data Controller"}),(0,Ie.jsxs)("p",{children:["Responsible for data processing on this website:",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("strong",{children:"[Your Name/Company]"}),(0,Ie.jsx)("br",{}),"[Address]",(0,Ie.jsx)("br",{}),"Email: privacy@gamebuddies.io"]}),(0,Ie.jsx)("h2",{children:"2. Data We Collect"}),(0,Ie.jsx)("h3",{children:"2.1 Account Data"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Guest Usernames:"})," Display names you choose when joining rooms"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Player IDs:"})," Unique identifiers (UUID) assigned to your session"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Creation Timestamp:"})," When you created your guest account"]})]}),(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"Legal Basis:"})," Legitimate interest (GDPR Art. 6(1)(f)) - necessary for service provision"]}),(0,Ie.jsx)("h3",{children:"2.2 Session Data"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Room Codes:"})," 6-character codes for game rooms you create or join"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Session Tokens:"})," JWT tokens for authentication (expires after 3 hours)"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Connection Status:"})," Whether you're connected, in-game, or in lobby"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Game State:"})," Your current position/state within a game"]})]}),(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"Legal Basis:"})," Legitimate interest (GDPR Art. 6(1)(f)) - necessary for multiplayer gameplay"]}),(0,Ie.jsx)("h3",{children:"2.3 Technical Data"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"IP Addresses:"})," Logged temporarily by our hosting provider (Render.com) for security and fraud prevention"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Socket Connection IDs:"})," For real-time communication management"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Browser Information:"})," Standard HTTP headers (User-Agent, etc.)"]})]}),(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"Legal Basis:"})," Legitimate interest (GDPR Art. 6(1)(f)) - security and service quality",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("strong",{children:"Note:"})," IP addresses are not permanently stored by GameBuddies.io, but may be temporarily logged by infrastructure providers."]}),(0,Ie.jsx)("h2",{children:"3. How We Use Your Data"}),(0,Ie.jsx)("p",{children:"We use the collected data to:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"Provide multiplayer game sessions and room management"}),(0,Ie.jsx)("li",{children:"Enable real-time communication between players"}),(0,Ie.jsx)("li",{children:"Authenticate users and prevent unauthorized access"}),(0,Ie.jsx)("li",{children:"Detect and prevent abuse, cheating, or malicious behavior"}),(0,Ie.jsx)("li",{children:"Maintain service quality and troubleshoot technical issues"}),(0,Ie.jsx)("li",{children:"Improve our services based on usage patterns"})]}),(0,Ie.jsx)("h2",{children:"4. Data Retention"}),(0,Ie.jsxs)("table",{className:"legal-table",children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("th",{children:"Data Type"}),(0,Ie.jsx)("th",{children:"Retention Period"})]})}),(0,Ie.jsxs)("tbody",{children:[(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"Active game sessions"}),(0,Ie.jsx)("td",{children:"Until room ends or 24 hours (whichever is first)"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"Guest accounts"}),(0,Ie.jsx)("td",{children:"90 days of inactivity"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"Audit logs (room events, status changes)"}),(0,Ie.jsx)("td",{children:"30 days"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"Connection metrics"}),(0,Ie.jsx)("td",{children:"90 days"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"Session tokens"}),(0,Ie.jsx)("td",{children:"3 hours (automatic expiration)"})]})]})]}),(0,Ie.jsx)("h2",{children:"5. Third-Party Services (Data Processors)"}),(0,Ie.jsx)("p",{children:"We use the following third-party services to operate our platform:"}),(0,Ie.jsx)("h3",{children:"5.1 Supabase (Database Hosting)"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Purpose:"})," Stores all user data, rooms, and game sessions"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Data shared:"})," All collected data (see sections 2.1-2.3)"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Location:"})," EU region (configurable)"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Privacy Policy:"})," ",(0,Ie.jsx)("a",{href:"https://supabase.com/privacy",target:"_blank",rel:"noopener noreferrer",children:"https://supabase.com/privacy"})]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"GDPR Compliance:"})," Data Processing Agreement (DPA) in place"]})]}),(0,Ie.jsx)("h3",{children:"5.2 Render.com (Application Hosting)"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Purpose:"})," Hosts the application servers"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Data shared:"})," HTTP request logs (including IP addresses)"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Location:"})," Frankfurt, Germany (EU region)"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Privacy Policy:"})," ",(0,Ie.jsx)("a",{href:"https://render.com/privacy",target:"_blank",rel:"noopener noreferrer",children:"https://render.com/privacy"})]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"GDPR Compliance:"})," EU hosting, DPA available"]})]}),(0,Ie.jsx)("h3",{children:"5.3 External Game Servers"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Purpose:"})," Host individual games (e.g., DDF, SUSD, BingoBuddies)"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Data shared:"})," Session tokens, room codes, player names"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Location:"})," Various Render.com regions"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Note:"})," Each game is a separate data processor"]})]}),(0,Ie.jsx)("h2",{children:"6. Data Transfers to Third Countries"}),(0,Ie.jsx)("p",{children:"Some of our service providers may be located in the United States or other non-EU countries. We ensure adequate protection through:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"EU Standard Contractual Clauses (SCCs)"}),(0,Ie.jsx)("li",{children:"GDPR-compliant Data Processing Agreements"}),(0,Ie.jsx)("li",{children:"Preference for EU-based hosting when available"})]}),(0,Ie.jsx)("h2",{children:"7. Your Rights Under GDPR"}),(0,Ie.jsx)("p",{children:"As a user in the European Union, you have the following rights:"}),(0,Ie.jsx)("h3",{children:"7.1 Right to Access (Article 15)"}),(0,Ie.jsxs)("p",{children:["You can request a copy of all personal data we hold about you.",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("strong",{children:"How:"})," Contact privacy@gamebuddies.io"]}),(0,Ie.jsx)("h3",{children:"7.2 Right to Rectification (Article 16)"}),(0,Ie.jsxs)("p",{children:["You can request correction of inaccurate personal data.",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("strong",{children:"How:"})," Contact privacy@gamebuddies.io"]}),(0,Ie.jsx)("h3",{children:'7.3 Right to Erasure / "Right to be Forgotten" (Article 17)'}),(0,Ie.jsxs)("p",{children:["You can request deletion of your personal data.",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("strong",{children:"How:"})," Contact privacy@gamebuddies.io"]}),(0,Ie.jsx)("h3",{children:"7.4 Right to Data Portability (Article 20)"}),(0,Ie.jsxs)("p",{children:["You can receive your data in a machine-readable format (JSON).",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("strong",{children:"How:"})," Contact privacy@gamebuddies.io"]}),(0,Ie.jsx)("h3",{children:"7.5 Right to Object (Article 21)"}),(0,Ie.jsxs)("p",{children:["You can object to processing based on legitimate interest.",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("strong",{children:"How:"})," Contact privacy@gamebuddies.io"]}),(0,Ie.jsx)("h3",{children:"7.6 Right to Restriction of Processing (Article 18)"}),(0,Ie.jsxs)("p",{children:["You can request temporary restriction of data processing.",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("strong",{children:"How:"})," Contact privacy@gamebuddies.io"]}),(0,Ie.jsx)("h3",{children:"7.7 Right to Withdraw Consent"}),(0,Ie.jsxs)("p",{children:["Where we process data based on your consent, you can withdraw consent at any time.",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("strong",{children:"How:"})," Contact privacy@gamebuddies.io or clear your browser storage"]}),(0,Ie.jsx)("h2",{children:"8. Right to Lodge a Complaint"}),(0,Ie.jsx)("p",{children:"You have the right to lodge a complaint with a supervisory authority if you believe your data protection rights have been violated."}),(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"German Federal Commissioner for Data Protection and Freedom of Information (BfDI):"}),(0,Ie.jsx)("br",{}),"Graurheindorfer Str. 153",(0,Ie.jsx)("br",{}),"53117 Bonn, Deutschland",(0,Ie.jsx)("br",{}),"Website: ",(0,Ie.jsx)("a",{href:"https://www.bfdi.bund.de/",target:"_blank",rel:"noopener noreferrer",children:"https://www.bfdi.bund.de/"}),(0,Ie.jsx)("br",{}),"Email: poststelle@bfdi.bund.de"]}),(0,Ie.jsx)("h2",{children:"9. Browser Storage"}),(0,Ie.jsxs)("p",{children:["We use browser sessionStorage to provide our service. We do ",(0,Ie.jsx)("strong",{children:"not use traditional HTTP cookies or localStorage"}),". All data is session-only and cleared when you close your browser."]}),(0,Ie.jsx)("h3",{children:"9.1 Session Storage (No Consent Required)"}),(0,Ie.jsx)("p",{children:"These items are strictly necessary for the service to function:"}),(0,Ie.jsxs)("table",{className:"legal-table",children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("th",{children:"Storage Key"}),(0,Ie.jsx)("th",{children:"Purpose"}),(0,Ie.jsx)("th",{children:"Expiration"})]})}),(0,Ie.jsxs)("tbody",{children:[(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"gamebuddies_roomCode"}),(0,Ie.jsx)("td",{children:"Current game room identifier"}),(0,Ie.jsx)("td",{children:"Session (cleared when browser closes)"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"gamebuddies_playerName"}),(0,Ie.jsx)("td",{children:"Your chosen display name"}),(0,Ie.jsx)("td",{children:"Session"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"gamebuddies_playerId"}),(0,Ie.jsx)("td",{children:"Your unique player ID (UUID)"}),(0,Ie.jsx)("td",{children:"Session"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"gamebuddies_sessionToken"}),(0,Ie.jsx)("td",{children:"Authentication token (JWT)"}),(0,Ie.jsx)("td",{children:"Session (max 3 hours)"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"gamebuddies_isHost"}),(0,Ie.jsx)("td",{children:"Whether you're the room host"}),(0,Ie.jsx)("td",{children:"Session"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"gamebuddies_returnUrl"}),(0,Ie.jsx)("td",{children:"Navigation state for returning to lobby"}),(0,Ie.jsx)("td",{children:"Session"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"gamebuddies:return-session"}),(0,Ie.jsx)("td",{children:"Complete session recovery data"}),(0,Ie.jsx)("td",{children:"Session"})]})]})]}),(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"Legal Basis:"})," All sessionStorage items are strictly necessary for contract performance (GDPR Article 6(1)(b)) and require no consent. Clearing them will prevent the service from functioning."]}),(0,Ie.jsx)("h3",{children:"9.2 Managing Storage"}),(0,Ie.jsx)("p",{children:"You can clear sessionStorage through:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Browser Settings:"})," Clear browsing data / site data in your browser settings"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Automatic Clearing:"})," All session data is automatically cleared when you close the browser"]})]}),(0,Ie.jsx)("h2",{children:"10. Security Measures"}),(0,Ie.jsx)("p",{children:"We implement industry-standard security measures to protect your data:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"HTTPS Encryption:"})," All communication is encrypted in transit (TLS/SSL)"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"JWT Authentication:"})," Secure token-based authentication with expiration"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Rate Limiting:"})," Protection against brute-force attacks and DDoS"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Content Security Policy (CSP):"})," Prevents cross-site scripting (XSS) attacks"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Helmet.js Security Headers:"})," Additional HTTP security headers"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Input Validation:"})," All user input is validated and sanitized"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Session Expiration:"})," Automatic logout after 24 hours of inactivity"]})]}),(0,Ie.jsx)("h2",{children:"11. Children's Privacy"}),(0,Ie.jsx)("p",{children:"Our service is not directed at children under 13 years of age. We do not knowingly collect personal data from children under 13."}),(0,Ie.jsx)("p",{children:"If you are a parent or guardian and believe your child under 13 has provided us with personal data, please contact us immediately at privacy@gamebuddies.io and we will delete it promptly."}),(0,Ie.jsx)("h2",{children:"12. Data Breach Notification"}),(0,Ie.jsx)("p",{children:"In the event of a data breach that poses a risk to your rights and freedoms, we will:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"Notify the relevant supervisory authority (BfDI) within 72 hours"}),(0,Ie.jsx)("li",{children:"Notify affected users without undue delay if high risk is determined"}),(0,Ie.jsx)("li",{children:"Provide information about the nature of the breach and mitigation steps"})]}),(0,Ie.jsx)("h2",{children:"13. Changes to This Privacy Policy"}),(0,Ie.jsx)("p",{children:'We may update this Privacy Policy from time to time to reflect changes in our practices or legal requirements. The "Last updated" date at the top indicates the most recent revision.'}),(0,Ie.jsx)("p",{children:"Material changes will be communicated via:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"Notice on the website homepage"}),(0,Ie.jsx)("li",{children:"Email notification (if you have provided an email address)"})]}),(0,Ie.jsx)("h2",{children:"14. Contact Us"}),(0,Ie.jsxs)("p",{children:["For any questions about this Privacy Policy or our data practices, please contact:",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("strong",{children:"Email:"})," privacy@gamebuddies.io",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("strong",{children:"Postal Address:"})," See Impressum section above"]})]}),(0,Ie.jsx)("hr",{className:"legal-divider"}),(0,Ie.jsxs)("section",{id:"terms",className:"legal-section",children:[(0,Ie.jsx)("h1",{children:"Terms of Service"}),(0,Ie.jsx)("p",{className:"legal-subtitle",children:"Allgemeine Gesch\xe4ftsbedingungen (AGB)"}),(0,Ie.jsx)("p",{className:"effective-date",children:"Last updated: November 18, 2025"}),(0,Ie.jsx)("h2",{children:"1. Acceptance of Terms"}),(0,Ie.jsx)("p",{children:'By accessing or using GameBuddies.io ("the Service"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, do not use the Service.'}),(0,Ie.jsx)("h2",{children:"2. Service Description"}),(0,Ie.jsx)("p",{children:"GameBuddies.io is a multiplayer game platform that connects users to various browser-based games. The Service includes:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"Room creation and management"}),(0,Ie.jsx)("li",{children:"Multiplayer game lobbies"}),(0,Ie.jsx)("li",{children:"Real-time communication between players"}),(0,Ie.jsx)("li",{children:"Integration with external game servers"})]}),(0,Ie.jsx)("h2",{children:"3. Guest Accounts"}),(0,Ie.jsx)("p",{children:"Currently, our Service operates on a guest account basis:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"No Registration Required:"})," You can join without creating an account"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Display Name:"})," You choose a display name when joining rooms"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Temporary:"})," Guest accounts may be deleted after 90 days of inactivity"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"No Password:"})," Sessions are managed via browser storage"]})]}),(0,Ie.jsx)("h2",{children:"4. User Conduct"}),(0,Ie.jsx)("p",{children:"You agree to use the Service responsibly. You shall NOT:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"Use offensive, abusive, or inappropriate display names"}),(0,Ie.jsx)("li",{children:"Harass, threaten, or harm other users"}),(0,Ie.jsx)("li",{children:"Cheat, exploit bugs, or use automated tools (bots)"}),(0,Ie.jsx)("li",{children:"Disrupt the Service or interfere with other users' enjoyment"}),(0,Ie.jsx)("li",{children:"Impersonate others or misrepresent your identity"}),(0,Ie.jsx)("li",{children:"Attempt to gain unauthorized access to the Service or other users' data"}),(0,Ie.jsx)("li",{children:"Violate any applicable laws or regulations"}),(0,Ie.jsx)("li",{children:"Use the Service for commercial purposes without permission"})]}),(0,Ie.jsx)("h2",{children:"5. Intellectual Property Rights"}),(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"Platform:"})," GameBuddies.io platform and its original content are owned by [Your Name/Company] and protected by copyright, trademark, and other intellectual property laws."]}),(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"Individual Games:"})," Each game accessible through our platform is owned by its respective developers and subject to their own terms."]}),(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"User Content:"})," You retain ownership of any content you create (e.g., room names, chat messages). By using the Service, you grant us a license to use this content solely for providing the Service."]}),(0,Ie.jsx)("h2",{children:"6. Disclaimer of Warranties"}),(0,Ie.jsx)("p",{children:'The Service is provided "AS IS" and "AS AVAILABLE" without warranties of any kind, either express or implied, including but not limited to:'}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"Implied warranties of merchantability or fitness for a particular purpose"}),(0,Ie.jsx)("li",{children:"Warranty of non-infringement"}),(0,Ie.jsx)("li",{children:"Warranty of uninterrupted or error-free service"}),(0,Ie.jsx)("li",{children:"Warranty of compatibility with all devices or browsers"})]}),(0,Ie.jsx)("p",{children:"We do not guarantee that:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"The Service will be available at all times"}),(0,Ie.jsx)("li",{children:"The Service will be free from errors or bugs"}),(0,Ie.jsx)("li",{children:"External games will always be accessible"}),(0,Ie.jsx)("li",{children:"Your data will never be lost (though we make reasonable efforts to prevent this)"})]}),(0,Ie.jsx)("h2",{children:"7. Limitation of Liability"}),(0,Ie.jsx)("p",{children:"Under German law (B\xfcrgerliches Gesetzbuch - BGB), our liability is limited as follows:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Unlimited Liability:"})," For intentional misconduct (Vorsatz) and gross negligence (grobe Fahrl\xe4ssigkeit)"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Unlimited Liability:"})," For injury to life, body, or health"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Unlimited Liability:"})," Under the Product Liability Act (Produkthaftungsgesetz)"]}),(0,Ie.jsxs)("li",{children:[(0,Ie.jsx)("strong",{children:"Limited Liability:"})," For slight negligence (leichte Fahrl\xe4ssigkeit), we are only liable for breach of essential contractual obligations (wesentliche Vertragspflichten)"]})]}),(0,Ie.jsx)("p",{children:"In no event shall we be liable for:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"Indirect, incidental, special, or consequential damages"}),(0,Ie.jsx)("li",{children:"Loss of profits, revenue, or data"}),(0,Ie.jsx)("li",{children:"Interruption of business"}),(0,Ie.jsx)("li",{children:"Actions or content of other users"}),(0,Ie.jsx)("li",{children:"Issues with external game servers not operated by us"})]}),(0,Ie.jsx)("h2",{children:"8. Service Modifications and Termination"}),(0,Ie.jsx)("p",{children:"We reserve the right to:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"Modify, suspend, or discontinue the Service (or any part of it) at any time"}),(0,Ie.jsx)("li",{children:"Update these Terms with reasonable notice"}),(0,Ie.jsx)("li",{children:"Remove or modify game integrations"})]}),(0,Ie.jsx)("p",{children:"We may suspend or terminate your access to the Service immediately if:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"You violate these Terms"}),(0,Ie.jsx)("li",{children:"You engage in abusive or harmful behavior"}),(0,Ie.jsx)("li",{children:"Required by law or legal process"}),(0,Ie.jsx)("li",{children:"Your account has been inactive for more than 90 days"})]}),(0,Ie.jsx)("h2",{children:"9. Age Restrictions"}),(0,Ie.jsx)("p",{children:"You must be at least 13 years old to use this Service. If you are under 18, you must have permission from a parent or guardian."}),(0,Ie.jsx)("p",{children:"We comply with:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"COPPA (Children's Online Privacy Protection Act) - USA"}),(0,Ie.jsx)("li",{children:"GDPR-K (GDPR provisions for children) - EU"})]}),(0,Ie.jsx)("h2",{children:"10. Governing Law and Jurisdiction"}),(0,Ie.jsx)("p",{children:"These Terms are governed by the laws of the Federal Republic of Germany (Bundesrepublik Deutschland), excluding the UN Convention on Contracts for the International Sale of Goods (CISG)."}),(0,Ie.jsx)("p",{children:"Any disputes arising from or relating to these Terms or the Service shall be subject to the exclusive jurisdiction of the courts in [Your City], Germany."}),(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"For consumers within the EU:"})," Nothing in this clause affects your statutory rights under consumer protection laws."]}),(0,Ie.jsx)("h2",{children:"11. Dispute Resolution"}),(0,Ie.jsx)("p",{children:"The European Commission provides a platform for online dispute resolution (ODR):"}),(0,Ie.jsx)("p",{children:(0,Ie.jsx)("a",{href:"https://ec.europa.eu/consumers/odr/",target:"_blank",rel:"noopener noreferrer",children:"https://ec.europa.eu/consumers/odr/"})}),(0,Ie.jsx)("p",{children:"We are not obliged or willing to participate in dispute resolution proceedings before a consumer arbitration board (Verbraucherschlichtungsstelle)."}),(0,Ie.jsx)("h2",{children:"12. Severability"}),(0,Ie.jsx)("p",{children:"If any provision of these Terms is found to be invalid or unenforceable, the remaining provisions shall remain in full force and effect."}),(0,Ie.jsx)("h2",{children:"13. Entire Agreement"}),(0,Ie.jsx)("p",{children:"These Terms, together with our Privacy Policy, constitute the entire agreement between you and GameBuddies.io regarding the use of the Service."}),(0,Ie.jsx)("h2",{children:"14. Changes to Terms"}),(0,Ie.jsx)("p",{children:"We may update these Terms from time to time. Changes will be effective:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"Immediately upon posting for minor changes (e.g., clarifications)"}),(0,Ie.jsx)("li",{children:"30 days after notice for material changes"})]}),(0,Ie.jsx)("p",{children:"Continued use of the Service after changes constitutes acceptance of the updated Terms."}),(0,Ie.jsx)("h2",{children:"15. Contact Information"}),(0,Ie.jsxs)("p",{children:["For questions about these Terms, please contact:",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("strong",{children:"Email:"})," legal@gamebuddies.io",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("strong",{children:"Postal Address:"})," See Impressum section above"]})]}),(0,Ie.jsx)("button",{className:"back-to-top",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"\u2191 Back to Top"})]})]})},gm=()=>{const e=ne(),[t]=Le(),{isAuthenticated:n,loading:r}=ao(),s=t.get("error"),[o,a]=(0,i.useState)("oauth"),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),[p,m]=(0,i.useState)(""),[g,v]=(0,i.useState)(""),[y,b]=(0,i.useState)(""),[w,x]=(0,i.useState)(!1),[S,j]=(0,i.useState)(!0);(0,i.useEffect)((()=>{n&&!r&&e("/")}),[n,r,e]);const k=async e=>{try{const t=await so(),{error:n}=await t.auth.signInWithOAuth({provider:e,options:{redirectTo:"".concat(window.location.origin,"/auth/callback"),scopes:"discord"===e?"identify email":void 0}});n&&(console.error("OAuth login error:",n),alert("Login failed. Please try again."))}catch(Cm){console.error("Login error:",Cm),alert("An error occurred. Please try again.")}},_=()=>{e("/")};return r?(0,Ie.jsx)("div",{className:"login-page",children:(0,Ie.jsx)("div",{className:"login-container",children:(0,Ie.jsx)("div",{className:"loading",children:"Loading..."})})}):(0,Ie.jsx)("div",{className:"login-page",children:(0,Ie.jsxs)("div",{className:"login-container",children:[(0,Ie.jsxs)("div",{className:"login-header",children:[(0,Ie.jsx)("h1",{children:"\ud83c\udfae GameBuddies.io"}),(0,Ie.jsx)("p",{className:"login-subtitle",children:"Play Games with Friends"})]}),s&&(0,Ie.jsx)("div",{className:"login-error",children:"auth_failed"===s?"Authentication failed. Please try again.":"An error occurred during login."}),g&&(0,Ie.jsx)("div",{className:"login-error",children:g}),y&&(0,Ie.jsx)("div",{className:"login-success",children:y}),(0,Ie.jsxs)("div",{className:"auth-mode-toggle",children:[(0,Ie.jsx)("button",{className:"mode-button ".concat("oauth"===o?"active":""),onClick:()=>{a("oauth"),v(""),b("")},children:"Quick Login"}),(0,Ie.jsx)("button",{className:"mode-button ".concat("email"===o?"active":""),onClick:()=>{a("email"),v(""),b("")},children:"Email / Password"})]}),(0,Ie.jsx)("div",{className:"login-options",children:"oauth"===o?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsxs)("button",{onClick:_,className:"auth-button guest-button",children:[(0,Ie.jsx)("span",{className:"button-icon",children:"\ud83c\udfae"}),(0,Ie.jsx)("span",{className:"button-text",children:"Continue as Guest"})]}),(0,Ie.jsx)("div",{className:"divider",children:(0,Ie.jsx)("span",{children:"or sign in with"})}),(0,Ie.jsxs)("button",{onClick:()=>k("discord"),className:"auth-button discord-button",children:[(0,Ie.jsx)("span",{className:"button-icon",children:(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 71 55",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Ie.jsx)("path",{d:"M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z",fill:"currentColor"})})}),(0,Ie.jsx)("span",{className:"button-text",children:"Login with Discord"})]}),(0,Ie.jsxs)("button",{onClick:()=>k("google"),className:"auth-button google-button",children:[(0,Ie.jsx)("span",{className:"button-icon",children:(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ie.jsx)("path",{d:"M47.532 24.5528C47.532 22.9214 47.3997 21.2811 47.1175 19.6761H24.48V28.9181H37.4434C36.9055 31.8988 35.177 34.5356 32.6461 36.2111V42.2078H40.3801C44.9217 38.0278 47.532 31.8547 47.532 24.5528Z",fill:"#4285F4"}),(0,Ie.jsx)("path",{d:"M24.48 48.0016C30.9529 48.0016 36.4116 45.8764 40.3888 42.2078L32.6549 36.2111C30.5031 37.675 27.7252 38.5039 24.4888 38.5039C18.2275 38.5039 12.9187 34.2798 11.0139 28.6006H3.03296V34.7825C7.10718 42.8868 15.4056 48.0016 24.48 48.0016Z",fill:"#34A853"}),(0,Ie.jsx)("path",{d:"M11.0051 28.6006C9.99973 25.6199 9.99973 22.3922 11.0051 19.4115V13.2296H3.03298C-0.371021 20.0112 -0.371021 28.0009 3.03298 34.7825L11.0051 28.6006Z",fill:"#FBBC04"}),(0,Ie.jsx)("path",{d:"M24.48 9.49932C27.9016 9.44641 31.2086 10.7339 33.6866 13.0973L40.5387 6.24523C36.2 2.17101 30.4414 -0.068932 24.48 0.00161733C15.4055 0.00161733 7.10718 5.11644 3.03296 13.2296L11.005 19.4115C12.901 13.7235 18.2187 9.49932 24.48 9.49932Z",fill:"#EA4335"})]})}),(0,Ie.jsx)("span",{className:"button-text",children:"Login with Google"})]}),(0,Ie.jsxs)("button",{onClick:()=>k("twitch"),className:"auth-button twitch-button",children:[(0,Ie.jsx)("span",{className:"button-icon",children:(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 256 268",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ie.jsx)("path",{d:"M17.4579 0L0 46.5579V232.757H63.9826V267.690H98.9144L133.689 232.757H186.358L256 163.118V0H17.4579ZM40.7166 23.2598H232.741V151.232L186.358 197.613H128.470L93.6951 232.757V197.613H40.7166V23.2598Z",fill:"currentColor"}),(0,Ie.jsx)("path",{d:"M104.724 139.287H128.470V69.8172H104.724V139.287Z",fill:"currentColor"}),(0,Ie.jsx)("path",{d:"M168.705 139.287H192.451V69.8172H168.705V139.287Z",fill:"currentColor"})]})}),(0,Ie.jsx)("span",{className:"button-text",children:"Login with Twitch"})]}),(0,Ie.jsxs)("button",{onClick:()=>k("azure"),className:"auth-button microsoft-button",children:[(0,Ie.jsx)("span",{className:"button-icon",children:(0,Ie.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ie.jsx)("path",{d:"M0 0H10.9091V10.9091H0V0Z",fill:"#F25022"}),(0,Ie.jsx)("path",{d:"M12.0909 0H23V10.9091H12.0909V0Z",fill:"#7FBA00"}),(0,Ie.jsx)("path",{d:"M0 12.0909H10.9091V23H0V12.0909Z",fill:"#00A4EF"}),(0,Ie.jsx)("path",{d:"M12.0909 12.0909H23V23H12.0909V12.0909Z",fill:"#FFB900"})]})}),(0,Ie.jsx)("span",{className:"button-text",children:"Login with Microsoft"})]}),(0,Ie.jsxs)("button",{onClick:()=>k("github"),className:"auth-button github-button",children:[(0,Ie.jsx)("span",{className:"button-icon",children:(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 98 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Ie.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z",fill:"currentColor"})})}),(0,Ie.jsx)("span",{className:"button-text",children:"Login with GitHub"})]})]}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsxs)("form",{onSubmit:l?async e=>{if(e.preventDefault(),v(""),b(""),console.log("\ud83d\udce7 [CLIENT] Starting email sign up...",{email:u}),u&&h&&p)if(h.length<6)v("Password must be at least 6 characters long.");else if(h===p){x(!0);try{var t;console.log("\ud83d\udce7 [CLIENT] Calling Supabase signUp...");const e=await so(),n="localhost"===window.location.hostname?"".concat(window.location.origin,"/auth/callback"):"https://gamebuddies.io/auth/callback";console.log("\ud83d\udce7 [CLIENT] Using redirect URL:",n);const{data:r,error:s}=await e.auth.signUp({email:u,password:h,options:{emailRedirectTo:n}});console.log("\ud83d\udce7 [CLIENT] Supabase signUp response:",{success:!s,hasUser:!(null===r||void 0===r||!r.user),userId:null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t.id,error:null===s||void 0===s?void 0:s.message}),s?(console.error("\u274c [CLIENT] Sign up error:",s),v(s.message)):(console.log("\u2705 [CLIENT] Sign up successful, waiting for email verification"),b("Registration successful! Please check your email to verify your account."),d(""),f(""),m(""))}catch(Cm){console.error("\u274c [CLIENT] Sign up exception:",Cm),v("An error occurred. Please try again.")}finally{x(!1)}}else v("Passwords do not match.");else v("Please fill in all fields.")}:async t=>{if(t.preventDefault(),v(""),b(""),console.log("\ud83d\udd11 [CLIENT] Starting email sign in...",{email:u}),u&&h){x(!0);try{var n;console.log("\ud83d\udd11 [CLIENT] Calling Supabase signInWithPassword...");const t=await so(),{data:r,error:s}=await t.auth.signInWithPassword({email:u,password:h});console.log("\ud83d\udd11 [CLIENT] Supabase signInWithPassword response:",{success:!s,hasUser:!(null===r||void 0===r||!r.user),userId:null===r||void 0===r||null===(n=r.user)||void 0===n?void 0:n.id,hasSession:!(null===r||void 0===r||!r.session),error:null===s||void 0===s?void 0:s.message}),s?(console.error("\u274c [CLIENT] Sign in error:",s),v(s.message)):(console.log("\u2705 [CLIENT] Sign in successful, redirecting to home..."),S?sessionStorage.removeItem("gamebuddies-session-temp"):(sessionStorage.setItem("gamebuddies-session-temp","true"),console.log("\ud83d\udd12 [CLIENT] Session marked as temporary (will clear on browser close)")),e("/"))}catch(Cm){console.error("\u274c [CLIENT] Sign in exception:",Cm),v("An error occurred. Please try again.")}finally{x(!1)}}else v("Please enter your email and password.")},className:"email-form",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Ie.jsx)("input",{type:"email",id:"email",value:u,onChange:e=>d(e.target.value),placeholder:"your@email.com",required:!0,disabled:w})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Ie.jsx)("input",{type:"password",id:"password",value:h,onChange:e=>f(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,disabled:w})]}),l&&(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,Ie.jsx)("input",{type:"password",id:"confirmPassword",value:p,onChange:e=>m(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,disabled:w})]}),!l&&(0,Ie.jsx)("div",{className:"remember-me-group",children:(0,Ie.jsxs)("label",{className:"remember-me-label",children:[(0,Ie.jsx)("input",{type:"checkbox",checked:S,onChange:e=>j(e.target.checked),disabled:w}),(0,Ie.jsx)("span",{className:"checkbox-custom"}),(0,Ie.jsx)("span",{className:"remember-me-text",children:"Remember me"})]})}),(0,Ie.jsx)("button",{type:"submit",className:"auth-button email-submit-button",disabled:w,children:w?"Processing...":l?"Sign Up":"Sign In"}),!l&&(0,Ie.jsx)("div",{className:"forgot-password",children:(0,Ie.jsx)("a",{href:"/password-reset",children:"Forgot password?"})}),(0,Ie.jsxs)("div",{className:"auth-toggle",children:[(0,Ie.jsx)("span",{children:l?"Already have an account?":"Don't have an account?"}),(0,Ie.jsx)("button",{type:"button",onClick:()=>{c(!l),v(""),b("")},className:"toggle-link",children:l?"Sign In":"Sign Up"})]})]}),(0,Ie.jsx)("div",{className:"divider",children:(0,Ie.jsx)("span",{children:"or continue as guest"})}),(0,Ie.jsxs)("button",{onClick:_,className:"auth-button guest-button",children:[(0,Ie.jsx)("span",{className:"button-icon",children:"\ud83c\udfae"}),(0,Ie.jsx)("span",{className:"button-text",children:"Continue as Guest"})]})]})}),(0,Ie.jsxs)("div",{className:"login-benefits",children:[(0,Ie.jsx)("p",{className:"benefits-title",children:"Why sign in?"}),(0,Ie.jsxs)("ul",{className:"benefits-list",children:[(0,Ie.jsx)("li",{children:"\ud83d\udcbe Save your game progress"}),(0,Ie.jsx)("li",{children:"\ud83c\udfc6 Unlock achievements"}),(0,Ie.jsx)("li",{children:"\ud83d\udc65 Find and play with friends"}),(0,Ie.jsx)("li",{children:"\u2b50 Access premium features"})]})]}),(0,Ie.jsx)("div",{className:"login-footer",children:(0,Ie.jsxs)("p",{children:["By signing in, you agree to our ",(0,Ie.jsx)("a",{href:"/terms",children:"Terms of Service"})," and ",(0,Ie.jsx)("a",{href:"/privacy",children:"Privacy Policy"})]})})]})})},vm=()=>{const e=ne(),[t,n]=(0,i.useState)("loading"),[r,s]=(0,i.useState)(null);(0,i.useEffect)((()=>{o()}),[]);const o=async()=>{try{console.log("\ud83d\udd10 [AUTH] Handling OAuth callback...");const t=await so(),{data:{session:r},error:o}=await t.auth.getSession();if(o)return console.error("\u274c [AUTH] Session error:",o),s(o.message),n("error"),void setTimeout((()=>e("/login?error=auth_failed")),2e3);if(!r)return console.error("\u274c [AUTH] No session found"),n("error"),void setTimeout((()=>e("/login?error=no_session")),2e3);console.log("\u2705 [AUTH] Session obtained:",{user_id:r.user.id,email:r.user.email,provider:r.user.app_metadata.provider}),n("syncing"),await a(r.user),n("success"),setTimeout((()=>e("/")),1e3)}catch(Cm){console.error("\u274c [AUTH] Callback error:",Cm),s(Cm.message),n("error"),setTimeout((()=>e("/login?error=callback_failed")),2e3)}},a=async e=>{try{console.log("\ud83d\udd04 [AUTH] Syncing user to database..."),console.log("\ud83d\udd04 [AUTH] User metadata:",{id:e.id,email:e.email,provider:e.app_metadata.provider,email_confirmed:e.email_confirmed_at,created_at:e.created_at,app_metadata:e.app_metadata,user_metadata:e.user_metadata});const t=e.app_metadata.provider||"email",n="email"===t;console.log("\ud83d\udd04 [AUTH] Auth type:",n?"EMAIL":"OAUTH","(".concat(t,")"));const r={supabase_user_id:e.id,email:e.email,email_confirmed_at:e.email_confirmed_at,oauth_provider:n?null:t,oauth_id:n?null:e.user_metadata.provider_id||e.id,avatar_url:e.user_metadata.avatar_url||e.user_metadata.picture||null,display_name:e.user_metadata.full_name||e.user_metadata.name||e.email.split("@")[0]};console.log("\ud83d\udd04 [AUTH] Sending sync payload:",r);const s=await fetch("/api/auth/sync-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(console.log("\ud83d\udd04 [AUTH] Sync response status:",s.status,s.statusText),!s.ok){const e=await s.json();throw console.error("\u274c [AUTH] Sync failed with error:",e),new Error(e.error||"Failed to sync user")}const o=await s.json();console.log("\u2705 [AUTH] User synced successfully:",o.user)}catch(Cm){console.error("\u274c [AUTH] User sync failed:",Cm),console.error("\u274c [AUTH] Error details:",{message:Cm.message,stack:Cm.stack})}};return(0,Ie.jsx)("div",{className:"auth-callback-page",children:(0,Ie.jsxs)("div",{className:"auth-callback-container",children:["loading"===t&&(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("div",{className:"spinner"}),(0,Ie.jsx)("h2",{children:"Logging you in..."}),(0,Ie.jsx)("p",{children:"Please wait while we complete your authentication"})]}),"syncing"===t&&(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("div",{className:"spinner"}),(0,Ie.jsx)("h2",{children:"Setting up your account..."}),(0,Ie.jsx)("p",{children:"Just a moment"})]}),"success"===t&&(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("div",{className:"success-icon",children:"\u2713"}),(0,Ie.jsx)("h2",{children:"Success!"}),(0,Ie.jsx)("p",{children:"Redirecting you now..."})]}),"error"===t&&(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("div",{className:"error-icon",children:"\u2717"}),(0,Ie.jsx)("h2",{children:"Authentication Failed"}),(0,Ie.jsx)("p",{children:r||"Something went wrong. Redirecting to login..."})]})]})})},ym=()=>{const e=ne(),[t]=Le(),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1);(0,i.useEffect)((()=>{"recovery"===t.get("type")&&g(!0)}),[t]);return(0,Ie.jsx)("div",{className:"password-reset-page",children:(0,Ie.jsxs)("div",{className:"password-reset-container",children:[(0,Ie.jsxs)("div",{className:"password-reset-header",children:[(0,Ie.jsx)("h1",{children:"\ud83c\udfae GameBuddies.io"}),(0,Ie.jsx)("p",{className:"password-reset-subtitle",children:m?"Set New Password":"Reset Password"})]}),c&&(0,Ie.jsx)("div",{className:"reset-error",children:c}),d&&(0,Ie.jsx)("div",{className:"reset-success",children:d}),m?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("p",{className:"reset-instructions",children:"Please enter your new password below."}),(0,Ie.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),u(""),h(""),s&&a)if(s.length<6)u("Password must be at least 6 characters long.");else if(s===a){p(!0);try{const t=await so(),{error:n}=await t.auth.updateUser({password:s});n?u(n.message):(h("Password updated successfully! Redirecting to home..."),setTimeout((()=>{e("/")}),2e3))}catch(Cm){console.error("Password update error:",Cm),u("An error occurred. Please try again.")}finally{p(!1)}}else u("Passwords do not match.");else u("Please fill in all fields.")},className:"reset-form",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"newPassword",children:"New Password"}),(0,Ie.jsx)("input",{type:"password",id:"newPassword",value:s,onChange:e=>o(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,disabled:f})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,Ie.jsx)("input",{type:"password",id:"confirmPassword",value:a,onChange:e=>l(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,disabled:f})]}),(0,Ie.jsx)("button",{type:"submit",className:"reset-button",disabled:f,children:f?"Updating...":"Update Password"})]})]}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("p",{className:"reset-instructions",children:"Enter your email address and we'll send you instructions to reset your password."}),(0,Ie.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u(""),h(""),n){p(!0);try{const e=await so(),t="localhost"===window.location.hostname?"".concat(window.location.origin,"/password-reset"):"https://gamebuddies.io/password-reset",{error:s}=await e.auth.resetPasswordForEmail(n,{redirectTo:t});s?u(s.message):(h("Password reset instructions have been sent to your email. Please check your inbox."),r(""))}catch(Cm){console.error("Password reset request error:",Cm),u("An error occurred. Please try again.")}finally{p(!1)}}else u("Please enter your email address.")},className:"reset-form",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Ie.jsx)("input",{type:"email",id:"email",value:n,onChange:e=>r(e.target.value),placeholder:"your@email.com",required:!0,disabled:f})]}),(0,Ie.jsx)("button",{type:"submit",className:"reset-button",disabled:f,children:f?"Sending...":"Send Reset Instructions"})]})]}),(0,Ie.jsx)("div",{className:"reset-footer",children:(0,Ie.jsx)("button",{onClick:()=>e("/login"),className:"back-link",children:"\u2190 Back to Login"})})]})})},bm=()=>{var e,t,n,r;const s=ne(),{user:o,isAuthenticated:a}=ao(),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(null),[h,f]=(0,i.useState)(!0),p="lifetime"===(null===o||void 0===o?void 0:o.premium_tier)||"monthly"===(null===o||void 0===o?void 0:o.premium_tier),m="lifetime"===(null===o||void 0===o?void 0:o.premium_tier),g="monthly"===(null===o||void 0===o?void 0:o.premium_tier);(0,i.useEffect)((()=>{(async()=>{console.log("\ud83d\udcb0 [PREMIUM] Fetching prices from Stripe...");try{const e=await fetch("/api/stripe/prices"),t=await e.json();if(!e.ok)throw new Error(t.error||"Failed to fetch prices");console.log("\ud83d\udcb0 [PREMIUM] Prices fetched:",t),d({monthly:{amount:(t.monthly.amount/100).toFixed(2),currency:t.monthly.currency.toUpperCase(),name:t.monthly.product.name},lifetime:{amount:(t.lifetime.amount/100).toFixed(2),currency:t.lifetime.currency.toUpperCase(),name:t.lifetime.product.name}}),f(!1)}catch(e){console.error("\u274c [PREMIUM] Failed to fetch prices:",e),d({monthly:{amount:"4.99",currency:"EUR",name:"Monthly Premium"},lifetime:{amount:"29.99",currency:"EUR",name:"Lifetime Premium"}}),f(!1)}})()}),[]);const v=async e=>{if(console.log("\ud83d\ude80 [PREMIUM CLIENT] handleUpgrade called with:",e),console.log("\ud83d\udd10 [PREMIUM CLIENT] Auth status:",{isAuthenticated:a,hasUser:!!o,userId:null===o||void 0===o?void 0:o.id}),!a)return console.warn("\u26a0\ufe0f [PREMIUM CLIENT] User not authenticated, redirecting to login"),void s("/login");if(l)return void console.warn("\u26a0\ufe0f [PREMIUM CLIENT] Already processing a payment, ignoring click");c(e);const t={userId:o.id,priceType:e};console.log("\ud83d\udcb3 [PREMIUM CLIENT] Creating checkout session"),console.log("\ud83d\udce6 [PREMIUM CLIENT] Payload:",t),console.log("\ud83c\udf10 [PREMIUM CLIENT] Fetch URL:","/api/stripe/create-checkout-session"),console.log("\ud83c\udf10 [PREMIUM CLIENT] Current origin:",window.location.origin);try{console.log("\ud83d\udce1 [PREMIUM CLIENT] Sending request...");const e=await so(),{data:{session:n}}=await e.auth.getSession();if(null===n||void 0===n||!n.access_token)throw new Error("Not authenticated");const r=await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.access_token)},body:JSON.stringify(t)});let s;console.log("\ud83d\udce1 [PREMIUM CLIENT] Response received:",{status:r.status,statusText:r.statusText,ok:r.ok,headers:{contentType:r.headers.get("content-type")}});const o=r.headers.get("content-type");if(!o||!o.includes("application/json")){const e=await r.text();throw console.error("\u274c [PREMIUM CLIENT] Non-JSON response:",e),new Error("API endpoint not found")}if(s=await r.json(),console.log("\ud83d\udce6 [PREMIUM CLIENT] Response data:",s),!r.ok)throw new Error(s.error||"Failed to create checkout session");console.log("\u2705 [PREMIUM CLIENT] Checkout session created successfully!"),console.log("\ud83d\udd17 [PREMIUM CLIENT] Stripe URL:",s.url),console.log("\ud83d\udd17 [PREMIUM CLIENT] Session ID:",s.sessionId),window.location.href=s.url}catch(n){console.error("\u274c [PREMIUM CLIENT] Checkout error:"),console.error("  Error name:",n.name),console.error("  Error message:",n.message),console.error("  Error stack:",n.stack),alert("Payment error: ".concat(n.message)),c(null)}},y=async()=>{console.log("\u2699\ufe0f  [PREMIUM] Opening customer portal");try{const e=await so(),{data:{session:t}}=await e.auth.getSession();if(null===t||void 0===t||!t.access_token)throw new Error("Not authenticated");const n=await fetch("/api/stripe/customer-portal",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.access_token)},body:JSON.stringify({userId:o.id})}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to create portal session");window.location.href=r.url}catch(e){console.error("\u274c [PREMIUM] Portal error:",e),alert("Error: ".concat(e.message))}};return(0,Ie.jsxs)("div",{className:"premium-page",children:[(0,Ie.jsxs)("div",{className:"premium-header",children:[(0,Ie.jsx)("h1",{children:"\ud83c\udfae GameBuddies Premium"}),(0,Ie.jsx)("p",{className:"premium-subtitle",children:p?"You are a premium member! Thank you for your support. \ud83d\udc9c":"Unlock the full GameBuddies experience"})]}),p&&(0,Ie.jsxs)("div",{className:"current-tier-banner",children:[(0,Ie.jsx)("div",{className:"tier-badge",children:m?"\u2b50 Lifetime Premium":"\ud83d\udc8e Monthly Premium"}),g&&(0,Ie.jsxs)("div",{className:"tier-info",children:[(0,Ie.jsx)("p",{children:"Your subscription renews automatically each month"}),(0,Ie.jsx)("button",{onClick:y,className:"manage-button",children:"Manage Subscription"})]})]}),(0,Ie.jsxs)("div",{className:"pricing-tiers",children:[(0,Ie.jsxs)("div",{className:"pricing-card ".concat(p?"":"current"),children:[(0,Ie.jsxs)("div",{className:"tier-header",children:[(0,Ie.jsx)("h2",{children:"Free"}),(0,Ie.jsxs)("div",{className:"price",children:[(0,Ie.jsx)("span",{className:"amount",children:"\u20ac0"}),(0,Ie.jsx)("span",{className:"period",children:"forever"})]})]}),(0,Ie.jsxs)("ul",{className:"features",children:[(0,Ie.jsx)("li",{className:"included",children:"\u2713 Play all games"}),(0,Ie.jsx)("li",{className:"included",children:"\u2713 Join rooms"}),(0,Ie.jsx)("li",{className:"included",children:"\u2713 Basic chat"}),(0,Ie.jsx)("li",{className:"not-included",children:"\u2717 Custom avatars"}),(0,Ie.jsx)("li",{className:"not-included",children:"\u2717 Ad-free experience"}),(0,Ie.jsx)("li",{className:"not-included",children:"\u2717 Premium features"})]}),!p&&(0,Ie.jsx)("div",{className:"card-footer",children:(0,Ie.jsx)("span",{className:"current-badge",children:"Current Plan"})})]}),(0,Ie.jsxs)("div",{className:"pricing-card ".concat(g?"current":""," ").concat(p?"":"recommended"),children:[!p&&(0,Ie.jsx)("div",{className:"recommended-badge",children:"Most Popular"}),(0,Ie.jsxs)("div",{className:"tier-header",children:[(0,Ie.jsx)("h2",{children:(null===u||void 0===u||null===(e=u.monthly)||void 0===e?void 0:e.name)||"Monthly Premium"}),(0,Ie.jsx)("div",{className:"price",children:h?(0,Ie.jsx)("span",{className:"amount",children:"Loading..."}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsxs)("span",{className:"amount",children:["\u20ac",(null===u||void 0===u||null===(t=u.monthly)||void 0===t?void 0:t.amount)||"4.99"]}),(0,Ie.jsx)("span",{className:"period",children:"/ month"})]})})]}),(0,Ie.jsxs)("ul",{className:"features",children:[(0,Ie.jsx)("li",{className:"included",children:"\u2713 All Free features"}),(0,Ie.jsx)("li",{className:"included",children:"\u2713 Ad-free experience"}),(0,Ie.jsx)("li",{className:"included",children:"\u2713 Custom avatars"}),(0,Ie.jsx)("li",{className:"included",children:"\u2713 Priority support"}),(0,Ie.jsx)("li",{className:"included",children:"\u2713 Exclusive games"}),(0,Ie.jsx)("li",{className:"included",children:"\u2713 Advanced statistics"}),(0,Ie.jsx)("li",{className:"included",children:"\u2713 Custom themes"}),(0,Ie.jsx)("li",{className:"info",children:"\u21bb Cancel anytime"})]}),(0,Ie.jsx)("div",{className:"card-footer",children:g?(0,Ie.jsx)("button",{onClick:y,className:"action-button manage",children:"Manage Subscription"}):m?(0,Ie.jsx)("button",{className:"action-button disabled",disabled:!0,children:"You have Lifetime"}):(0,Ie.jsx)("button",{onClick:()=>v("monthly"),className:"action-button",disabled:null!==l,children:"monthly"===l?"Processing...":"Subscribe Now"})})]}),(0,Ie.jsxs)("div",{className:"pricing-card premium ".concat(m?"current":""),children:[(0,Ie.jsx)("div",{className:"best-value-badge",children:"Best Value"}),(0,Ie.jsxs)("div",{className:"tier-header",children:[(0,Ie.jsx)("h2",{children:(null===u||void 0===u||null===(n=u.lifetime)||void 0===n?void 0:n.name)||"Lifetime Premium"}),(0,Ie.jsx)("div",{className:"price",children:h?(0,Ie.jsx)("span",{className:"amount",children:"Loading..."}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsxs)("span",{className:"amount",children:["\u20ac",(null===u||void 0===u||null===(r=u.lifetime)||void 0===r?void 0:r.amount)||"29.99"]}),(0,Ie.jsx)("span",{className:"period",children:"one-time"})]})}),!h&&u&&(0,Ie.jsxs)("div",{className:"savings",children:["Save \u20ac",(6*u.monthly.amount-u.lifetime.amount).toFixed(2),"+ over 6 months"]})]}),(0,Ie.jsxs)("ul",{className:"features",children:[(0,Ie.jsx)("li",{className:"included",children:"\u2713 All Monthly features"}),(0,Ie.jsx)("li",{className:"included",children:"\u2713 Lifetime access"}),(0,Ie.jsx)("li",{className:"included",children:"\u2713 Future features included"}),(0,Ie.jsx)("li",{className:"included",children:"\u2713 Priority updates"}),(0,Ie.jsx)("li",{className:"included",children:"\u2713 VIP badge"}),(0,Ie.jsx)("li",{className:"included",children:"\u2713 Early access to new games"}),(0,Ie.jsx)("li",{className:"included",children:"\u2713 Exclusive tournaments"}),(0,Ie.jsx)("li",{className:"premium-highlight",children:"\u2b50 Never pay again"})]}),(0,Ie.jsx)("div",{className:"card-footer",children:m?(0,Ie.jsxs)("div",{className:"lifetime-badge",children:[(0,Ie.jsx)("span",{className:"star",children:"\u2b50"}),(0,Ie.jsx)("span",{children:"Lifetime Member"})]}):(0,Ie.jsx)("button",{onClick:()=>v("lifetime"),className:"action-button lifetime",disabled:null!==l,children:"lifetime"===l?"Processing...":"Get Lifetime Access"})})]})]}),(0,Ie.jsxs)("div",{className:"premium-faq",children:[(0,Ie.jsx)("h2",{children:"Frequently Asked Questions"}),(0,Ie.jsxs)("div",{className:"faq-grid",children:[(0,Ie.jsxs)("div",{className:"faq-item",children:[(0,Ie.jsx)("h3",{children:"\ud83d\udcb3 What payment methods do you accept?"}),(0,Ie.jsx)("p",{children:"We accept all major credit cards, debit cards, and many local payment methods through Stripe."})]}),(0,Ie.jsxs)("div",{className:"faq-item",children:[(0,Ie.jsx)("h3",{children:"\ud83d\udd04 Can I cancel my monthly subscription?"}),(0,Ie.jsx)("p",{children:"Yes! You can cancel anytime. You'll keep premium access until the end of your billing period."})]}),(0,Ie.jsxs)("div",{className:"faq-item",children:[(0,Ie.jsx)("h3",{children:"\u2b50 What's the difference between Monthly and Lifetime?"}),(0,Ie.jsx)("p",{children:"Both include the same features. Lifetime is a one-time payment with lifetime access, while Monthly renews each month."})]}),(0,Ie.jsxs)("div",{className:"faq-item",children:[(0,Ie.jsx)("h3",{children:"\ud83d\udd12 Is my payment secure?"}),(0,Ie.jsx)("p",{children:"Absolutely! We use Stripe for payment processing. We never store your card details."})]}),(0,Ie.jsxs)("div",{className:"faq-item",children:[(0,Ie.jsx)("h3",{children:"\ud83c\udfae What premium features are included?"}),(0,Ie.jsx)("p",{children:"Ad-free experience, custom avatars, exclusive games, advanced stats, priority support, and more!"})]}),(0,Ie.jsxs)("div",{className:"faq-item",children:[(0,Ie.jsx)("h3",{children:"\ud83d\udcb0 Can I upgrade from Monthly to Lifetime?"}),(0,Ie.jsx)("p",{children:"Yes! Just purchase Lifetime. Your monthly subscription will be automatically cancelled."})]})]})]}),(0,Ie.jsxs)("div",{className:"premium-footer",children:[(0,Ie.jsxs)("p",{children:["Questions? Contact us at ",(0,Ie.jsx)("a",{href:"mailto:support@gamebuddies.io",children:"support@gamebuddies.io"})]}),(0,Ie.jsxs)("p",{className:"terms",children:["By purchasing, you agree to our ",(0,Ie.jsx)("a",{href:"/terms",children:"Terms of Service"})," and ",(0,Ie.jsx)("a",{href:"/privacy",children:"Privacy Policy"})]})]})]})},wm=()=>{const e=ne(),[t]=Le(),n=t.get("session_id");return(0,i.useEffect)((()=>{console.log("\u2705 [PAYMENT] Payment successful, session:",n);const t=setTimeout((()=>{e("/")}),5e3);return()=>clearTimeout(t)}),[n,e]),(0,Ie.jsx)("div",{className:"payment-result-page success",children:(0,Ie.jsxs)("div",{className:"result-container",children:[(0,Ie.jsx)("div",{className:"result-icon success-icon",children:"\u2705"}),(0,Ie.jsx)("h1",{children:"Payment Successful!"}),(0,Ie.jsx)("p",{className:"result-message",children:"Thank you for upgrading to Premium! Your account has been activated."}),(0,Ie.jsxs)("div",{className:"result-details",children:[(0,Ie.jsx)("h3",{children:"What's next?"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"\u2728 Enjoy your ad-free experience"}),(0,Ie.jsx)("li",{children:"\ud83c\udfa8 Customize your avatar"}),(0,Ie.jsx)("li",{children:"\ud83c\udfae Access exclusive games"}),(0,Ie.jsx)("li",{children:"\ud83d\udcca View advanced statistics"}),(0,Ie.jsx)("li",{children:"\u26a1 Get priority support"})]})]}),(0,Ie.jsxs)("div",{className:"result-actions",children:[(0,Ie.jsx)("button",{onClick:()=>e("/"),className:"primary-button",children:"Go to Homepage"}),(0,Ie.jsx)("button",{onClick:()=>e("/premium"),className:"secondary-button",children:"View Premium Benefits"})]}),(0,Ie.jsx)("p",{className:"redirect-notice",children:"You will be redirected to the homepage in 5 seconds..."})]})})},xm=()=>{const e=ne();return(0,Ie.jsx)("div",{className:"payment-result-page cancel",children:(0,Ie.jsxs)("div",{className:"result-container",children:[(0,Ie.jsx)("div",{className:"result-icon cancel-icon",children:"\u274c"}),(0,Ie.jsx)("h1",{children:"Payment Cancelled"}),(0,Ie.jsx)("p",{className:"result-message",children:"Your payment was cancelled. No charges were made."}),(0,Ie.jsxs)("div",{className:"result-details",children:[(0,Ie.jsx)("p",{children:"Changed your mind? You can try again anytime!"}),(0,Ie.jsx)("p",{children:"Premium features include:"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"\ud83d\udeab Ad-free experience"}),(0,Ie.jsx)("li",{children:"\ud83c\udfa8 Custom avatars"}),(0,Ie.jsx)("li",{children:"\ud83c\udfae Exclusive games"}),(0,Ie.jsx)("li",{children:"\ud83d\udcca Advanced statistics"}),(0,Ie.jsx)("li",{children:"\u26a1 Priority support"})]})]}),(0,Ie.jsxs)("div",{className:"result-actions",children:[(0,Ie.jsx)("button",{onClick:()=>e("/premium"),className:"primary-button",children:"View Premium Plans"}),(0,Ie.jsx)("button",{onClick:()=>e("/"),className:"secondary-button",children:"Go to Homepage"})]})]})})},Sm=()=>{var e;const t=ne(),{user:n,isAuthenticated:r,loading:s,session:o,refreshUser:a,isPremium:l}=ao(),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1);if(console.log("\ud83d\udcc4 [ACCOUNT PAGE] Rendering with auth state:",{isAuthenticated:r,hasUser:!!n,authLoading:s,hasSession:!!o,userId:null===n||void 0===n?void 0:n.id,username:null===n||void 0===n?void 0:n.username,isPremium:l,tier:null===n||void 0===n?void 0:n.premium_tier}),!r)return console.log("\ud83d\udcc4 [ACCOUNT PAGE] Not authenticated, redirecting to login..."),t("/login"),null;console.log("\ud83d\udcc4 [ACCOUNT PAGE] Authenticated, rendering account page");const m="lifetime"===(null===n||void 0===n?void 0:n.premium_tier),g="monthly"===(null===n||void 0===n?void 0:n.premium_tier),v=(null===n||void 0===n?void 0:n.subscription_canceled_at)&&l,y=!l&&(null===n||void 0===n?void 0:n.premium_expires_at),b=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})};return(0,Ie.jsx)("div",{className:"account-page",children:(0,Ie.jsxs)("div",{className:"account-container",children:[(0,Ie.jsxs)("div",{className:"account-header",children:[(0,Ie.jsx)("h1",{children:"Account Settings"}),(0,Ie.jsx)("p",{className:"account-subtitle",children:"Manage your profile and subscription"})]}),(0,Ie.jsxs)("div",{className:"account-section",children:[(0,Ie.jsx)("h2",{children:"Profile Information"}),(0,Ie.jsxs)("div",{className:"info-grid",children:[(0,Ie.jsxs)("div",{className:"info-item",children:[(0,Ie.jsx)("label",{children:"Username"}),(0,Ie.jsx)("div",{className:"info-value",children:(null===n||void 0===n?void 0:n.username)||(null===n||void 0===n?void 0:n.display_name)})]}),(0,Ie.jsxs)("div",{className:"info-item",children:[(0,Ie.jsx)("label",{children:"Email"}),(0,Ie.jsx)("div",{className:"info-value",children:null===n||void 0===n?void 0:n.email})]}),(0,Ie.jsxs)("div",{className:"info-item",children:[(0,Ie.jsx)("label",{children:"User ID"}),(0,Ie.jsxs)("div",{className:"info-value info-id",children:[null===n||void 0===n||null===(e=n.id)||void 0===e?void 0:e.substring(0,8),"..."]})]})]})]}),l&&(0,Ie.jsxs)("div",{className:"account-section avatar-section",children:[(0,Ie.jsx)("h2",{children:"Custom Avatar"}),(0,Ie.jsx)("p",{className:"section-description",children:"Customize your avatar to display in game lobbies"}),f?(0,Ie.jsx)(cm,{currentStyle:null===n||void 0===n?void 0:n.avatar_style,currentSeed:null===n||void 0===n?void 0:n.avatar_seed,currentOptions:(null===n||void 0===n?void 0:n.avatar_options)||{},username:(null===n||void 0===n?void 0:n.username)||(null===n||void 0===n?void 0:n.display_name),onSave:async e=>{console.log("\ud83c\udfa8 [ACCOUNT] Saving avatar preferences:",e),h(!0);try{if(console.log("\ud83c\udfa8 [ACCOUNT DEBUG] Using session from context:",{hasSession:!!o,hasToken:!(null===o||void 0===o||!o.access_token)}),null===o||void 0===o||!o.access_token)throw new Error("Not authenticated");const t=po({userId:n.id},e);console.log("\ud83c\udfa8 [ACCOUNT DEBUG] Making fetch request to /api/users/avatar"),console.log("\ud83c\udfa8 [ACCOUNT DEBUG] Request body:",t);const r=await fetch("/api/users/avatar",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.access_token)},body:JSON.stringify(t)});console.log("\ud83c\udfa8 [ACCOUNT DEBUG] Response received:",{status:r.status,statusText:r.statusText,ok:r.ok});const s=await r.json();if(console.log("\ud83c\udfa8 [ACCOUNT DEBUG] Response data:",s),!r.ok)throw new Error(s.error||"Failed to save avatar");console.log("\u2705 [ACCOUNT] Avatar saved successfully"),p(!1),a&&(console.log("\ud83c\udfa8 [ACCOUNT DEBUG] Refreshing user data..."),await a(),console.log("\ud83c\udfa8 [ACCOUNT DEBUG] User data refreshed"))}catch(t){console.error("\u274c [ACCOUNT] Avatar save error:",t),console.error("\u274c [ACCOUNT] Error stack:",t.stack),alert("Error: ".concat(t.message))}finally{h(!1)}},onCancel:()=>p(!1),loading:d,isPremium:l,userRole:null===n||void 0===n?void 0:n.role}):(0,Ie.jsxs)("div",{className:"current-avatar",children:[(0,Ie.jsx)("div",{className:"avatar-display",children:null!==n&&void 0!==n&&n.avatar_style?(0,Ie.jsx)(um,{avatarStyle:n.avatar_style,avatarSeed:n.avatar_seed,avatarOptions:n.avatar_options,name:n.username||n.display_name,size:120,isPremium:!0,className:"avatar-large"}):(0,Ie.jsx)("div",{className:"avatar-placeholder",children:(0,Ie.jsx)("span",{children:((null===n||void 0===n?void 0:n.username)||(null===n||void 0===n?void 0:n.display_name)||"?").charAt(0).toUpperCase()})})}),(0,Ie.jsx)("button",{onClick:()=>p(!0),className:"btn btn-secondary",children:null!==n&&void 0!==n&&n.avatar_style?"Change Avatar":"Create Avatar"})]})]}),(0,Ie.jsxs)("div",{className:"account-section subscription-section",children:[(0,Ie.jsx)("h2",{children:"Subscription Status"}),(0,Ie.jsxs)("div",{className:"status-card",children:[(0,Ie.jsxs)("div",{className:"status-header",children:[(0,Ie.jsx)("div",{className:"status-icon",children:"admin"===(null===n||void 0===n?void 0:n.role)?"\ud83d\udcbb":m?"\u2b50":g?"\ud83d\udc8e":"\ud83c\udfae"}),(0,Ie.jsxs)("div",{className:"status-info",children:[(0,Ie.jsx)("h3",{children:"admin"===(null===n||void 0===n?void 0:n.role)?"Administrator":m?"Lifetime Premium":g?"Monthly Premium":"Free Plan"}),(0,Ie.jsx)("p",{className:"status-description",children:"admin"===(null===n||void 0===n?void 0:n.role)?"You have full administrative access to the platform":m?"You have lifetime access to all premium features":v?"Your subscription is canceled and will end at the next billing date":g?"Your subscription renews automatically each month":y?"Your premium subscription has ended":"Upgrade to premium for exclusive features"})]})]}),l&&(0,Ie.jsxs)("div",{className:"subscription-details",children:[(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{className:"detail-label",children:"Status"}),(0,Ie.jsx)("span",{className:"detail-value ".concat(v?"status-canceled":"status-active"),children:v?"Canceled (Active until expiration)":"Active"})]}),g&&(null===n||void 0===n?void 0:n.premium_expires_at)&&(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{className:"detail-label",children:v?"Access Ends":"Next Billing Date"}),(0,Ie.jsx)("span",{className:"detail-value",children:b(n.premium_expires_at)})]}),v&&(null===n||void 0===n?void 0:n.subscription_canceled_at)&&(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{className:"detail-label",children:"Canceled On"}),(0,Ie.jsx)("span",{className:"detail-value",children:b(n.subscription_canceled_at)})]}),m&&(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{className:"detail-label",children:"Access"}),(0,Ie.jsx)("span",{className:"detail-value",children:"Forever"})]}),(null===n||void 0===n?void 0:n.stripe_customer_id)&&(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{className:"detail-label",children:"Customer ID"}),(0,Ie.jsxs)("span",{className:"detail-value info-id",children:[n.stripe_customer_id.substring(0,12),"..."]})]})]}),y&&(0,Ie.jsxs)("div",{className:"subscription-details",children:[(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{className:"detail-label",children:"Status"}),(0,Ie.jsx)("span",{className:"detail-value status-expired",children:"Expired"})]}),(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{className:"detail-label",children:"Subscription Ended"}),(0,Ie.jsx)("span",{className:"detail-value",children:b(n.premium_expires_at)})]}),(null===n||void 0===n?void 0:n.stripe_customer_id)&&(0,Ie.jsxs)("div",{className:"detail-row",children:[(0,Ie.jsx)("span",{className:"detail-label",children:"Customer ID"}),(0,Ie.jsxs)("span",{className:"detail-value info-id",children:[n.stripe_customer_id.substring(0,12),"..."]})]})]}),(0,Ie.jsx)("div",{className:"subscription-actions",children:l?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("button",{onClick:async()=>{console.log("\u2699\ufe0f  [ACCOUNT] Opening Stripe Customer Portal"),u(!0);try{const e=await so(),{data:{session:t}}=await e.auth.getSession();if(null===t||void 0===t||!t.access_token)throw new Error("Not authenticated");const r=await fetch("/api/stripe/customer-portal",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.access_token)},body:JSON.stringify({userId:n.id})}),s=await r.json();if(!r.ok)throw new Error(s.error||"Failed to open customer portal");console.log("\u2705 [ACCOUNT] Redirecting to Customer Portal"),window.location.href=s.url}catch(e){console.error("\u274c [ACCOUNT] Portal error:",e),alert("Error: ".concat(e.message)),u(!1)}},className:"btn btn-secondary",disabled:c,children:c?"Loading...":"Manage Subscription"}),g&&!v&&(0,Ie.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to cancel your subscription?\n\nYour premium access will continue until the end of your current billing period.")){console.log("\ud83d\udeab [ACCOUNT] Canceling subscription"),u(!0);try{const e=await so(),{data:{session:t}}=await e.auth.getSession();if(null===t||void 0===t||!t.access_token)throw new Error("Not authenticated");const r=await fetch("/api/stripe/cancel-subscription",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.access_token)},body:JSON.stringify({userId:n.id})}),s=await r.json();if(!r.ok)throw new Error(s.error||"Failed to cancel subscription");console.log("\u2705 [ACCOUNT] Subscription canceled"),alert("Your subscription has been canceled. Premium access will continue until the end of your billing period."),window.location.reload()}catch(e){console.error("\u274c [ACCOUNT] Cancel error:",e),alert("Error: ".concat(e.message)),u(!1)}}},className:"btn btn-danger",disabled:c,children:c?"Processing...":"Cancel Subscription"}),v&&(0,Ie.jsx)("div",{className:"cancellation-notice",children:(0,Ie.jsx)("p",{children:"\u26a0\ufe0f Your subscription is canceled. You can reactivate it through the Stripe Customer Portal."})})]}):(0,Ie.jsx)("button",{onClick:()=>t("/premium"),className:"btn btn-primary",children:"Upgrade to Premium"})})]})]}),l&&(0,Ie.jsxs)("div",{className:"account-section",children:[(0,Ie.jsx)("h2",{children:"Premium Features"}),(0,Ie.jsxs)("div",{className:"features-list",children:[(0,Ie.jsxs)("div",{className:"feature-item",children:[(0,Ie.jsx)("span",{className:"feature-icon",children:"\u2713"}),(0,Ie.jsx)("span",{className:"feature-text",children:"Ad-free experience"})]}),(0,Ie.jsxs)("div",{className:"feature-item",children:[(0,Ie.jsx)("span",{className:"feature-icon",children:"\u2713"}),(0,Ie.jsx)("span",{className:"feature-text",children:"Custom avatars"})]}),(0,Ie.jsxs)("div",{className:"feature-item",children:[(0,Ie.jsx)("span",{className:"feature-icon",children:"\u2713"}),(0,Ie.jsx)("span",{className:"feature-text",children:"Priority support"})]}),(0,Ie.jsxs)("div",{className:"feature-item",children:[(0,Ie.jsx)("span",{className:"feature-icon",children:"\u2713"}),(0,Ie.jsx)("span",{className:"feature-text",children:"Exclusive games"})]}),(0,Ie.jsxs)("div",{className:"feature-item",children:[(0,Ie.jsx)("span",{className:"feature-icon",children:"\u2713"}),(0,Ie.jsx)("span",{className:"feature-text",children:"Advanced statistics"})]}),m&&(0,Ie.jsxs)("div",{className:"feature-item premium",children:[(0,Ie.jsx)("span",{className:"feature-icon",children:"\u2b50"}),(0,Ie.jsx)("span",{className:"feature-text",children:"Lifetime access to all future features"})]})]})]}),(0,Ie.jsxs)("div",{className:"account-section help-section",children:[(0,Ie.jsx)("h2",{children:"Need Help?"}),(0,Ie.jsx)("p",{children:"If you have any questions about your subscription or account, please contact our support team."}),(0,Ie.jsx)("button",{onClick:()=>window.location.href="mailto:support@gamebuddies.io",className:"btn btn-outline",children:"Contact Support"})]})]})})},jm=()=>{var e;const[t,n]=(0,i.useState)(!1),[r,s]=(0,i.useState)({}),[o,a]=(0,i.useState)("");(0,i.useEffect)((()=>{const e=()=>{s({timestamp:(new Date).toISOString(),url:window.location.href,pathname:window.location.pathname,search:window.location.search,sessionStorage:{roomCode:sessionStorage.getItem("gamebuddies_roomCode"),playerName:sessionStorage.getItem("gamebuddies_playerName"),isHost:sessionStorage.getItem("gamebuddies_isHost"),gameType:sessionStorage.getItem("gamebuddies_gameType"),returnUrl:sessionStorage.getItem("gamebuddies_returnUrl")},environment:{hostname:window.location.hostname,origin:window.location.origin,userAgent:navigator.userAgent.substring(0,100)+"...",serverUrl:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SERVER_URL}})};e();const t=setInterval(e,5e3);return()=>clearInterval(t)}),[]),(0,i.useEffect)((()=>{const e=e=>{if("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName)return;const t=(o+e.key.toLowerCase()).slice(-5);a(t),console.log("\ud83d\udc1b [DEBUG PANEL] Key sequence:",t),"debug"===t&&(console.log("\ud83d\udc1b [DEBUG PANEL] Debug sequence detected! Showing panel."),n(!0),a(""))},t=()=>{a("")};let r;return o.length>0&&(r=setTimeout(t,2e3)),document.addEventListener("keypress",e),()=>{document.removeEventListener("keypress",e),r&&clearTimeout(r)}}),[o]);if(!(window.location.search.includes("debug=true")||window.location.search.includes("debug=1")||t))return null;const l={position:"fixed",top:"10px",right:"10px",zIndex:1e4,backgroundColor:"#333",color:"#fff",padding:"5px 10px",borderRadius:"3px",cursor:"pointer",fontSize:"12px",border:"none"};return t?(0,Ie.jsxs)("div",{style:{position:"fixed",top:"10px",right:"10px",zIndex:9999,backgroundColor:"rgba(0, 0, 0, 0.9)",color:"#00ff00",padding:"10px",borderRadius:"5px",fontSize:"12px",fontFamily:"monospace",maxWidth:"400px",maxHeight:"500px",overflow:"auto",border:"1px solid #333"},children:[(0,Ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[(0,Ie.jsx)("strong",{children:"\ud83d\udc1b GameBuddies Debug Panel"}),(0,Ie.jsx)("button",{onClick:()=>n(!1),style:{background:"none",border:"none",color:"#fff",cursor:"pointer"},children:"\u2715"})]}),(0,Ie.jsx)("div",{style:{marginBottom:"10px",fontSize:"10px",color:"#888"},children:'\ud83d\udca1 Tip: Type "debug" anywhere to show this panel'}),(0,Ie.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,Ie.jsx)("strong",{children:"Current State:"}),(0,Ie.jsx)("pre",{style:{margin:"5px 0",fontSize:"10px",whiteSpace:"pre-wrap"},children:JSON.stringify(r,null,2)})]}),(0,Ie.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,Ie.jsx)("strong",{children:"Quick Actions:"}),(0,Ie.jsxs)("div",{style:{display:"flex",gap:"5px",marginTop:"5px",flexWrap:"wrap"},children:[(0,Ie.jsx)("button",{onClick:()=>{console.log("\ud83d\udc1b [DEBUG] Current system state:",r),console.log("\ud83d\udc1b [DEBUG] Full session storage:",po({},Object.keys(sessionStorage).reduce(((e,t)=>(e[t]=sessionStorage.getItem(t),e)),{})))},style:{fontSize:"10px",padding:"2px 5px",background:"#444",color:"#fff",border:"none",borderRadius:"2px",cursor:"pointer"},children:"Log State"}),(0,Ie.jsx)("button",{onClick:()=>{Object.keys(sessionStorage).forEach((e=>{e.startsWith("gamebuddies_")&&sessionStorage.removeItem(e)})),console.log("\ud83d\udc1b [DEBUG] Cleared GameBuddies session storage")},style:{fontSize:"10px",padding:"2px 5px",background:"#600",color:"#fff",border:"none",borderRadius:"2px",cursor:"pointer"},children:"Clear Session"}),(0,Ie.jsx)("button",{onClick:()=>{const e=new URL(window.location);e.searchParams.set("debug","true"),window.history.replaceState({},"",e),console.log("\ud83d\udc1b [DEBUG] Added debug=true to URL")},style:{fontSize:"10px",padding:"2px 5px",background:"#006",color:"#fff",border:"none",borderRadius:"2px",cursor:"pointer"},children:"Persist Debug"})]})]}),(null===(e=r.sessionStorage)||void 0===e?void 0:e.roomCode)&&(0,Ie.jsxs)("div",{style:{padding:"5px",backgroundColor:"rgba(0, 255, 0, 0.1)",borderRadius:"3px"},children:[(0,Ie.jsx)("strong",{children:"\ud83c\udfae Active GameBuddies Session"}),(0,Ie.jsx)("br",{}),"Room: ",r.sessionStorage.roomCode,(0,Ie.jsx)("br",{}),"Player: ",r.sessionStorage.playerName,(0,Ie.jsx)("br",{}),"Host: ",r.sessionStorage.isHost]}),o.length>0&&(0,Ie.jsxs)("div",{style:{padding:"5px",backgroundColor:"rgba(255, 255, 0, 0.1)",borderRadius:"3px",marginTop:"5px",fontSize:"10px"},children:['Key sequence: "',o,'"']})]}):(0,Ie.jsx)("button",{style:l,onClick:()=>n(!0),title:"Show GameBuddies Debug Panel (or type 'debug')",children:"\ud83d\udc1b DEBUG"})};function km(){const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(null),s=ne();console.log("\ud83c\udfe0 [APP DEBUG] App component rendering:",{timestamp:(new Date).toISOString(),location:window.location.href,isInLobby:e});const o=(0,i.useCallback)((()=>{e&&n?(n(),setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})}),100)):(s("/",{replace:!0}),window.scrollTo({top:0,behavior:"smooth"}))}),[e,n,s]),a=(0,i.useCallback)((()=>{if(e&&n)n(),setTimeout((()=>{const e=document.getElementById("games-section");e&&e.scrollIntoView({behavior:"smooth"})}),100);else{const e=document.getElementById("games-section");e&&e.scrollIntoView({behavior:"smooth"})}}),[e,n]);return(0,Ie.jsxs)("div",{className:"App",children:[(0,Ie.jsx)(wh,{onNavigateHome:o,onNavigateGames:a,isInLobby:e}),(0,Ie.jsx)(lo,{})," ",(0,Ie.jsx)(jm,{}),(0,Ie.jsxs)(be,{children:[(0,Ie.jsx)(ve,{path:"/",element:(0,Ie.jsx)(pm,{setIsInLobby:t,setLobbyLeaveFn:r})}),(0,Ie.jsx)(ve,{path:"/lobby/:roomCode",element:(0,Ie.jsx)(pm,{setIsInLobby:t,setLobbyLeaveFn:r})}),(0,Ie.jsx)(ve,{path:"/login",element:(0,Ie.jsx)(gm,{})}),(0,Ie.jsx)(ve,{path:"/auth/callback",element:(0,Ie.jsx)(vm,{})}),(0,Ie.jsx)(ve,{path:"/password-reset",element:(0,Ie.jsx)(ym,{})}),(0,Ie.jsx)(ve,{path:"/premium",element:(0,Ie.jsx)(bm,{})}),(0,Ie.jsx)(ve,{path:"/account",element:(0,Ie.jsx)(Sm,{})}),(0,Ie.jsx)(ve,{path:"/payment/success",element:(0,Ie.jsx)(wm,{})}),(0,Ie.jsx)(ve,{path:"/payment/cancel",element:(0,Ie.jsx)(xm,{})}),(0,Ie.jsx)(ve,{path:"/legal",element:(0,Ie.jsx)(mm,{})}),(0,Ie.jsx)(ve,{path:"/impressum",element:(0,Ie.jsx)(mm,{})}),(0,Ie.jsx)(ve,{path:"/privacy",element:(0,Ie.jsx)(mm,{})}),(0,Ie.jsx)(ve,{path:"/datenschutz",element:(0,Ie.jsx)(mm,{})}),(0,Ie.jsx)(ve,{path:"/terms",element:(0,Ie.jsx)(mm,{})}),(0,Ie.jsx)(ve,{path:"/*",element:(0,Ie.jsx)(pm,{setIsInLobby:t,setLobbyLeaveFn:r})})]}),(0,Ie.jsx)(xh,{})]})}const _m=function(){return(0,Ie.jsx)(De,{children:(0,Ie.jsxs)(io,{children:[" ",(0,Ie.jsx)(cn,{children:(0,Ie.jsxs)(hn,{children:[" ",(0,Ie.jsx)(Te,{children:(0,Ie.jsx)(km,{})})]})})]})})};l.createRoot(document.getElementById("root")).render((0,Ie.jsx)(_m,{}))})();
//# sourceMappingURL=main.f6090d3d.js.map